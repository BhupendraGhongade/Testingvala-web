(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const l of c)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(c){const l={};return c.integrity&&(l.integrity=c.integrity),c.referrerPolicy&&(l.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?l.credentials="include":c.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(c){if(c.ep)return;c.ep=!0;const l=n(c);fetch(c.href,l)}})();function Rm(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function bg(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var s=o.default;if(typeof s=="function"){var n=function i(){var c=!1;try{c=this instanceof i}catch{}return c?Reflect.construct(s,arguments,this.constructor):s.apply(this,arguments)};n.prototype=s.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(o).forEach(function(i){var c=Object.getOwnPropertyDescriptor(o,i);Object.defineProperty(n,i,c.get?c:{enumerable:!0,get:function(){return o[i]}})}),n}var pc={exports:{}},Ta={},xc={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oh;function wg(){if(Oh)return Pe;Oh=1;var o=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function w(S){return S===null||typeof S!="object"?null:(S=v&&S[v]||S["@@iterator"],typeof S=="function"?S:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,I={};function L(S,$,se){this.props=S,this.context=$,this.refs=I,this.updater=se||k}L.prototype.isReactComponent={},L.prototype.setState=function(S,$){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,$,"setState")},L.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function M(){}M.prototype=L.prototype;function U(S,$,se){this.props=S,this.context=$,this.refs=I,this.updater=se||k}var R=U.prototype=new M;R.constructor=U,E(R,L.prototype),R.isPureReactComponent=!0;var D=Array.isArray,te=Object.prototype.hasOwnProperty,re={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function be(S,$,se){var xe,Q={},he=null,Ce=null;if($!=null)for(xe in $.ref!==void 0&&(Ce=$.ref),$.key!==void 0&&(he=""+$.key),$)te.call($,xe)&&!ae.hasOwnProperty(xe)&&(Q[xe]=$[xe]);var Ee=arguments.length-2;if(Ee===1)Q.children=se;else if(1<Ee){for(var Le=Array(Ee),ct=0;ct<Ee;ct++)Le[ct]=arguments[ct+2];Q.children=Le}if(S&&S.defaultProps)for(xe in Ee=S.defaultProps,Ee)Q[xe]===void 0&&(Q[xe]=Ee[xe]);return{$$typeof:o,type:S,key:he,ref:Ce,props:Q,_owner:re.current}}function V(S,$){return{$$typeof:o,type:S.type,key:$,ref:S.ref,props:S.props,_owner:S._owner}}function le(S){return typeof S=="object"&&S!==null&&S.$$typeof===o}function we(S){var $={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(se){return $[se]})}var ke=/\/+/g;function oe(S,$){return typeof S=="object"&&S!==null&&S.key!=null?we(""+S.key):$.toString(36)}function de(S,$,se,xe,Q){var he=typeof S;(he==="undefined"||he==="boolean")&&(S=null);var Ce=!1;if(S===null)Ce=!0;else switch(he){case"string":case"number":Ce=!0;break;case"object":switch(S.$$typeof){case o:case s:Ce=!0}}if(Ce)return Ce=S,Q=Q(Ce),S=xe===""?"."+oe(Ce,0):xe,D(Q)?(se="",S!=null&&(se=S.replace(ke,"$&/")+"/"),de(Q,$,se,"",function(ct){return ct})):Q!=null&&(le(Q)&&(Q=V(Q,se+(!Q.key||Ce&&Ce.key===Q.key?"":(""+Q.key).replace(ke,"$&/")+"/")+S)),$.push(Q)),1;if(Ce=0,xe=xe===""?".":xe+":",D(S))for(var Ee=0;Ee<S.length;Ee++){he=S[Ee];var Le=xe+oe(he,Ee);Ce+=de(he,$,se,Le,Q)}else if(Le=w(S),typeof Le=="function")for(S=Le.call(S),Ee=0;!(he=S.next()).done;)he=he.value,Le=xe+oe(he,Ee++),Ce+=de(he,$,se,Le,Q);else if(he==="object")throw $=String(S),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Ce}function ee(S,$,se){if(S==null)return S;var xe=[],Q=0;return de(S,xe,"","",function(he){return $.call(se,he,Q++)}),xe}function B(S){if(S._status===-1){var $=S._result;$=$(),$.then(function(se){(S._status===0||S._status===-1)&&(S._status=1,S._result=se)},function(se){(S._status===0||S._status===-1)&&(S._status=2,S._result=se)}),S._status===-1&&(S._status=0,S._result=$)}if(S._status===1)return S._result.default;throw S._result}var j={current:null},_={transition:null},A={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:_,ReactCurrentOwner:re};function z(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:ee,forEach:function(S,$,se){ee(S,function(){$.apply(this,arguments)},se)},count:function(S){var $=0;return ee(S,function(){$++}),$},toArray:function(S){return ee(S,function($){return $})||[]},only:function(S){if(!le(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Pe.Component=L,Pe.Fragment=n,Pe.Profiler=c,Pe.PureComponent=U,Pe.StrictMode=i,Pe.Suspense=g,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,Pe.act=z,Pe.cloneElement=function(S,$,se){if(S==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+S+".");var xe=E({},S.props),Q=S.key,he=S.ref,Ce=S._owner;if($!=null){if($.ref!==void 0&&(he=$.ref,Ce=re.current),$.key!==void 0&&(Q=""+$.key),S.type&&S.type.defaultProps)var Ee=S.type.defaultProps;for(Le in $)te.call($,Le)&&!ae.hasOwnProperty(Le)&&(xe[Le]=$[Le]===void 0&&Ee!==void 0?Ee[Le]:$[Le])}var Le=arguments.length-2;if(Le===1)xe.children=se;else if(1<Le){Ee=Array(Le);for(var ct=0;ct<Le;ct++)Ee[ct]=arguments[ct+2];xe.children=Ee}return{$$typeof:o,type:S.type,key:Q,ref:he,props:xe,_owner:Ce}},Pe.createContext=function(S){return S={$$typeof:u,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},S.Provider={$$typeof:l,_context:S},S.Consumer=S},Pe.createElement=be,Pe.createFactory=function(S){var $=be.bind(null,S);return $.type=S,$},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(S){return{$$typeof:f,render:S}},Pe.isValidElement=le,Pe.lazy=function(S){return{$$typeof:y,_payload:{_status:-1,_result:S},_init:B}},Pe.memo=function(S,$){return{$$typeof:p,type:S,compare:$===void 0?null:$}},Pe.startTransition=function(S){var $=_.transition;_.transition={};try{S()}finally{_.transition=$}},Pe.unstable_act=z,Pe.useCallback=function(S,$){return j.current.useCallback(S,$)},Pe.useContext=function(S){return j.current.useContext(S)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(S){return j.current.useDeferredValue(S)},Pe.useEffect=function(S,$){return j.current.useEffect(S,$)},Pe.useId=function(){return j.current.useId()},Pe.useImperativeHandle=function(S,$,se){return j.current.useImperativeHandle(S,$,se)},Pe.useInsertionEffect=function(S,$){return j.current.useInsertionEffect(S,$)},Pe.useLayoutEffect=function(S,$){return j.current.useLayoutEffect(S,$)},Pe.useMemo=function(S,$){return j.current.useMemo(S,$)},Pe.useReducer=function(S,$,se){return j.current.useReducer(S,$,se)},Pe.useRef=function(S){return j.current.useRef(S)},Pe.useState=function(S){return j.current.useState(S)},Pe.useSyncExternalStore=function(S,$,se){return j.current.useSyncExternalStore(S,$,se)},Pe.useTransition=function(){return j.current.useTransition()},Pe.version="18.3.1",Pe}var Lh;function Kc(){return Lh||(Lh=1,xc.exports=wg()),xc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fh;function jg(){if(Fh)return Ta;Fh=1;var o=Kc(),s=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,g,p){var y,v={},w=null,k=null;p!==void 0&&(w=""+p),g.key!==void 0&&(w=""+g.key),g.ref!==void 0&&(k=g.ref);for(y in g)i.call(g,y)&&!l.hasOwnProperty(y)&&(v[y]=g[y]);if(f&&f.defaultProps)for(y in g=f.defaultProps,g)v[y]===void 0&&(v[y]=g[y]);return{$$typeof:s,type:f,key:w,ref:k,props:v,_owner:c.current}}return Ta.Fragment=n,Ta.jsx=u,Ta.jsxs=u,Ta}var Mh;function Ng(){return Mh||(Mh=1,pc.exports=jg()),pc.exports}var e=Ng(),N=Kc();const kg=Rm(N);var io={},yc={exports:{}},Et={},vc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh;function _g(){return Uh||(Uh=1,(function(o){function s(_,A){var z=_.length;_.push(A);e:for(;0<z;){var S=z-1>>>1,$=_[S];if(0<c($,A))_[S]=A,_[z]=$,z=S;else break e}}function n(_){return _.length===0?null:_[0]}function i(_){if(_.length===0)return null;var A=_[0],z=_.pop();if(z!==A){_[0]=z;e:for(var S=0,$=_.length,se=$>>>1;S<se;){var xe=2*(S+1)-1,Q=_[xe],he=xe+1,Ce=_[he];if(0>c(Q,z))he<$&&0>c(Ce,Q)?(_[S]=Ce,_[he]=z,S=he):(_[S]=Q,_[xe]=z,S=xe);else if(he<$&&0>c(Ce,z))_[S]=Ce,_[he]=z,S=he;else break e}}return A}function c(_,A){var z=_.sortIndex-A.sortIndex;return z!==0?z:_.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;o.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();o.unstable_now=function(){return u.now()-f}}var g=[],p=[],y=1,v=null,w=3,k=!1,E=!1,I=!1,L=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(_){for(var A=n(p);A!==null;){if(A.callback===null)i(p);else if(A.startTime<=_)i(p),A.sortIndex=A.expirationTime,s(g,A);else break;A=n(p)}}function D(_){if(I=!1,R(_),!E)if(n(g)!==null)E=!0,B(te);else{var A=n(p);A!==null&&j(D,A.startTime-_)}}function te(_,A){E=!1,I&&(I=!1,M(be),be=-1),k=!0;var z=w;try{for(R(A),v=n(g);v!==null&&(!(v.expirationTime>A)||_&&!we());){var S=v.callback;if(typeof S=="function"){v.callback=null,w=v.priorityLevel;var $=S(v.expirationTime<=A);A=o.unstable_now(),typeof $=="function"?v.callback=$:v===n(g)&&i(g),R(A)}else i(g);v=n(g)}if(v!==null)var se=!0;else{var xe=n(p);xe!==null&&j(D,xe.startTime-A),se=!1}return se}finally{v=null,w=z,k=!1}}var re=!1,ae=null,be=-1,V=5,le=-1;function we(){return!(o.unstable_now()-le<V)}function ke(){if(ae!==null){var _=o.unstable_now();le=_;var A=!0;try{A=ae(!0,_)}finally{A?oe():(re=!1,ae=null)}}else re=!1}var oe;if(typeof U=="function")oe=function(){U(ke)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,ee=de.port2;de.port1.onmessage=ke,oe=function(){ee.postMessage(null)}}else oe=function(){L(ke,0)};function B(_){ae=_,re||(re=!0,oe())}function j(_,A){be=L(function(){_(o.unstable_now())},A)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(_){_.callback=null},o.unstable_continueExecution=function(){E||k||(E=!0,B(te))},o.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<_?Math.floor(1e3/_):5},o.unstable_getCurrentPriorityLevel=function(){return w},o.unstable_getFirstCallbackNode=function(){return n(g)},o.unstable_next=function(_){switch(w){case 1:case 2:case 3:var A=3;break;default:A=w}var z=w;w=A;try{return _()}finally{w=z}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(_,A){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var z=w;w=_;try{return A()}finally{w=z}},o.unstable_scheduleCallback=function(_,A,z){var S=o.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?S+z:S):z=S,_){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=z+$,_={id:y++,callback:A,priorityLevel:_,startTime:z,expirationTime:$,sortIndex:-1},z>S?(_.sortIndex=z,s(p,_),n(g)===null&&_===n(p)&&(I?(M(be),be=-1):I=!0,j(D,z-S))):(_.sortIndex=$,s(g,_),E||k||(E=!0,B(te))),_},o.unstable_shouldYield=we,o.unstable_wrapCallback=function(_){var A=w;return function(){var z=w;w=A;try{return _.apply(this,arguments)}finally{w=z}}}})(bc)),bc}var Bh;function Sg(){return Bh||(Bh=1,vc.exports=_g()),vc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function Cg(){if(zh)return Et;zh=1;var o=Kc(),s=Sg();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,c={};function l(t,r){u(t,r),u(t+"Capture",r)}function u(t,r){for(c[t]=r,t=0;t<r.length;t++)i.add(r[t])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},v={};function w(t){return g.call(v,t)?!0:g.call(y,t)?!1:p.test(t)?v[t]=!0:(y[t]=!0,!1)}function k(t,r,a,d){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function E(t,r,a,d){if(r===null||typeof r>"u"||k(t,r,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function I(t,r,a,d,h,m,x){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=d,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=m,this.removeEmptyString=x}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){L[t]=new I(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];L[r]=new I(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){L[t]=new I(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){L[t]=new I(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){L[t]=new I(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){L[t]=new I(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){L[t]=new I(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){L[t]=new I(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){L[t]=new I(t,5,!1,t.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function U(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(M,U);L[r]=new I(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(M,U);L[r]=new I(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(M,U);L[r]=new I(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){L[t]=new I(t,1,!1,t.toLowerCase(),null,!1,!1)}),L.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){L[t]=new I(t,1,!1,t.toLowerCase(),null,!0,!0)});function R(t,r,a,d){var h=L.hasOwnProperty(r)?L[r]:null;(h!==null?h.type!==0:d||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(E(r,a,h,d)&&(a=null),d||h===null?w(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):h.mustUseProperty?t[h.propertyName]=a===null?h.type===3?!1:"":a:(r=h.attributeName,d=h.attributeNamespace,a===null?t.removeAttribute(r):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,d?t.setAttributeNS(d,r,a):t.setAttribute(r,a))))}var D=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),re=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),le=Symbol.for("react.provider"),we=Symbol.for("react.context"),ke=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),_=Symbol.iterator;function A(t){return t===null||typeof t!="object"?null:(t=_&&t[_]||t["@@iterator"],typeof t=="function"?t:null)}var z=Object.assign,S;function $(t){if(S===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);S=r&&r[1]||""}return`
`+S+t}var se=!1;function xe(t,r){if(!t||se)return"";se=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(q){var d=q}Reflect.construct(t,[],r)}else{try{r.call()}catch(q){d=q}t.call(r.prototype)}else{try{throw Error()}catch(q){d=q}t()}}catch(q){if(q&&d&&typeof q.stack=="string"){for(var h=q.stack.split(`
`),m=d.stack.split(`
`),x=h.length-1,C=m.length-1;1<=x&&0<=C&&h[x]!==m[C];)C--;for(;1<=x&&0<=C;x--,C--)if(h[x]!==m[C]){if(x!==1||C!==1)do if(x--,C--,0>C||h[x]!==m[C]){var P=`
`+h[x].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=x&&0<=C);break}}}finally{se=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?$(t):""}function Q(t){switch(t.tag){case 5:return $(t.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return t=xe(t.type,!1),t;case 11:return t=xe(t.type.render,!1),t;case 1:return t=xe(t.type,!0),t;default:return""}}function he(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ae:return"Fragment";case re:return"Portal";case V:return"Profiler";case be:return"StrictMode";case oe:return"Suspense";case de:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case we:return(t.displayName||"Context")+".Consumer";case le:return(t._context.displayName||"Context")+".Provider";case ke:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ee:return r=t.displayName||null,r!==null?r:he(t.type)||"Memo";case B:r=t._payload,t=t._init;try{return he(t(r))}catch{}}return null}function Ce(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(r);case 8:return r===be?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ee(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Le(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ct(t){var r=Le(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),d=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(x){d=""+x,m.call(this,x)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(x){d=""+x},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Wt(t){t._valueTracker||(t._valueTracker=ct(t))}function gs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),d="";return t&&(d=Le(t)?t.checked?"true":"false":t.value),t=d,t!==a?(r.setValue(t),!0):!1}function ps(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fn(t,r){var a=r.checked;return z({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??t._wrapperState.initialChecked})}function Ao(t,r){var a=r.defaultValue==null?"":r.defaultValue,d=r.checked!=null?r.checked:r.defaultChecked;a=Ee(r.value!=null?r.value:a),t._wrapperState={initialChecked:d,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Qa(t,r){r=r.checked,r!=null&&R(t,"checked",r,!1)}function Ga(t,r){Qa(t,r);var a=Ee(r.value),d=r.type;if(a!=null)d==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(d==="submit"||d==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Vt(t,r.type,a):r.hasOwnProperty("defaultValue")&&Vt(t,r.type,Ee(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Io(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var d=r.type;if(!(d!=="submit"&&d!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function Vt(t,r,a){(r!=="number"||ps(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var sr=Array.isArray;function nr(t,r,a,d){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&d&&(t[a].defaultSelected=!0)}else{for(a=""+Ee(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,d&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Rr(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return z({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ws(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(n(92));if(sr(a)){if(1<a.length)throw Error(n(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:Ee(a)}}function xs(t,r){var a=Ee(r.value),d=Ee(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),d!=null&&(t.defaultValue=""+d)}function $r(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ys(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ar(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ys(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dr,fr=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,d,h){MSApp.execUnsafeLocalFunction(function(){return t(r,a,d,h)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Dr=Dr||document.createElement("div"),Dr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Dr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Or(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ja=["Webkit","ms","Moz","O"];Object.keys(Vs).forEach(function(t){Ja.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Vs[r]=Vs[t]})});function Mn(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||Vs.hasOwnProperty(t)&&Vs[t]?(""+r).trim():r+"px"}function Un(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var d=a.indexOf("--")===0,h=Mn(a,r[a],d);a==="float"&&(a="cssFloat"),d?t.setProperty(a,h):t[a]=h}}var Ht=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hs(t,r){if(r){if(Ht[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Qt(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bn=null;function wt(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vs=null,gr=null,pr=null;function zn(t){if(t=ga(t)){if(typeof vs!="function")throw Error(n(280));var r=t.stateNode;r&&(r=wi(r),vs(t.stateNode,t.type,r))}}function qn(t){gr?pr?pr.push(t):pr=[t]:gr=t}function Ka(){if(gr){var t=gr,r=pr;if(pr=gr=null,zn(t),r)for(t=0;t<r.length;t++)zn(r[t])}}function Wn(t,r){return t(r)}function Vn(){}var Hn=!1;function Qn(t,r,a){if(Hn)return t(r,a);Hn=!0;try{return Wn(t,r,a)}finally{Hn=!1,(gr!==null||pr!==null)&&(Vn(),Ka())}}function xr(t,r){var a=t.stateNode;if(a===null)return null;var d=wi(a);if(d===null)return null;a=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(t=t.type,d=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!d;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(n(231,r,typeof a));return a}var Gn=!1;if(f)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Gn=!1}function Ya(t,r,a,d,h,m,x,C,P){var q=Array.prototype.slice.call(arguments,3);try{r.apply(a,q)}catch(K){this.onError(K)}}var Lr=!1,Qs=null,Gs=!1,bs=null,Ro={onError:function(t){Lr=!0,Qs=t}};function $o(t,r,a,d,h,m,x,C,P){Lr=!1,Qs=null,Ya.apply(Ro,arguments)}function Do(t,r,a,d,h,m,x,C,P){if($o.apply(this,arguments),Lr){if(Lr){var q=Qs;Lr=!1,Qs=null}else throw Error(n(198));Gs||(Gs=!0,bs=q)}}function ir(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function ws(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Jn(t){if(ir(t)!==t)throw Error(n(188))}function Xa(t){var r=t.alternate;if(!r){if(r=ir(t),r===null)throw Error(n(188));return r!==t?null:t}for(var a=t,d=r;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(d=h.return,d!==null){a=d;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return Jn(h),t;if(m===d)return Jn(h),r;m=m.sibling}throw Error(n(188))}if(a.return!==d.return)a=h,d=m;else{for(var x=!1,C=h.child;C;){if(C===a){x=!0,a=h,d=m;break}if(C===d){x=!0,d=h,a=m;break}C=C.sibling}if(!x){for(C=m.child;C;){if(C===a){x=!0,a=m,d=h;break}if(C===d){x=!0,d=m,a=h;break}C=C.sibling}if(!x)throw Error(n(189))}}if(a.alternate!==d)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?t:r}function Za(t){return t=Xa(t),t!==null?ei(t):null}function ei(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=ei(t);if(r!==null)return r;t=t.sibling}return null}var ti=s.unstable_scheduleCallback,ri=s.unstable_cancelCallback,Kn=s.unstable_shouldYield,Oo=s.unstable_requestPaint,We=s.unstable_now,Lo=s.unstable_getCurrentPriorityLevel,Yn=s.unstable_ImmediatePriority,si=s.unstable_UserBlockingPriority,Ve=s.unstable_NormalPriority,js=s.unstable_LowPriority,ni=s.unstable_IdlePriority,Js=null,b=null;function W(t){if(b&&typeof b.onCommitFiberRoot=="function")try{b.onCommitFiberRoot(Js,t,void 0,(t.current.flags&128)===128)}catch{}}var X=Math.clz32?Math.clz32:Ae,fe=Math.log,Ne=Math.LN2;function Ae(t){return t>>>=0,t===0?32:31-(fe(t)/Ne|0)|0}var ie=64,_e=4194304;function $e(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jt(t,r){var a=t.pendingLanes;if(a===0)return 0;var d=0,h=t.suspendedLanes,m=t.pingedLanes,x=a&268435455;if(x!==0){var C=x&~h;C!==0?d=$e(C):(m&=x,m!==0&&(d=$e(m)))}else x=a&~h,x!==0?d=$e(x):m!==0&&(d=$e(m));if(d===0)return 0;if(r!==0&&r!==d&&(r&h)===0&&(h=d&-d,m=r&-r,h>=m||h===16&&(m&4194240)!==0))return r;if((d&4)!==0&&(d|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=d;0<r;)a=31-X(r),h=1<<a,d|=t[a],r&=~h;return d}function Fr(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(t,r){for(var a=t.suspendedLanes,d=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes;0<m;){var x=31-X(m),C=1<<x,P=h[x];P===-1?((C&a)===0||(C&d)!==0)&&(h[x]=Fr(C,r)):P<=r&&(t.expiredLanes|=C),m&=~C}}function ai(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function md(){var t=ie;return ie<<=1,(ie&4194240)===0&&(ie=64),t}function Fo(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Xn(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-X(r),t[r]=a}function Bf(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var d=t.eventTimes;for(t=t.expirationTimes;0<a;){var h=31-X(a),m=1<<h;r[h]=0,d[h]=-1,t[h]=-1,a&=~m}}function Mo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var d=31-X(a),h=1<<d;h&r|t[d]&r&&(t[d]|=r),a&=~h}}var Oe=0;function fd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var gd,Uo,pd,xd,yd,Bo=!1,ii=[],Mr=null,Ur=null,Br=null,Zn=new Map,ea=new Map,zr=[],zf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vd(t,r){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Zn.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ea.delete(r.pointerId)}}function ta(t,r,a,d,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:d,nativeEvent:m,targetContainers:[h]},r!==null&&(r=ga(r),r!==null&&Uo(r)),t):(t.eventSystemFlags|=d,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function qf(t,r,a,d,h){switch(r){case"focusin":return Mr=ta(Mr,t,r,a,d,h),!0;case"dragenter":return Ur=ta(Ur,t,r,a,d,h),!0;case"mouseover":return Br=ta(Br,t,r,a,d,h),!0;case"pointerover":var m=h.pointerId;return Zn.set(m,ta(Zn.get(m)||null,t,r,a,d,h)),!0;case"gotpointercapture":return m=h.pointerId,ea.set(m,ta(ea.get(m)||null,t,r,a,d,h)),!0}return!1}function bd(t){var r=Ns(t.target);if(r!==null){var a=ir(r);if(a!==null){if(r=a.tag,r===13){if(r=ws(a),r!==null){t.blockedOn=r,yd(t.priority,function(){pd(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oi(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=qo(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var d=new a.constructor(a.type,a);Bn=d,a.target.dispatchEvent(d),Bn=null}else return r=ga(a),r!==null&&Uo(r),t.blockedOn=a,!1;r.shift()}return!0}function wd(t,r,a){oi(t)&&a.delete(r)}function Wf(){Bo=!1,Mr!==null&&oi(Mr)&&(Mr=null),Ur!==null&&oi(Ur)&&(Ur=null),Br!==null&&oi(Br)&&(Br=null),Zn.forEach(wd),ea.forEach(wd)}function ra(t,r){t.blockedOn===r&&(t.blockedOn=null,Bo||(Bo=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Wf)))}function sa(t){function r(h){return ra(h,t)}if(0<ii.length){ra(ii[0],t);for(var a=1;a<ii.length;a++){var d=ii[a];d.blockedOn===t&&(d.blockedOn=null)}}for(Mr!==null&&ra(Mr,t),Ur!==null&&ra(Ur,t),Br!==null&&ra(Br,t),Zn.forEach(r),ea.forEach(r),a=0;a<zr.length;a++)d=zr[a],d.blockedOn===t&&(d.blockedOn=null);for(;0<zr.length&&(a=zr[0],a.blockedOn===null);)bd(a),a.blockedOn===null&&zr.shift()}var Ks=D.ReactCurrentBatchConfig,li=!0;function Vf(t,r,a,d){var h=Oe,m=Ks.transition;Ks.transition=null;try{Oe=1,zo(t,r,a,d)}finally{Oe=h,Ks.transition=m}}function Hf(t,r,a,d){var h=Oe,m=Ks.transition;Ks.transition=null;try{Oe=4,zo(t,r,a,d)}finally{Oe=h,Ks.transition=m}}function zo(t,r,a,d){if(li){var h=qo(t,r,a,d);if(h===null)il(t,r,d,ci,a),vd(t,d);else if(qf(h,t,r,a,d))d.stopPropagation();else if(vd(t,d),r&4&&-1<zf.indexOf(t)){for(;h!==null;){var m=ga(h);if(m!==null&&gd(m),m=qo(t,r,a,d),m===null&&il(t,r,d,ci,a),m===h)break;h=m}h!==null&&d.stopPropagation()}else il(t,r,d,null,a)}}var ci=null;function qo(t,r,a,d){if(ci=null,t=wt(d),t=Ns(t),t!==null)if(r=ir(t),r===null)t=null;else if(a=r.tag,a===13){if(t=ws(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return ci=t,null}function jd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Lo()){case Yn:return 1;case si:return 4;case Ve:case js:return 16;case ni:return 536870912;default:return 16}default:return 16}}var qr=null,Wo=null,di=null;function Nd(){if(di)return di;var t,r=Wo,a=r.length,d,h="value"in qr?qr.value:qr.textContent,m=h.length;for(t=0;t<a&&r[t]===h[t];t++);var x=a-t;for(d=1;d<=x&&r[a-d]===h[m-d];d++);return di=h.slice(t,1<d?1-d:void 0)}function ui(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function hi(){return!0}function kd(){return!1}function Pt(t){function r(a,d,h,m,x){this._reactName=a,this._targetInst=h,this.type=d,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(a=t[C],this[C]=a?a(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?hi:kd,this.isPropagationStopped=kd,this}return z(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),r}var Ys={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=Pt(Ys),na=z({},Ys,{view:0,detail:0}),Qf=Pt(na),Ho,Qo,aa,mi=z({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==aa&&(aa&&t.type==="mousemove"?(Ho=t.screenX-aa.screenX,Qo=t.screenY-aa.screenY):Qo=Ho=0,aa=t),Ho)},movementY:function(t){return"movementY"in t?t.movementY:Qo}}),_d=Pt(mi),Gf=z({},mi,{dataTransfer:0}),Jf=Pt(Gf),Kf=z({},na,{relatedTarget:0}),Go=Pt(Kf),Yf=z({},Ys,{animationName:0,elapsedTime:0,pseudoElement:0}),Xf=Pt(Yf),Zf=z({},Ys,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),e0=Pt(Zf),t0=z({},Ys,{data:0}),Sd=Pt(t0),r0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a0(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=n0[t])?!!r[t]:!1}function Jo(){return a0}var i0=z({},na,{key:function(t){if(t.key){var r=r0[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ui(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?s0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(t){return t.type==="keypress"?ui(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ui(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),o0=Pt(i0),l0=z({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=Pt(l0),c0=z({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),d0=Pt(c0),u0=z({},Ys,{propertyName:0,elapsedTime:0,pseudoElement:0}),h0=Pt(u0),m0=z({},mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),f0=Pt(m0),g0=[9,13,27,32],Ko=f&&"CompositionEvent"in window,ia=null;f&&"documentMode"in document&&(ia=document.documentMode);var p0=f&&"TextEvent"in window&&!ia,Ed=f&&(!Ko||ia&&8<ia&&11>=ia),Pd=" ",Td=!1;function Ad(t,r){switch(t){case"keyup":return g0.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Id(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xs=!1;function x0(t,r){switch(t){case"compositionend":return Id(r);case"keypress":return r.which!==32?null:(Td=!0,Pd);case"textInput":return t=r.data,t===Pd&&Td?null:t;default:return null}}function y0(t,r){if(Xs)return t==="compositionend"||!Ko&&Ad(t,r)?(t=Nd(),di=Wo=qr=null,Xs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ed&&r.locale!=="ko"?null:r.data;default:return null}}var v0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!v0[t.type]:r==="textarea"}function $d(t,r,a,d){qn(d),r=yi(r,"onChange"),0<r.length&&(a=new Vo("onChange","change",null,a,d),t.push({event:a,listeners:r}))}var oa=null,la=null;function b0(t){Xd(t,0)}function fi(t){var r=sn(t);if(gs(r))return t}function w0(t,r){if(t==="change")return r}var Dd=!1;if(f){var Yo;if(f){var Xo="oninput"in document;if(!Xo){var Od=document.createElement("div");Od.setAttribute("oninput","return;"),Xo=typeof Od.oninput=="function"}Yo=Xo}else Yo=!1;Dd=Yo&&(!document.documentMode||9<document.documentMode)}function Ld(){oa&&(oa.detachEvent("onpropertychange",Fd),la=oa=null)}function Fd(t){if(t.propertyName==="value"&&fi(la)){var r=[];$d(r,la,t,wt(t)),Qn(b0,r)}}function j0(t,r,a){t==="focusin"?(Ld(),oa=r,la=a,oa.attachEvent("onpropertychange",Fd)):t==="focusout"&&Ld()}function N0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fi(la)}function k0(t,r){if(t==="click")return fi(r)}function _0(t,r){if(t==="input"||t==="change")return fi(r)}function S0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Gt=typeof Object.is=="function"?Object.is:S0;function ca(t,r){if(Gt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),d=Object.keys(r);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var h=a[d];if(!g.call(r,h)||!Gt(t[h],r[h]))return!1}return!0}function Md(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ud(t,r){var a=Md(t);t=0;for(var d;a;){if(a.nodeType===3){if(d=t+a.textContent.length,t<=r&&d>=r)return{node:a,offset:r-t};t=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Md(a)}}function Bd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Bd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function zd(){for(var t=window,r=ps();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ps(t.document)}return r}function Zo(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function C0(t){var r=zd(),a=t.focusedElem,d=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&Bd(a.ownerDocument.documentElement,a)){if(d!==null&&Zo(a)){if(r=d.start,t=d.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=a.textContent.length,m=Math.min(d.start,h);d=d.end===void 0?m:Math.min(d.end,h),!t.extend&&m>d&&(h=d,d=m,m=h),h=Ud(a,m);var x=Ud(a,d);h&&x&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==x.node||t.focusOffset!==x.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),m>d?(t.addRange(r),t.extend(x.node,x.offset)):(r.setEnd(x.node,x.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var E0=f&&"documentMode"in document&&11>=document.documentMode,Zs=null,el=null,da=null,tl=!1;function qd(t,r,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tl||Zs==null||Zs!==ps(d)||(d=Zs,"selectionStart"in d&&Zo(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),da&&ca(da,d)||(da=d,d=yi(el,"onSelect"),0<d.length&&(r=new Vo("onSelect","select",null,r,a),t.push({event:r,listeners:d}),r.target=Zs)))}function gi(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var en={animationend:gi("Animation","AnimationEnd"),animationiteration:gi("Animation","AnimationIteration"),animationstart:gi("Animation","AnimationStart"),transitionend:gi("Transition","TransitionEnd")},rl={},Wd={};f&&(Wd=document.createElement("div").style,"AnimationEvent"in window||(delete en.animationend.animation,delete en.animationiteration.animation,delete en.animationstart.animation),"TransitionEvent"in window||delete en.transitionend.transition);function pi(t){if(rl[t])return rl[t];if(!en[t])return t;var r=en[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Wd)return rl[t]=r[a];return t}var Vd=pi("animationend"),Hd=pi("animationiteration"),Qd=pi("animationstart"),Gd=pi("transitionend"),Jd=new Map,Kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,r){Jd.set(t,r),l(r,[t])}for(var sl=0;sl<Kd.length;sl++){var nl=Kd[sl],P0=nl.toLowerCase(),T0=nl[0].toUpperCase()+nl.slice(1);Wr(P0,"on"+T0)}Wr(Vd,"onAnimationEnd"),Wr(Hd,"onAnimationIteration"),Wr(Qd,"onAnimationStart"),Wr("dblclick","onDoubleClick"),Wr("focusin","onFocus"),Wr("focusout","onBlur"),Wr(Gd,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function Yd(t,r,a){var d=t.type||"unknown-event";t.currentTarget=a,Do(d,r,void 0,t),t.currentTarget=null}function Xd(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var d=t[a],h=d.event;d=d.listeners;e:{var m=void 0;if(r)for(var x=d.length-1;0<=x;x--){var C=d[x],P=C.instance,q=C.currentTarget;if(C=C.listener,P!==m&&h.isPropagationStopped())break e;Yd(h,C,q),m=P}else for(x=0;x<d.length;x++){if(C=d[x],P=C.instance,q=C.currentTarget,C=C.listener,P!==m&&h.isPropagationStopped())break e;Yd(h,C,q),m=P}}}if(Gs)throw t=bs,Gs=!1,bs=null,t}function Ue(t,r){var a=r[hl];a===void 0&&(a=r[hl]=new Set);var d=t+"__bubble";a.has(d)||(Zd(r,t,2,!1),a.add(d))}function al(t,r,a){var d=0;r&&(d|=4),Zd(a,t,d,r)}var xi="_reactListening"+Math.random().toString(36).slice(2);function ha(t){if(!t[xi]){t[xi]=!0,i.forEach(function(a){a!=="selectionchange"&&(A0.has(a)||al(a,!1,t),al(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[xi]||(r[xi]=!0,al("selectionchange",!1,r))}}function Zd(t,r,a,d){switch(jd(r)){case 1:var h=Vf;break;case 4:h=Hf;break;default:h=zo}a=h.bind(null,r,a,t),h=void 0,!Gn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),d?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function il(t,r,a,d,h){var m=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var x=d.tag;if(x===3||x===4){var C=d.stateNode.containerInfo;if(C===h||C.nodeType===8&&C.parentNode===h)break;if(x===4)for(x=d.return;x!==null;){var P=x.tag;if((P===3||P===4)&&(P=x.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;x=x.return}for(;C!==null;){if(x=Ns(C),x===null)return;if(P=x.tag,P===5||P===6){d=m=x;continue e}C=C.parentNode}}d=d.return}Qn(function(){var q=m,K=wt(a),Y=[];e:{var J=Jd.get(t);if(J!==void 0){var ce=Vo,me=t;switch(t){case"keypress":if(ui(a)===0)break e;case"keydown":case"keyup":ce=o0;break;case"focusin":me="focus",ce=Go;break;case"focusout":me="blur",ce=Go;break;case"beforeblur":case"afterblur":ce=Go;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=Jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=d0;break;case Vd:case Hd:case Qd:ce=Xf;break;case Gd:ce=h0;break;case"scroll":ce=Qf;break;case"wheel":ce=f0;break;case"copy":case"cut":case"paste":ce=e0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=Cd}var ge=(r&4)!==0,Je=!ge&&t==="scroll",O=ge?J!==null?J+"Capture":null:J;ge=[];for(var T=q,F;T!==null;){F=T;var Z=F.stateNode;if(F.tag===5&&Z!==null&&(F=Z,O!==null&&(Z=xr(T,O),Z!=null&&ge.push(ma(T,Z,F)))),Je)break;T=T.return}0<ge.length&&(J=new ce(J,me,null,a,K),Y.push({event:J,listeners:ge}))}}if((r&7)===0){e:{if(J=t==="mouseover"||t==="pointerover",ce=t==="mouseout"||t==="pointerout",J&&a!==Bn&&(me=a.relatedTarget||a.fromElement)&&(Ns(me)||me[br]))break e;if((ce||J)&&(J=K.window===K?K:(J=K.ownerDocument)?J.defaultView||J.parentWindow:window,ce?(me=a.relatedTarget||a.toElement,ce=q,me=me?Ns(me):null,me!==null&&(Je=ir(me),me!==Je||me.tag!==5&&me.tag!==6)&&(me=null)):(ce=null,me=q),ce!==me)){if(ge=_d,Z="onMouseLeave",O="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Cd,Z="onPointerLeave",O="onPointerEnter",T="pointer"),Je=ce==null?J:sn(ce),F=me==null?J:sn(me),J=new ge(Z,T+"leave",ce,a,K),J.target=Je,J.relatedTarget=F,Z=null,Ns(K)===q&&(ge=new ge(O,T+"enter",me,a,K),ge.target=F,ge.relatedTarget=Je,Z=ge),Je=Z,ce&&me)t:{for(ge=ce,O=me,T=0,F=ge;F;F=tn(F))T++;for(F=0,Z=O;Z;Z=tn(Z))F++;for(;0<T-F;)ge=tn(ge),T--;for(;0<F-T;)O=tn(O),F--;for(;T--;){if(ge===O||O!==null&&ge===O.alternate)break t;ge=tn(ge),O=tn(O)}ge=null}else ge=null;ce!==null&&eu(Y,J,ce,ge,!1),me!==null&&Je!==null&&eu(Y,Je,me,ge,!0)}}e:{if(J=q?sn(q):window,ce=J.nodeName&&J.nodeName.toLowerCase(),ce==="select"||ce==="input"&&J.type==="file")var pe=w0;else if(Rd(J))if(Dd)pe=_0;else{pe=N0;var ye=j0}else(ce=J.nodeName)&&ce.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(pe=k0);if(pe&&(pe=pe(t,q))){$d(Y,pe,a,K);break e}ye&&ye(t,J,q),t==="focusout"&&(ye=J._wrapperState)&&ye.controlled&&J.type==="number"&&Vt(J,"number",J.value)}switch(ye=q?sn(q):window,t){case"focusin":(Rd(ye)||ye.contentEditable==="true")&&(Zs=ye,el=q,da=null);break;case"focusout":da=el=Zs=null;break;case"mousedown":tl=!0;break;case"contextmenu":case"mouseup":case"dragend":tl=!1,qd(Y,a,K);break;case"selectionchange":if(E0)break;case"keydown":case"keyup":qd(Y,a,K)}var ve;if(Ko)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Xs?Ad(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Ed&&a.locale!=="ko"&&(Xs||je!=="onCompositionStart"?je==="onCompositionEnd"&&Xs&&(ve=Nd()):(qr=K,Wo="value"in qr?qr.value:qr.textContent,Xs=!0)),ye=yi(q,je),0<ye.length&&(je=new Sd(je,t,null,a,K),Y.push({event:je,listeners:ye}),ve?je.data=ve:(ve=Id(a),ve!==null&&(je.data=ve)))),(ve=p0?x0(t,a):y0(t,a))&&(q=yi(q,"onBeforeInput"),0<q.length&&(K=new Sd("onBeforeInput","beforeinput",null,a,K),Y.push({event:K,listeners:q}),K.data=ve))}Xd(Y,r)})}function ma(t,r,a){return{instance:t,listener:r,currentTarget:a}}function yi(t,r){for(var a=r+"Capture",d=[];t!==null;){var h=t,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=xr(t,a),m!=null&&d.unshift(ma(t,m,h)),m=xr(t,r),m!=null&&d.push(ma(t,m,h))),t=t.return}return d}function tn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eu(t,r,a,d,h){for(var m=r._reactName,x=[];a!==null&&a!==d;){var C=a,P=C.alternate,q=C.stateNode;if(P!==null&&P===d)break;C.tag===5&&q!==null&&(C=q,h?(P=xr(a,m),P!=null&&x.unshift(ma(a,P,C))):h||(P=xr(a,m),P!=null&&x.push(ma(a,P,C)))),a=a.return}x.length!==0&&t.push({event:r,listeners:x})}var I0=/\r\n?/g,R0=/\u0000|\uFFFD/g;function tu(t){return(typeof t=="string"?t:""+t).replace(I0,`
`).replace(R0,"")}function vi(t,r,a){if(r=tu(r),tu(t)!==r&&a)throw Error(n(425))}function bi(){}var ol=null,ll=null;function cl(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var dl=typeof setTimeout=="function"?setTimeout:void 0,$0=typeof clearTimeout=="function"?clearTimeout:void 0,ru=typeof Promise=="function"?Promise:void 0,D0=typeof queueMicrotask=="function"?queueMicrotask:typeof ru<"u"?function(t){return ru.resolve(null).then(t).catch(O0)}:dl;function O0(t){setTimeout(function(){throw t})}function ul(t,r){var a=r,d=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(d===0){t.removeChild(h),sa(r);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=h}while(a);sa(r)}function Vr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function su(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var rn=Math.random().toString(36).slice(2),or="__reactFiber$"+rn,fa="__reactProps$"+rn,br="__reactContainer$"+rn,hl="__reactEvents$"+rn,L0="__reactListeners$"+rn,F0="__reactHandles$"+rn;function Ns(t){var r=t[or];if(r)return r;for(var a=t.parentNode;a;){if(r=a[br]||a[or]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=su(t);t!==null;){if(a=t[or])return a;t=su(t)}return r}t=a,a=t.parentNode}return null}function ga(t){return t=t[or]||t[br],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function wi(t){return t[fa]||null}var ml=[],nn=-1;function Hr(t){return{current:t}}function Be(t){0>nn||(t.current=ml[nn],ml[nn]=null,nn--)}function Fe(t,r){nn++,ml[nn]=t.current,t.current=r}var Qr={},ht=Hr(Qr),Nt=Hr(!1),ks=Qr;function an(t,r){var a=t.type.contextTypes;if(!a)return Qr;var d=t.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===r)return d.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in a)h[m]=r[m];return d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function kt(t){return t=t.childContextTypes,t!=null}function ji(){Be(Nt),Be(ht)}function nu(t,r,a){if(ht.current!==Qr)throw Error(n(168));Fe(ht,r),Fe(Nt,a)}function au(t,r,a){var d=t.stateNode;if(r=r.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var h in d)if(!(h in r))throw Error(n(108,Ce(t)||"Unknown",h));return z({},a,d)}function Ni(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qr,ks=ht.current,Fe(ht,t),Fe(Nt,Nt.current),!0}function iu(t,r,a){var d=t.stateNode;if(!d)throw Error(n(169));a?(t=au(t,r,ks),d.__reactInternalMemoizedMergedChildContext=t,Be(Nt),Be(ht),Fe(ht,t)):Be(Nt),Fe(Nt,a)}var wr=null,ki=!1,fl=!1;function ou(t){wr===null?wr=[t]:wr.push(t)}function M0(t){ki=!0,ou(t)}function Gr(){if(!fl&&wr!==null){fl=!0;var t=0,r=Oe;try{var a=wr;for(Oe=1;t<a.length;t++){var d=a[t];do d=d(!0);while(d!==null)}wr=null,ki=!1}catch(h){throw wr!==null&&(wr=wr.slice(t+1)),ti(Yn,Gr),h}finally{Oe=r,fl=!1}}return null}var on=[],ln=0,_i=null,Si=0,$t=[],Dt=0,_s=null,jr=1,Nr="";function Ss(t,r){on[ln++]=Si,on[ln++]=_i,_i=t,Si=r}function lu(t,r,a){$t[Dt++]=jr,$t[Dt++]=Nr,$t[Dt++]=_s,_s=t;var d=jr;t=Nr;var h=32-X(d)-1;d&=~(1<<h),a+=1;var m=32-X(r)+h;if(30<m){var x=h-h%5;m=(d&(1<<x)-1).toString(32),d>>=x,h-=x,jr=1<<32-X(r)+h|a<<h|d,Nr=m+t}else jr=1<<m|a<<h|d,Nr=t}function gl(t){t.return!==null&&(Ss(t,1),lu(t,1,0))}function pl(t){for(;t===_i;)_i=on[--ln],on[ln]=null,Si=on[--ln],on[ln]=null;for(;t===_s;)_s=$t[--Dt],$t[Dt]=null,Nr=$t[--Dt],$t[Dt]=null,jr=$t[--Dt],$t[Dt]=null}var Tt=null,At=null,ze=!1,Jt=null;function cu(t,r){var a=Mt(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function du(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Tt=t,At=Vr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Tt=t,At=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=_s!==null?{id:jr,overflow:Nr}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=Mt(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,Tt=t,At=null,!0):!1;default:return!1}}function xl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function yl(t){if(ze){var r=At;if(r){var a=r;if(!du(t,r)){if(xl(t))throw Error(n(418));r=Vr(a.nextSibling);var d=Tt;r&&du(t,r)?cu(d,a):(t.flags=t.flags&-4097|2,ze=!1,Tt=t)}}else{if(xl(t))throw Error(n(418));t.flags=t.flags&-4097|2,ze=!1,Tt=t}}}function uu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tt=t}function Ci(t){if(t!==Tt)return!1;if(!ze)return uu(t),ze=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!cl(t.type,t.memoizedProps)),r&&(r=At)){if(xl(t))throw hu(),Error(n(418));for(;r;)cu(t,r),r=Vr(r.nextSibling)}if(uu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){At=Vr(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}At=null}}else At=Tt?Vr(t.stateNode.nextSibling):null;return!0}function hu(){for(var t=At;t;)t=Vr(t.nextSibling)}function cn(){At=Tt=null,ze=!1}function vl(t){Jt===null?Jt=[t]:Jt.push(t)}var U0=D.ReactCurrentBatchConfig;function pa(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var d=a.stateNode}if(!d)throw Error(n(147,t));var h=d,m=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(x){var C=h.refs;x===null?delete C[m]:C[m]=x},r._stringRef=m,r)}if(typeof t!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,t))}return t}function Ei(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function mu(t){var r=t._init;return r(t._payload)}function fu(t){function r(O,T){if(t){var F=O.deletions;F===null?(O.deletions=[T],O.flags|=16):F.push(T)}}function a(O,T){if(!t)return null;for(;T!==null;)r(O,T),T=T.sibling;return null}function d(O,T){for(O=new Map;T!==null;)T.key!==null?O.set(T.key,T):O.set(T.index,T),T=T.sibling;return O}function h(O,T){return O=rs(O,T),O.index=0,O.sibling=null,O}function m(O,T,F){return O.index=F,t?(F=O.alternate,F!==null?(F=F.index,F<T?(O.flags|=2,T):F):(O.flags|=2,T)):(O.flags|=1048576,T)}function x(O){return t&&O.alternate===null&&(O.flags|=2),O}function C(O,T,F,Z){return T===null||T.tag!==6?(T=dc(F,O.mode,Z),T.return=O,T):(T=h(T,F),T.return=O,T)}function P(O,T,F,Z){var pe=F.type;return pe===ae?K(O,T,F.props.children,Z,F.key):T!==null&&(T.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===B&&mu(pe)===T.type)?(Z=h(T,F.props),Z.ref=pa(O,T,F),Z.return=O,Z):(Z=Xi(F.type,F.key,F.props,null,O.mode,Z),Z.ref=pa(O,T,F),Z.return=O,Z)}function q(O,T,F,Z){return T===null||T.tag!==4||T.stateNode.containerInfo!==F.containerInfo||T.stateNode.implementation!==F.implementation?(T=uc(F,O.mode,Z),T.return=O,T):(T=h(T,F.children||[]),T.return=O,T)}function K(O,T,F,Z,pe){return T===null||T.tag!==7?(T=$s(F,O.mode,Z,pe),T.return=O,T):(T=h(T,F),T.return=O,T)}function Y(O,T,F){if(typeof T=="string"&&T!==""||typeof T=="number")return T=dc(""+T,O.mode,F),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case te:return F=Xi(T.type,T.key,T.props,null,O.mode,F),F.ref=pa(O,null,T),F.return=O,F;case re:return T=uc(T,O.mode,F),T.return=O,T;case B:var Z=T._init;return Y(O,Z(T._payload),F)}if(sr(T)||A(T))return T=$s(T,O.mode,F,null),T.return=O,T;Ei(O,T)}return null}function J(O,T,F,Z){var pe=T!==null?T.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return pe!==null?null:C(O,T,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case te:return F.key===pe?P(O,T,F,Z):null;case re:return F.key===pe?q(O,T,F,Z):null;case B:return pe=F._init,J(O,T,pe(F._payload),Z)}if(sr(F)||A(F))return pe!==null?null:K(O,T,F,Z,null);Ei(O,F)}return null}function ce(O,T,F,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return O=O.get(F)||null,C(T,O,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case te:return O=O.get(Z.key===null?F:Z.key)||null,P(T,O,Z,pe);case re:return O=O.get(Z.key===null?F:Z.key)||null,q(T,O,Z,pe);case B:var ye=Z._init;return ce(O,T,F,ye(Z._payload),pe)}if(sr(Z)||A(Z))return O=O.get(F)||null,K(T,O,Z,pe,null);Ei(T,Z)}return null}function me(O,T,F,Z){for(var pe=null,ye=null,ve=T,je=T=0,it=null;ve!==null&&je<F.length;je++){ve.index>je?(it=ve,ve=null):it=ve.sibling;var De=J(O,ve,F[je],Z);if(De===null){ve===null&&(ve=it);break}t&&ve&&De.alternate===null&&r(O,ve),T=m(De,T,je),ye===null?pe=De:ye.sibling=De,ye=De,ve=it}if(je===F.length)return a(O,ve),ze&&Ss(O,je),pe;if(ve===null){for(;je<F.length;je++)ve=Y(O,F[je],Z),ve!==null&&(T=m(ve,T,je),ye===null?pe=ve:ye.sibling=ve,ye=ve);return ze&&Ss(O,je),pe}for(ve=d(O,ve);je<F.length;je++)it=ce(ve,O,je,F[je],Z),it!==null&&(t&&it.alternate!==null&&ve.delete(it.key===null?je:it.key),T=m(it,T,je),ye===null?pe=it:ye.sibling=it,ye=it);return t&&ve.forEach(function(ss){return r(O,ss)}),ze&&Ss(O,je),pe}function ge(O,T,F,Z){var pe=A(F);if(typeof pe!="function")throw Error(n(150));if(F=pe.call(F),F==null)throw Error(n(151));for(var ye=pe=null,ve=T,je=T=0,it=null,De=F.next();ve!==null&&!De.done;je++,De=F.next()){ve.index>je?(it=ve,ve=null):it=ve.sibling;var ss=J(O,ve,De.value,Z);if(ss===null){ve===null&&(ve=it);break}t&&ve&&ss.alternate===null&&r(O,ve),T=m(ss,T,je),ye===null?pe=ss:ye.sibling=ss,ye=ss,ve=it}if(De.done)return a(O,ve),ze&&Ss(O,je),pe;if(ve===null){for(;!De.done;je++,De=F.next())De=Y(O,De.value,Z),De!==null&&(T=m(De,T,je),ye===null?pe=De:ye.sibling=De,ye=De);return ze&&Ss(O,je),pe}for(ve=d(O,ve);!De.done;je++,De=F.next())De=ce(ve,O,je,De.value,Z),De!==null&&(t&&De.alternate!==null&&ve.delete(De.key===null?je:De.key),T=m(De,T,je),ye===null?pe=De:ye.sibling=De,ye=De);return t&&ve.forEach(function(vg){return r(O,vg)}),ze&&Ss(O,je),pe}function Je(O,T,F,Z){if(typeof F=="object"&&F!==null&&F.type===ae&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case te:e:{for(var pe=F.key,ye=T;ye!==null;){if(ye.key===pe){if(pe=F.type,pe===ae){if(ye.tag===7){a(O,ye.sibling),T=h(ye,F.props.children),T.return=O,O=T;break e}}else if(ye.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===B&&mu(pe)===ye.type){a(O,ye.sibling),T=h(ye,F.props),T.ref=pa(O,ye,F),T.return=O,O=T;break e}a(O,ye);break}else r(O,ye);ye=ye.sibling}F.type===ae?(T=$s(F.props.children,O.mode,Z,F.key),T.return=O,O=T):(Z=Xi(F.type,F.key,F.props,null,O.mode,Z),Z.ref=pa(O,T,F),Z.return=O,O=Z)}return x(O);case re:e:{for(ye=F.key;T!==null;){if(T.key===ye)if(T.tag===4&&T.stateNode.containerInfo===F.containerInfo&&T.stateNode.implementation===F.implementation){a(O,T.sibling),T=h(T,F.children||[]),T.return=O,O=T;break e}else{a(O,T);break}else r(O,T);T=T.sibling}T=uc(F,O.mode,Z),T.return=O,O=T}return x(O);case B:return ye=F._init,Je(O,T,ye(F._payload),Z)}if(sr(F))return me(O,T,F,Z);if(A(F))return ge(O,T,F,Z);Ei(O,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,T!==null&&T.tag===6?(a(O,T.sibling),T=h(T,F),T.return=O,O=T):(a(O,T),T=dc(F,O.mode,Z),T.return=O,O=T),x(O)):a(O,T)}return Je}var dn=fu(!0),gu=fu(!1),Pi=Hr(null),Ti=null,un=null,bl=null;function wl(){bl=un=Ti=null}function jl(t){var r=Pi.current;Be(Pi),t._currentValue=r}function Nl(t,r,a){for(;t!==null;){var d=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),t===a)break;t=t.return}}function hn(t,r){Ti=t,bl=un=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(_t=!0),t.firstContext=null)}function Ot(t){var r=t._currentValue;if(bl!==t)if(t={context:t,memoizedValue:r,next:null},un===null){if(Ti===null)throw Error(n(308));un=t,Ti.dependencies={lanes:0,firstContext:t}}else un=un.next=t;return r}var Cs=null;function kl(t){Cs===null?Cs=[t]:Cs.push(t)}function pu(t,r,a,d){var h=r.interleaved;return h===null?(a.next=a,kl(r)):(a.next=h.next,h.next=a),r.interleaved=a,kr(t,d)}function kr(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}var Jr=!1;function _l(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xu(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _r(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Kr(t,r,a){var d=t.updateQueue;if(d===null)return null;if(d=d.shared,(Ie&2)!==0){var h=d.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),d.pending=r,kr(t,a)}return h=d.interleaved,h===null?(r.next=r,kl(d)):(r.next=h.next,h.next=r),d.interleaved=r,kr(t,a)}function Ai(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var d=r.lanes;d&=t.pendingLanes,a|=d,r.lanes=a,Mo(t,a)}}function yu(t,r){var a=t.updateQueue,d=t.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};m===null?h=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?h=m=r:m=m.next=r}else h=m=r;a={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:d.shared,effects:d.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function Ii(t,r,a,d){var h=t.updateQueue;Jr=!1;var m=h.firstBaseUpdate,x=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var P=C,q=P.next;P.next=null,x===null?m=q:x.next=q,x=P;var K=t.alternate;K!==null&&(K=K.updateQueue,C=K.lastBaseUpdate,C!==x&&(C===null?K.firstBaseUpdate=q:C.next=q,K.lastBaseUpdate=P))}if(m!==null){var Y=h.baseState;x=0,K=q=P=null,C=m;do{var J=C.lane,ce=C.eventTime;if((d&J)===J){K!==null&&(K=K.next={eventTime:ce,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var me=t,ge=C;switch(J=r,ce=a,ge.tag){case 1:if(me=ge.payload,typeof me=="function"){Y=me.call(ce,Y,J);break e}Y=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ge.payload,J=typeof me=="function"?me.call(ce,Y,J):me,J==null)break e;Y=z({},Y,J);break e;case 2:Jr=!0}}C.callback!==null&&C.lane!==0&&(t.flags|=64,J=h.effects,J===null?h.effects=[C]:J.push(C))}else ce={eventTime:ce,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},K===null?(q=K=ce,P=Y):K=K.next=ce,x|=J;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;J=C,C=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);if(K===null&&(P=Y),h.baseState=P,h.firstBaseUpdate=q,h.lastBaseUpdate=K,r=h.shared.interleaved,r!==null){h=r;do x|=h.lane,h=h.next;while(h!==r)}else m===null&&(h.shared.lanes=0);Ts|=x,t.lanes=x,t.memoizedState=Y}}function vu(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var d=t[r],h=d.callback;if(h!==null){if(d.callback=null,d=a,typeof h!="function")throw Error(n(191,h));h.call(d)}}}var xa={},lr=Hr(xa),ya=Hr(xa),va=Hr(xa);function Es(t){if(t===xa)throw Error(n(174));return t}function Sl(t,r){switch(Fe(va,r),Fe(ya,t),Fe(lr,xa),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ar(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ar(r,t)}Be(lr),Fe(lr,r)}function mn(){Be(lr),Be(ya),Be(va)}function bu(t){Es(va.current);var r=Es(lr.current),a=ar(r,t.type);r!==a&&(Fe(ya,t),Fe(lr,a))}function Cl(t){ya.current===t&&(Be(lr),Be(ya))}var He=Hr(0);function Ri(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var El=[];function Pl(){for(var t=0;t<El.length;t++)El[t]._workInProgressVersionPrimary=null;El.length=0}var $i=D.ReactCurrentDispatcher,Tl=D.ReactCurrentBatchConfig,Ps=0,Qe=null,Ze=null,nt=null,Di=!1,ba=!1,wa=0,B0=0;function mt(){throw Error(n(321))}function Al(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Gt(t[a],r[a]))return!1;return!0}function Il(t,r,a,d,h,m){if(Ps=m,Qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$i.current=t===null||t.memoizedState===null?V0:H0,t=a(d,h),ba){m=0;do{if(ba=!1,wa=0,25<=m)throw Error(n(301));m+=1,nt=Ze=null,r.updateQueue=null,$i.current=Q0,t=a(d,h)}while(ba)}if($i.current=Fi,r=Ze!==null&&Ze.next!==null,Ps=0,nt=Ze=Qe=null,Di=!1,r)throw Error(n(300));return t}function Rl(){var t=wa!==0;return wa=0,t}function cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Qe.memoizedState=nt=t:nt=nt.next=t,nt}function Lt(){if(Ze===null){var t=Qe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=nt===null?Qe.memoizedState:nt.next;if(r!==null)nt=r,Ze=t;else{if(t===null)throw Error(n(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},nt===null?Qe.memoizedState=nt=t:nt=nt.next=t}return nt}function ja(t,r){return typeof r=="function"?r(t):r}function $l(t){var r=Lt(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var d=Ze,h=d.baseQueue,m=a.pending;if(m!==null){if(h!==null){var x=h.next;h.next=m.next,m.next=x}d.baseQueue=h=m,a.pending=null}if(h!==null){m=h.next,d=d.baseState;var C=x=null,P=null,q=m;do{var K=q.lane;if((Ps&K)===K)P!==null&&(P=P.next={lane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),d=q.hasEagerState?q.eagerState:t(d,q.action);else{var Y={lane:K,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null};P===null?(C=P=Y,x=d):P=P.next=Y,Qe.lanes|=K,Ts|=K}q=q.next}while(q!==null&&q!==m);P===null?x=d:P.next=C,Gt(d,r.memoizedState)||(_t=!0),r.memoizedState=d,r.baseState=x,r.baseQueue=P,a.lastRenderedState=d}if(t=a.interleaved,t!==null){h=t;do m=h.lane,Qe.lanes|=m,Ts|=m,h=h.next;while(h!==t)}else h===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function Dl(t){var r=Lt(),a=r.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=t;var d=a.dispatch,h=a.pending,m=r.memoizedState;if(h!==null){a.pending=null;var x=h=h.next;do m=t(m,x.action),x=x.next;while(x!==h);Gt(m,r.memoizedState)||(_t=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,d]}function wu(){}function ju(t,r){var a=Qe,d=Lt(),h=r(),m=!Gt(d.memoizedState,h);if(m&&(d.memoizedState=h,_t=!0),d=d.queue,Ol(_u.bind(null,a,d,t),[t]),d.getSnapshot!==r||m||nt!==null&&nt.memoizedState.tag&1){if(a.flags|=2048,Na(9,ku.bind(null,a,d,h,r),void 0,null),at===null)throw Error(n(349));(Ps&30)!==0||Nu(a,r,h)}return h}function Nu(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Qe.updateQueue,r===null?(r={lastEffect:null,stores:null},Qe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function ku(t,r,a,d){r.value=a,r.getSnapshot=d,Su(r)&&Cu(t)}function _u(t,r,a){return a(function(){Su(r)&&Cu(t)})}function Su(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Gt(t,a)}catch{return!0}}function Cu(t){var r=kr(t,1);r!==null&&Zt(r,t,1,-1)}function Eu(t){var r=cr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},r.queue=t,t=t.dispatch=W0.bind(null,Qe,t),[r.memoizedState,t]}function Na(t,r,a,d){return t={tag:t,create:r,destroy:a,deps:d,next:null},r=Qe.updateQueue,r===null?(r={lastEffect:null,stores:null},Qe.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(d=a.next,a.next=t,t.next=d,r.lastEffect=t)),t}function Pu(){return Lt().memoizedState}function Oi(t,r,a,d){var h=cr();Qe.flags|=t,h.memoizedState=Na(1|r,a,void 0,d===void 0?null:d)}function Li(t,r,a,d){var h=Lt();d=d===void 0?null:d;var m=void 0;if(Ze!==null){var x=Ze.memoizedState;if(m=x.destroy,d!==null&&Al(d,x.deps)){h.memoizedState=Na(r,a,m,d);return}}Qe.flags|=t,h.memoizedState=Na(1|r,a,m,d)}function Tu(t,r){return Oi(8390656,8,t,r)}function Ol(t,r){return Li(2048,8,t,r)}function Au(t,r){return Li(4,2,t,r)}function Iu(t,r){return Li(4,4,t,r)}function Ru(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function $u(t,r,a){return a=a!=null?a.concat([t]):null,Li(4,4,Ru.bind(null,r,t),a)}function Ll(){}function Du(t,r){var a=Lt();r=r===void 0?null:r;var d=a.memoizedState;return d!==null&&r!==null&&Al(r,d[1])?d[0]:(a.memoizedState=[t,r],t)}function Ou(t,r){var a=Lt();r=r===void 0?null:r;var d=a.memoizedState;return d!==null&&r!==null&&Al(r,d[1])?d[0]:(t=t(),a.memoizedState=[t,r],t)}function Lu(t,r,a){return(Ps&21)===0?(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=a):(Gt(a,r)||(a=md(),Qe.lanes|=a,Ts|=a,t.baseState=!0),r)}function z0(t,r){var a=Oe;Oe=a!==0&&4>a?a:4,t(!0);var d=Tl.transition;Tl.transition={};try{t(!1),r()}finally{Oe=a,Tl.transition=d}}function Fu(){return Lt().memoizedState}function q0(t,r,a){var d=es(t);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},Mu(t))Uu(r,a);else if(a=pu(t,r,a,d),a!==null){var h=yt();Zt(a,t,d,h),Bu(a,r,d)}}function W0(t,r,a){var d=es(t),h={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mu(t))Uu(r,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var x=r.lastRenderedState,C=m(x,a);if(h.hasEagerState=!0,h.eagerState=C,Gt(C,x)){var P=r.interleaved;P===null?(h.next=h,kl(r)):(h.next=P.next,P.next=h),r.interleaved=h;return}}catch{}finally{}a=pu(t,r,h,d),a!==null&&(h=yt(),Zt(a,t,d,h),Bu(a,r,d))}}function Mu(t){var r=t.alternate;return t===Qe||r!==null&&r===Qe}function Uu(t,r){ba=Di=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Bu(t,r,a){if((a&4194240)!==0){var d=r.lanes;d&=t.pendingLanes,a|=d,r.lanes=a,Mo(t,a)}}var Fi={readContext:Ot,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},V0={readContext:Ot,useCallback:function(t,r){return cr().memoizedState=[t,r===void 0?null:r],t},useContext:Ot,useEffect:Tu,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,Oi(4194308,4,Ru.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Oi(4194308,4,t,r)},useInsertionEffect:function(t,r){return Oi(4,2,t,r)},useMemo:function(t,r){var a=cr();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var d=cr();return r=a!==void 0?a(r):r,d.memoizedState=d.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},d.queue=t,t=t.dispatch=q0.bind(null,Qe,t),[d.memoizedState,t]},useRef:function(t){var r=cr();return t={current:t},r.memoizedState=t},useState:Eu,useDebugValue:Ll,useDeferredValue:function(t){return cr().memoizedState=t},useTransition:function(){var t=Eu(!1),r=t[0];return t=z0.bind(null,t[1]),cr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var d=Qe,h=cr();if(ze){if(a===void 0)throw Error(n(407));a=a()}else{if(a=r(),at===null)throw Error(n(349));(Ps&30)!==0||Nu(d,r,a)}h.memoizedState=a;var m={value:a,getSnapshot:r};return h.queue=m,Tu(_u.bind(null,d,m,t),[t]),d.flags|=2048,Na(9,ku.bind(null,d,m,a,r),void 0,null),a},useId:function(){var t=cr(),r=at.identifierPrefix;if(ze){var a=Nr,d=jr;a=(d&~(1<<32-X(d)-1)).toString(32)+a,r=":"+r+"R"+a,a=wa++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=B0++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},H0={readContext:Ot,useCallback:Du,useContext:Ot,useEffect:Ol,useImperativeHandle:$u,useInsertionEffect:Au,useLayoutEffect:Iu,useMemo:Ou,useReducer:$l,useRef:Pu,useState:function(){return $l(ja)},useDebugValue:Ll,useDeferredValue:function(t){var r=Lt();return Lu(r,Ze.memoizedState,t)},useTransition:function(){var t=$l(ja)[0],r=Lt().memoizedState;return[t,r]},useMutableSource:wu,useSyncExternalStore:ju,useId:Fu,unstable_isNewReconciler:!1},Q0={readContext:Ot,useCallback:Du,useContext:Ot,useEffect:Ol,useImperativeHandle:$u,useInsertionEffect:Au,useLayoutEffect:Iu,useMemo:Ou,useReducer:Dl,useRef:Pu,useState:function(){return Dl(ja)},useDebugValue:Ll,useDeferredValue:function(t){var r=Lt();return Ze===null?r.memoizedState=t:Lu(r,Ze.memoizedState,t)},useTransition:function(){var t=Dl(ja)[0],r=Lt().memoizedState;return[t,r]},useMutableSource:wu,useSyncExternalStore:ju,useId:Fu,unstable_isNewReconciler:!1};function Kt(t,r){if(t&&t.defaultProps){r=z({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}function Fl(t,r,a,d){r=t.memoizedState,a=a(d,r),a=a==null?r:z({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Mi={isMounted:function(t){return(t=t._reactInternals)?ir(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var d=yt(),h=es(t),m=_r(d,h);m.payload=r,a!=null&&(m.callback=a),r=Kr(t,m,h),r!==null&&(Zt(r,t,h,d),Ai(r,t,h))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var d=yt(),h=es(t),m=_r(d,h);m.tag=1,m.payload=r,a!=null&&(m.callback=a),r=Kr(t,m,h),r!==null&&(Zt(r,t,h,d),Ai(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=yt(),d=es(t),h=_r(a,d);h.tag=2,r!=null&&(h.callback=r),r=Kr(t,h,d),r!==null&&(Zt(r,t,d,a),Ai(r,t,d))}};function zu(t,r,a,d,h,m,x){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(d,m,x):r.prototype&&r.prototype.isPureReactComponent?!ca(a,d)||!ca(h,m):!0}function qu(t,r,a){var d=!1,h=Qr,m=r.contextType;return typeof m=="object"&&m!==null?m=Ot(m):(h=kt(r)?ks:ht.current,d=r.contextTypes,m=(d=d!=null)?an(t,h):Qr),r=new r(a,m),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Mi,t.stateNode=r,r._reactInternals=t,d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=m),r}function Wu(t,r,a,d){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,d),r.state!==t&&Mi.enqueueReplaceState(r,r.state,null)}function Ml(t,r,a,d){var h=t.stateNode;h.props=a,h.state=t.memoizedState,h.refs={},_l(t);var m=r.contextType;typeof m=="object"&&m!==null?h.context=Ot(m):(m=kt(r)?ks:ht.current,h.context=an(t,m)),h.state=t.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Fl(t,r,m,a),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Mi.enqueueReplaceState(h,h.state,null),Ii(t,a,h,d),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function fn(t,r){try{var a="",d=r;do a+=Q(d),d=d.return;while(d);var h=a}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:t,source:r,stack:h,digest:null}}function Ul(t,r,a){return{value:t,source:null,stack:a??null,digest:r??null}}function Bl(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var G0=typeof WeakMap=="function"?WeakMap:Map;function Vu(t,r,a){a=_r(-1,a),a.tag=3,a.payload={element:null};var d=r.value;return a.callback=function(){Hi||(Hi=!0,rc=d),Bl(t,r)},a}function Hu(t,r,a){a=_r(-1,a),a.tag=3;var d=t.type.getDerivedStateFromError;if(typeof d=="function"){var h=r.value;a.payload=function(){return d(h)},a.callback=function(){Bl(t,r)}}var m=t.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(a.callback=function(){Bl(t,r),typeof d!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var x=r.stack;this.componentDidCatch(r.value,{componentStack:x!==null?x:""})}),a}function Qu(t,r,a){var d=t.pingCache;if(d===null){d=t.pingCache=new G0;var h=new Set;d.set(r,h)}else h=d.get(r),h===void 0&&(h=new Set,d.set(r,h));h.has(a)||(h.add(a),t=lg.bind(null,t,r,a),r.then(t,t))}function Gu(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Ju(t,r,a,d,h){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=_r(-1,1),r.tag=2,Kr(a,r,1))),a.lanes|=1),t):(t.flags|=65536,t.lanes=h,t)}var J0=D.ReactCurrentOwner,_t=!1;function xt(t,r,a,d){r.child=t===null?gu(r,null,a,d):dn(r,t.child,a,d)}function Ku(t,r,a,d,h){a=a.render;var m=r.ref;return hn(r,h),d=Il(t,r,a,d,m,h),a=Rl(),t!==null&&!_t?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,Sr(t,r,h)):(ze&&a&&gl(r),r.flags|=1,xt(t,r,d,h),r.child)}function Yu(t,r,a,d,h){if(t===null){var m=a.type;return typeof m=="function"&&!cc(m)&&m.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=m,Xu(t,r,m,d,h)):(t=Xi(a.type,null,d,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,(t.lanes&h)===0){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:ca,a(x,d)&&t.ref===r.ref)return Sr(t,r,h)}return r.flags|=1,t=rs(m,d),t.ref=r.ref,t.return=r,r.child=t}function Xu(t,r,a,d,h){if(t!==null){var m=t.memoizedProps;if(ca(m,d)&&t.ref===r.ref)if(_t=!1,r.pendingProps=d=m,(t.lanes&h)!==0)(t.flags&131072)!==0&&(_t=!0);else return r.lanes=t.lanes,Sr(t,r,h)}return zl(t,r,a,d,h)}function Zu(t,r,a){var d=r.pendingProps,h=d.children,m=t!==null?t.memoizedState:null;if(d.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(pn,It),It|=a;else{if((a&1073741824)===0)return t=m!==null?m.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Fe(pn,It),It|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=m!==null?m.baseLanes:a,Fe(pn,It),It|=d}else m!==null?(d=m.baseLanes|a,r.memoizedState=null):d=a,Fe(pn,It),It|=d;return xt(t,r,h,a),r.child}function eh(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function zl(t,r,a,d,h){var m=kt(a)?ks:ht.current;return m=an(r,m),hn(r,h),a=Il(t,r,a,d,m,h),d=Rl(),t!==null&&!_t?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,Sr(t,r,h)):(ze&&d&&gl(r),r.flags|=1,xt(t,r,a,h),r.child)}function th(t,r,a,d,h){if(kt(a)){var m=!0;Ni(r)}else m=!1;if(hn(r,h),r.stateNode===null)Bi(t,r),qu(r,a,d),Ml(r,a,d,h),d=!0;else if(t===null){var x=r.stateNode,C=r.memoizedProps;x.props=C;var P=x.context,q=a.contextType;typeof q=="object"&&q!==null?q=Ot(q):(q=kt(a)?ks:ht.current,q=an(r,q));var K=a.getDerivedStateFromProps,Y=typeof K=="function"||typeof x.getSnapshotBeforeUpdate=="function";Y||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==d||P!==q)&&Wu(r,x,d,q),Jr=!1;var J=r.memoizedState;x.state=J,Ii(r,d,x,h),P=r.memoizedState,C!==d||J!==P||Nt.current||Jr?(typeof K=="function"&&(Fl(r,a,K,d),P=r.memoizedState),(C=Jr||zu(r,a,C,d,J,P,q))?(Y||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(r.flags|=4194308)):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=P),x.props=d,x.state=P,x.context=q,d=C):(typeof x.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{x=r.stateNode,xu(t,r),C=r.memoizedProps,q=r.type===r.elementType?C:Kt(r.type,C),x.props=q,Y=r.pendingProps,J=x.context,P=a.contextType,typeof P=="object"&&P!==null?P=Ot(P):(P=kt(a)?ks:ht.current,P=an(r,P));var ce=a.getDerivedStateFromProps;(K=typeof ce=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(C!==Y||J!==P)&&Wu(r,x,d,P),Jr=!1,J=r.memoizedState,x.state=J,Ii(r,d,x,h);var me=r.memoizedState;C!==Y||J!==me||Nt.current||Jr?(typeof ce=="function"&&(Fl(r,a,ce,d),me=r.memoizedState),(q=Jr||zu(r,a,q,d,J,me,P)||!1)?(K||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,me,P),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,me,P)),typeof x.componentDidUpdate=="function"&&(r.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof x.componentDidUpdate!="function"||C===t.memoizedProps&&J===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&J===t.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=me),x.props=d,x.state=me,x.context=P,d=q):(typeof x.componentDidUpdate!="function"||C===t.memoizedProps&&J===t.memoizedState||(r.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&J===t.memoizedState||(r.flags|=1024),d=!1)}return ql(t,r,a,d,m,h)}function ql(t,r,a,d,h,m){eh(t,r);var x=(r.flags&128)!==0;if(!d&&!x)return h&&iu(r,a,!1),Sr(t,r,m);d=r.stateNode,J0.current=r;var C=x&&typeof a.getDerivedStateFromError!="function"?null:d.render();return r.flags|=1,t!==null&&x?(r.child=dn(r,t.child,null,m),r.child=dn(r,null,C,m)):xt(t,r,C,m),r.memoizedState=d.state,h&&iu(r,a,!0),r.child}function rh(t){var r=t.stateNode;r.pendingContext?nu(t,r.pendingContext,r.pendingContext!==r.context):r.context&&nu(t,r.context,!1),Sl(t,r.containerInfo)}function sh(t,r,a,d,h){return cn(),vl(h),r.flags|=256,xt(t,r,a,d),r.child}var Wl={dehydrated:null,treeContext:null,retryLane:0};function Vl(t){return{baseLanes:t,cachePool:null,transitions:null}}function nh(t,r,a){var d=r.pendingProps,h=He.current,m=!1,x=(r.flags&128)!==0,C;if((C=x)||(C=t!==null&&t.memoizedState===null?!1:(h&2)!==0),C?(m=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),Fe(He,h&1),t===null)return yl(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(x=d.children,t=d.fallback,m?(d=r.mode,m=r.child,x={mode:"hidden",children:x},(d&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=x):m=Zi(x,d,0,null),t=$s(t,d,a,null),m.return=r,t.return=r,m.sibling=t,r.child=m,r.child.memoizedState=Vl(a),r.memoizedState=Wl,t):Hl(r,x));if(h=t.memoizedState,h!==null&&(C=h.dehydrated,C!==null))return K0(t,r,x,d,C,h,a);if(m){m=d.fallback,x=r.mode,h=t.child,C=h.sibling;var P={mode:"hidden",children:d.children};return(x&1)===0&&r.child!==h?(d=r.child,d.childLanes=0,d.pendingProps=P,r.deletions=null):(d=rs(h,P),d.subtreeFlags=h.subtreeFlags&14680064),C!==null?m=rs(C,m):(m=$s(m,x,a,null),m.flags|=2),m.return=r,d.return=r,d.sibling=m,r.child=d,d=m,m=r.child,x=t.child.memoizedState,x=x===null?Vl(a):{baseLanes:x.baseLanes|a,cachePool:null,transitions:x.transitions},m.memoizedState=x,m.childLanes=t.childLanes&~a,r.memoizedState=Wl,d}return m=t.child,t=m.sibling,d=rs(m,{mode:"visible",children:d.children}),(r.mode&1)===0&&(d.lanes=a),d.return=r,d.sibling=null,t!==null&&(a=r.deletions,a===null?(r.deletions=[t],r.flags|=16):a.push(t)),r.child=d,r.memoizedState=null,d}function Hl(t,r){return r=Zi({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function Ui(t,r,a,d){return d!==null&&vl(d),dn(r,t.child,null,a),t=Hl(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function K0(t,r,a,d,h,m,x){if(a)return r.flags&256?(r.flags&=-257,d=Ul(Error(n(422))),Ui(t,r,x,d)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(m=d.fallback,h=r.mode,d=Zi({mode:"visible",children:d.children},h,0,null),m=$s(m,h,x,null),m.flags|=2,d.return=r,m.return=r,d.sibling=m,r.child=d,(r.mode&1)!==0&&dn(r,t.child,null,x),r.child.memoizedState=Vl(x),r.memoizedState=Wl,m);if((r.mode&1)===0)return Ui(t,r,x,null);if(h.data==="$!"){if(d=h.nextSibling&&h.nextSibling.dataset,d)var C=d.dgst;return d=C,m=Error(n(419)),d=Ul(m,d,void 0),Ui(t,r,x,d)}if(C=(x&t.childLanes)!==0,_t||C){if(d=at,d!==null){switch(x&-x){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(d.suspendedLanes|x))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,kr(t,h),Zt(d,t,h,-1))}return lc(),d=Ul(Error(n(421))),Ui(t,r,x,d)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=cg.bind(null,t),h._reactRetry=r,null):(t=m.treeContext,At=Vr(h.nextSibling),Tt=r,ze=!0,Jt=null,t!==null&&($t[Dt++]=jr,$t[Dt++]=Nr,$t[Dt++]=_s,jr=t.id,Nr=t.overflow,_s=r),r=Hl(r,d.children),r.flags|=4096,r)}function ah(t,r,a){t.lanes|=r;var d=t.alternate;d!==null&&(d.lanes|=r),Nl(t.return,r,a)}function Ql(t,r,a,d,h){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=d,m.tail=a,m.tailMode=h)}function ih(t,r,a){var d=r.pendingProps,h=d.revealOrder,m=d.tail;if(xt(t,r,d.children,a),d=He.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ah(t,a,r);else if(t.tag===19)ah(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}d&=1}if(Fe(He,d),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Ri(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Ql(r,!1,h,a,m);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Ri(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Ql(r,!0,a,null,m);break;case"together":Ql(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Bi(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Sr(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ts|=r.lanes,(a&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,a=rs(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=rs(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Y0(t,r,a){switch(r.tag){case 3:rh(r),cn();break;case 5:bu(r);break;case 1:kt(r.type)&&Ni(r);break;case 4:Sl(r,r.stateNode.containerInfo);break;case 10:var d=r.type._context,h=r.memoizedProps.value;Fe(Pi,d._currentValue),d._currentValue=h;break;case 13:if(d=r.memoizedState,d!==null)return d.dehydrated!==null?(Fe(He,He.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?nh(t,r,a):(Fe(He,He.current&1),t=Sr(t,r,a),t!==null?t.sibling:null);Fe(He,He.current&1);break;case 19:if(d=(a&r.childLanes)!==0,(t.flags&128)!==0){if(d)return ih(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Fe(He,He.current),d)break;return null;case 22:case 23:return r.lanes=0,Zu(t,r,a)}return Sr(t,r,a)}var oh,Gl,lh,ch;oh=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Gl=function(){},lh=function(t,r,a,d){var h=t.memoizedProps;if(h!==d){t=r.stateNode,Es(lr.current);var m=null;switch(a){case"input":h=Fn(t,h),d=Fn(t,d),m=[];break;case"select":h=z({},h,{value:void 0}),d=z({},d,{value:void 0}),m=[];break;case"textarea":h=Rr(t,h),d=Rr(t,d),m=[];break;default:typeof h.onClick!="function"&&typeof d.onClick=="function"&&(t.onclick=bi)}Hs(a,d);var x;a=null;for(q in h)if(!d.hasOwnProperty(q)&&h.hasOwnProperty(q)&&h[q]!=null)if(q==="style"){var C=h[q];for(x in C)C.hasOwnProperty(x)&&(a||(a={}),a[x]="")}else q!=="dangerouslySetInnerHTML"&&q!=="children"&&q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(c.hasOwnProperty(q)?m||(m=[]):(m=m||[]).push(q,null));for(q in d){var P=d[q];if(C=h?.[q],d.hasOwnProperty(q)&&P!==C&&(P!=null||C!=null))if(q==="style")if(C){for(x in C)!C.hasOwnProperty(x)||P&&P.hasOwnProperty(x)||(a||(a={}),a[x]="");for(x in P)P.hasOwnProperty(x)&&C[x]!==P[x]&&(a||(a={}),a[x]=P[x])}else a||(m||(m=[]),m.push(q,a)),a=P;else q==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,C=C?C.__html:void 0,P!=null&&C!==P&&(m=m||[]).push(q,P)):q==="children"?typeof P!="string"&&typeof P!="number"||(m=m||[]).push(q,""+P):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&(c.hasOwnProperty(q)?(P!=null&&q==="onScroll"&&Ue("scroll",t),m||C===P||(m=[])):(m=m||[]).push(q,P))}a&&(m=m||[]).push("style",a);var q=m;(r.updateQueue=q)&&(r.flags|=4)}},ch=function(t,r,a,d){a!==d&&(r.flags|=4)};function ka(t,r){if(!ze)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:d.sibling=null}}function ft(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,d=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,d|=h.subtreeFlags&14680064,d|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=d,t.childLanes=a,r}function X0(t,r,a){var d=r.pendingProps;switch(pl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return kt(r.type)&&ji(),ft(r),null;case 3:return d=r.stateNode,mn(),Be(Nt),Be(ht),Pl(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(t===null||t.child===null)&&(Ci(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jt!==null&&(ac(Jt),Jt=null))),Gl(t,r),ft(r),null;case 5:Cl(r);var h=Es(va.current);if(a=r.type,t!==null&&r.stateNode!=null)lh(t,r,a,d,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!d){if(r.stateNode===null)throw Error(n(166));return ft(r),null}if(t=Es(lr.current),Ci(r)){d=r.stateNode,a=r.type;var m=r.memoizedProps;switch(d[or]=r,d[fa]=m,t=(r.mode&1)!==0,a){case"dialog":Ue("cancel",d),Ue("close",d);break;case"iframe":case"object":case"embed":Ue("load",d);break;case"video":case"audio":for(h=0;h<ua.length;h++)Ue(ua[h],d);break;case"source":Ue("error",d);break;case"img":case"image":case"link":Ue("error",d),Ue("load",d);break;case"details":Ue("toggle",d);break;case"input":Ao(d,m),Ue("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!m.multiple},Ue("invalid",d);break;case"textarea":Ws(d,m),Ue("invalid",d)}Hs(a,m),h=null;for(var x in m)if(m.hasOwnProperty(x)){var C=m[x];x==="children"?typeof C=="string"?d.textContent!==C&&(m.suppressHydrationWarning!==!0&&vi(d.textContent,C,t),h=["children",C]):typeof C=="number"&&d.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&vi(d.textContent,C,t),h=["children",""+C]):c.hasOwnProperty(x)&&C!=null&&x==="onScroll"&&Ue("scroll",d)}switch(a){case"input":Wt(d),Io(d,m,!0);break;case"textarea":Wt(d),$r(d);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(d.onclick=bi)}d=h,r.updateQueue=d,d!==null&&(r.flags|=4)}else{x=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ys(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=x.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof d.is=="string"?t=x.createElement(a,{is:d.is}):(t=x.createElement(a),a==="select"&&(x=t,d.multiple?x.multiple=!0:d.size&&(x.size=d.size))):t=x.createElementNS(t,a),t[or]=r,t[fa]=d,oh(t,r,!1,!1),r.stateNode=t;e:{switch(x=Qt(a,d),a){case"dialog":Ue("cancel",t),Ue("close",t),h=d;break;case"iframe":case"object":case"embed":Ue("load",t),h=d;break;case"video":case"audio":for(h=0;h<ua.length;h++)Ue(ua[h],t);h=d;break;case"source":Ue("error",t),h=d;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),h=d;break;case"details":Ue("toggle",t),h=d;break;case"input":Ao(t,d),h=Fn(t,d),Ue("invalid",t);break;case"option":h=d;break;case"select":t._wrapperState={wasMultiple:!!d.multiple},h=z({},d,{value:void 0}),Ue("invalid",t);break;case"textarea":Ws(t,d),h=Rr(t,d),Ue("invalid",t);break;default:h=d}Hs(a,h),C=h;for(m in C)if(C.hasOwnProperty(m)){var P=C[m];m==="style"?Un(t,P):m==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&fr(t,P)):m==="children"?typeof P=="string"?(a!=="textarea"||P!=="")&&Or(t,P):typeof P=="number"&&Or(t,""+P):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(c.hasOwnProperty(m)?P!=null&&m==="onScroll"&&Ue("scroll",t):P!=null&&R(t,m,P,x))}switch(a){case"input":Wt(t),Io(t,d,!1);break;case"textarea":Wt(t),$r(t);break;case"option":d.value!=null&&t.setAttribute("value",""+Ee(d.value));break;case"select":t.multiple=!!d.multiple,m=d.value,m!=null?nr(t,!!d.multiple,m,!1):d.defaultValue!=null&&nr(t,!!d.multiple,d.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=bi)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ft(r),null;case 6:if(t&&r.stateNode!=null)ch(t,r,t.memoizedProps,d);else{if(typeof d!="string"&&r.stateNode===null)throw Error(n(166));if(a=Es(va.current),Es(lr.current),Ci(r)){if(d=r.stateNode,a=r.memoizedProps,d[or]=r,(m=d.nodeValue!==a)&&(t=Tt,t!==null))switch(t.tag){case 3:vi(d.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vi(d.nodeValue,a,(t.mode&1)!==0)}m&&(r.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[or]=r,r.stateNode=d}return ft(r),null;case 13:if(Be(He),d=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&At!==null&&(r.mode&1)!==0&&(r.flags&128)===0)hu(),cn(),r.flags|=98560,m=!1;else if(m=Ci(r),d!==null&&d.dehydrated!==null){if(t===null){if(!m)throw Error(n(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(n(317));m[or]=r}else cn(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),m=!1}else Jt!==null&&(ac(Jt),Jt=null),m=!0;if(!m)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=a,r):(d=d!==null,d!==(t!==null&&t.memoizedState!==null)&&d&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(He.current&1)!==0?et===0&&(et=3):lc())),r.updateQueue!==null&&(r.flags|=4),ft(r),null);case 4:return mn(),Gl(t,r),t===null&&ha(r.stateNode.containerInfo),ft(r),null;case 10:return jl(r.type._context),ft(r),null;case 17:return kt(r.type)&&ji(),ft(r),null;case 19:if(Be(He),m=r.memoizedState,m===null)return ft(r),null;if(d=(r.flags&128)!==0,x=m.rendering,x===null)if(d)ka(m,!1);else{if(et!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(x=Ri(t),x!==null){for(r.flags|=128,ka(m,!1),d=x.updateQueue,d!==null&&(r.updateQueue=d,r.flags|=4),r.subtreeFlags=0,d=a,a=r.child;a!==null;)m=a,t=d,m.flags&=14680066,x=m.alternate,x===null?(m.childLanes=0,m.lanes=t,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=x.childLanes,m.lanes=x.lanes,m.child=x.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=x.memoizedProps,m.memoizedState=x.memoizedState,m.updateQueue=x.updateQueue,m.type=x.type,t=x.dependencies,m.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Fe(He,He.current&1|2),r.child}t=t.sibling}m.tail!==null&&We()>xn&&(r.flags|=128,d=!0,ka(m,!1),r.lanes=4194304)}else{if(!d)if(t=Ri(x),t!==null){if(r.flags|=128,d=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),ka(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ze)return ft(r),null}else 2*We()-m.renderingStartTime>xn&&a!==1073741824&&(r.flags|=128,d=!0,ka(m,!1),r.lanes=4194304);m.isBackwards?(x.sibling=r.child,r.child=x):(a=m.last,a!==null?a.sibling=x:r.child=x,m.last=x)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=We(),r.sibling=null,a=He.current,Fe(He,d?a&1|2:a&1),r):(ft(r),null);case 22:case 23:return oc(),d=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==d&&(r.flags|=8192),d&&(r.mode&1)!==0?(It&1073741824)!==0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Z0(t,r){switch(pl(r),r.tag){case 1:return kt(r.type)&&ji(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return mn(),Be(Nt),Be(ht),Pl(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return Cl(r),null;case 13:if(Be(He),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));cn()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Be(He),null;case 4:return mn(),null;case 10:return jl(r.type._context),null;case 22:case 23:return oc(),null;case 24:return null;default:return null}}var zi=!1,gt=!1,eg=typeof WeakSet=="function"?WeakSet:Set,ue=null;function gn(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){Ge(t,r,d)}else a.current=null}function Jl(t,r,a){try{a()}catch(d){Ge(t,r,d)}}var dh=!1;function tg(t,r){if(ol=li,t=zd(),Zo(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var h=d.anchorOffset,m=d.focusNode;d=d.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var x=0,C=-1,P=-1,q=0,K=0,Y=t,J=null;t:for(;;){for(var ce;Y!==a||h!==0&&Y.nodeType!==3||(C=x+h),Y!==m||d!==0&&Y.nodeType!==3||(P=x+d),Y.nodeType===3&&(x+=Y.nodeValue.length),(ce=Y.firstChild)!==null;)J=Y,Y=ce;for(;;){if(Y===t)break t;if(J===a&&++q===h&&(C=x),J===m&&++K===d&&(P=x),(ce=Y.nextSibling)!==null)break;Y=J,J=Y.parentNode}Y=ce}a=C===-1||P===-1?null:{start:C,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(ll={focusedElem:t,selectionRange:a},li=!1,ue=r;ue!==null;)if(r=ue,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ue=t;else for(;ue!==null;){r=ue;try{var me=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ge=me.memoizedProps,Je=me.memoizedState,O=r.stateNode,T=O.getSnapshotBeforeUpdate(r.elementType===r.type?ge:Kt(r.type,ge),Je);O.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){Ge(r,r.return,Z)}if(t=r.sibling,t!==null){t.return=r.return,ue=t;break}ue=r.return}return me=dh,dh=!1,me}function _a(t,r,a){var d=r.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var h=d=d.next;do{if((h.tag&t)===t){var m=h.destroy;h.destroy=void 0,m!==void 0&&Jl(r,a,m)}h=h.next}while(h!==d)}}function qi(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var d=a.create;a.destroy=d()}a=a.next}while(a!==r)}}function Kl(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function uh(t){var r=t.alternate;r!==null&&(t.alternate=null,uh(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[or],delete r[fa],delete r[hl],delete r[L0],delete r[F0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hh(t){return t.tag===5||t.tag===3||t.tag===4}function mh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yl(t,r,a){var d=t.tag;if(d===5||d===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=bi));else if(d!==4&&(t=t.child,t!==null))for(Yl(t,r,a),t=t.sibling;t!==null;)Yl(t,r,a),t=t.sibling}function Xl(t,r,a){var d=t.tag;if(d===5||d===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(d!==4&&(t=t.child,t!==null))for(Xl(t,r,a),t=t.sibling;t!==null;)Xl(t,r,a),t=t.sibling}var dt=null,Yt=!1;function Yr(t,r,a){for(a=a.child;a!==null;)fh(t,r,a),a=a.sibling}function fh(t,r,a){if(b&&typeof b.onCommitFiberUnmount=="function")try{b.onCommitFiberUnmount(Js,a)}catch{}switch(a.tag){case 5:gt||gn(a,r);case 6:var d=dt,h=Yt;dt=null,Yr(t,r,a),dt=d,Yt=h,dt!==null&&(Yt?(t=dt,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):dt.removeChild(a.stateNode));break;case 18:dt!==null&&(Yt?(t=dt,a=a.stateNode,t.nodeType===8?ul(t.parentNode,a):t.nodeType===1&&ul(t,a),sa(t)):ul(dt,a.stateNode));break;case 4:d=dt,h=Yt,dt=a.stateNode.containerInfo,Yt=!0,Yr(t,r,a),dt=d,Yt=h;break;case 0:case 11:case 14:case 15:if(!gt&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){h=d=d.next;do{var m=h,x=m.destroy;m=m.tag,x!==void 0&&((m&2)!==0||(m&4)!==0)&&Jl(a,r,x),h=h.next}while(h!==d)}Yr(t,r,a);break;case 1:if(!gt&&(gn(a,r),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(C){Ge(a,r,C)}Yr(t,r,a);break;case 21:Yr(t,r,a);break;case 22:a.mode&1?(gt=(d=gt)||a.memoizedState!==null,Yr(t,r,a),gt=d):Yr(t,r,a);break;default:Yr(t,r,a)}}function gh(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new eg),r.forEach(function(d){var h=dg.bind(null,t,d);a.has(d)||(a.add(d),d.then(h,h))})}}function Xt(t,r){var a=r.deletions;if(a!==null)for(var d=0;d<a.length;d++){var h=a[d];try{var m=t,x=r,C=x;e:for(;C!==null;){switch(C.tag){case 5:dt=C.stateNode,Yt=!1;break e;case 3:dt=C.stateNode.containerInfo,Yt=!0;break e;case 4:dt=C.stateNode.containerInfo,Yt=!0;break e}C=C.return}if(dt===null)throw Error(n(160));fh(m,x,h),dt=null,Yt=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(q){Ge(h,r,q)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ph(r,t),r=r.sibling}function ph(t,r){var a=t.alternate,d=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(r,t),dr(t),d&4){try{_a(3,t,t.return),qi(3,t)}catch(ge){Ge(t,t.return,ge)}try{_a(5,t,t.return)}catch(ge){Ge(t,t.return,ge)}}break;case 1:Xt(r,t),dr(t),d&512&&a!==null&&gn(a,a.return);break;case 5:if(Xt(r,t),dr(t),d&512&&a!==null&&gn(a,a.return),t.flags&32){var h=t.stateNode;try{Or(h,"")}catch(ge){Ge(t,t.return,ge)}}if(d&4&&(h=t.stateNode,h!=null)){var m=t.memoizedProps,x=a!==null?a.memoizedProps:m,C=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&Qa(h,m),Qt(C,x);var q=Qt(C,m);for(x=0;x<P.length;x+=2){var K=P[x],Y=P[x+1];K==="style"?Un(h,Y):K==="dangerouslySetInnerHTML"?fr(h,Y):K==="children"?Or(h,Y):R(h,K,Y,q)}switch(C){case"input":Ga(h,m);break;case"textarea":xs(h,m);break;case"select":var J=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var ce=m.value;ce!=null?nr(h,!!m.multiple,ce,!1):J!==!!m.multiple&&(m.defaultValue!=null?nr(h,!!m.multiple,m.defaultValue,!0):nr(h,!!m.multiple,m.multiple?[]:"",!1))}h[fa]=m}catch(ge){Ge(t,t.return,ge)}}break;case 6:if(Xt(r,t),dr(t),d&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,m=t.memoizedProps;try{h.nodeValue=m}catch(ge){Ge(t,t.return,ge)}}break;case 3:if(Xt(r,t),dr(t),d&4&&a!==null&&a.memoizedState.isDehydrated)try{sa(r.containerInfo)}catch(ge){Ge(t,t.return,ge)}break;case 4:Xt(r,t),dr(t);break;case 13:Xt(r,t),dr(t),h=t.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(tc=We())),d&4&&gh(t);break;case 22:if(K=a!==null&&a.memoizedState!==null,t.mode&1?(gt=(q=gt)||K,Xt(r,t),gt=q):Xt(r,t),dr(t),d&8192){if(q=t.memoizedState!==null,(t.stateNode.isHidden=q)&&!K&&(t.mode&1)!==0)for(ue=t,K=t.child;K!==null;){for(Y=ue=K;ue!==null;){switch(J=ue,ce=J.child,J.tag){case 0:case 11:case 14:case 15:_a(4,J,J.return);break;case 1:gn(J,J.return);var me=J.stateNode;if(typeof me.componentWillUnmount=="function"){d=J,a=J.return;try{r=d,me.props=r.memoizedProps,me.state=r.memoizedState,me.componentWillUnmount()}catch(ge){Ge(d,a,ge)}}break;case 5:gn(J,J.return);break;case 22:if(J.memoizedState!==null){vh(Y);continue}}ce!==null?(ce.return=J,ue=ce):vh(Y)}K=K.sibling}e:for(K=null,Y=t;;){if(Y.tag===5){if(K===null){K=Y;try{h=Y.stateNode,q?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=Y.stateNode,P=Y.memoizedProps.style,x=P!=null&&P.hasOwnProperty("display")?P.display:null,C.style.display=Mn("display",x))}catch(ge){Ge(t,t.return,ge)}}}else if(Y.tag===6){if(K===null)try{Y.stateNode.nodeValue=q?"":Y.memoizedProps}catch(ge){Ge(t,t.return,ge)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;K===Y&&(K=null),Y=Y.return}K===Y&&(K=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Xt(r,t),dr(t),d&4&&gh(t);break;case 21:break;default:Xt(r,t),dr(t)}}function dr(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(hh(a)){var d=a;break e}a=a.return}throw Error(n(160))}switch(d.tag){case 5:var h=d.stateNode;d.flags&32&&(Or(h,""),d.flags&=-33);var m=mh(t);Xl(t,m,h);break;case 3:case 4:var x=d.stateNode.containerInfo,C=mh(t);Yl(t,C,x);break;default:throw Error(n(161))}}catch(P){Ge(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function rg(t,r,a){ue=t,xh(t)}function xh(t,r,a){for(var d=(t.mode&1)!==0;ue!==null;){var h=ue,m=h.child;if(h.tag===22&&d){var x=h.memoizedState!==null||zi;if(!x){var C=h.alternate,P=C!==null&&C.memoizedState!==null||gt;C=zi;var q=gt;if(zi=x,(gt=P)&&!q)for(ue=h;ue!==null;)x=ue,P=x.child,x.tag===22&&x.memoizedState!==null?bh(h):P!==null?(P.return=x,ue=P):bh(h);for(;m!==null;)ue=m,xh(m),m=m.sibling;ue=h,zi=C,gt=q}yh(t)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,ue=m):yh(t)}}function yh(t){for(;ue!==null;){var r=ue;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:gt||qi(5,r);break;case 1:var d=r.stateNode;if(r.flags&4&&!gt)if(a===null)d.componentDidMount();else{var h=r.elementType===r.type?a.memoizedProps:Kt(r.type,a.memoizedProps);d.componentDidUpdate(h,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&vu(r,m,d);break;case 3:var x=r.updateQueue;if(x!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}vu(r,x,a)}break;case 5:var C=r.stateNode;if(a===null&&r.flags&4){a=C;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&a.focus();break;case"img":P.src&&(a.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var q=r.alternate;if(q!==null){var K=q.memoizedState;if(K!==null){var Y=K.dehydrated;Y!==null&&sa(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}gt||r.flags&512&&Kl(r)}catch(J){Ge(r,r.return,J)}}if(r===t){ue=null;break}if(a=r.sibling,a!==null){a.return=r.return,ue=a;break}ue=r.return}}function vh(t){for(;ue!==null;){var r=ue;if(r===t){ue=null;break}var a=r.sibling;if(a!==null){a.return=r.return,ue=a;break}ue=r.return}}function bh(t){for(;ue!==null;){var r=ue;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{qi(4,r)}catch(P){Ge(r,a,P)}break;case 1:var d=r.stateNode;if(typeof d.componentDidMount=="function"){var h=r.return;try{d.componentDidMount()}catch(P){Ge(r,h,P)}}var m=r.return;try{Kl(r)}catch(P){Ge(r,m,P)}break;case 5:var x=r.return;try{Kl(r)}catch(P){Ge(r,x,P)}}}catch(P){Ge(r,r.return,P)}if(r===t){ue=null;break}var C=r.sibling;if(C!==null){C.return=r.return,ue=C;break}ue=r.return}}var sg=Math.ceil,Wi=D.ReactCurrentDispatcher,Zl=D.ReactCurrentOwner,Ft=D.ReactCurrentBatchConfig,Ie=0,at=null,Ye=null,ut=0,It=0,pn=Hr(0),et=0,Sa=null,Ts=0,Vi=0,ec=0,Ca=null,St=null,tc=0,xn=1/0,Cr=null,Hi=!1,rc=null,Xr=null,Qi=!1,Zr=null,Gi=0,Ea=0,sc=null,Ji=-1,Ki=0;function yt(){return(Ie&6)!==0?We():Ji!==-1?Ji:Ji=We()}function es(t){return(t.mode&1)===0?1:(Ie&2)!==0&&ut!==0?ut&-ut:U0.transition!==null?(Ki===0&&(Ki=md()),Ki):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:jd(t.type)),t)}function Zt(t,r,a,d){if(50<Ea)throw Ea=0,sc=null,Error(n(185));Xn(t,a,d),((Ie&2)===0||t!==at)&&(t===at&&((Ie&2)===0&&(Vi|=a),et===4&&ts(t,ut)),Ct(t,d),a===1&&Ie===0&&(r.mode&1)===0&&(xn=We()+500,ki&&Gr()))}function Ct(t,r){var a=t.callbackNode;vr(t,r);var d=jt(t,t===at?ut:0);if(d===0)a!==null&&ri(a),t.callbackNode=null,t.callbackPriority=0;else if(r=d&-d,t.callbackPriority!==r){if(a!=null&&ri(a),r===1)t.tag===0?M0(jh.bind(null,t)):ou(jh.bind(null,t)),D0(function(){(Ie&6)===0&&Gr()}),a=null;else{switch(fd(d)){case 1:a=Yn;break;case 4:a=si;break;case 16:a=Ve;break;case 536870912:a=ni;break;default:a=Ve}a=Th(a,wh.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function wh(t,r){if(Ji=-1,Ki=0,(Ie&6)!==0)throw Error(n(327));var a=t.callbackNode;if(yn()&&t.callbackNode!==a)return null;var d=jt(t,t===at?ut:0);if(d===0)return null;if((d&30)!==0||(d&t.expiredLanes)!==0||r)r=Yi(t,d);else{r=d;var h=Ie;Ie|=2;var m=kh();(at!==t||ut!==r)&&(Cr=null,xn=We()+500,Is(t,r));do try{ig();break}catch(C){Nh(t,C)}while(!0);wl(),Wi.current=m,Ie=h,Ye!==null?r=0:(at=null,ut=0,r=et)}if(r!==0){if(r===2&&(h=ai(t),h!==0&&(d=h,r=nc(t,h))),r===1)throw a=Sa,Is(t,0),ts(t,d),Ct(t,We()),a;if(r===6)ts(t,d);else{if(h=t.current.alternate,(d&30)===0&&!ng(h)&&(r=Yi(t,d),r===2&&(m=ai(t),m!==0&&(d=m,r=nc(t,m))),r===1))throw a=Sa,Is(t,0),ts(t,d),Ct(t,We()),a;switch(t.finishedWork=h,t.finishedLanes=d,r){case 0:case 1:throw Error(n(345));case 2:Rs(t,St,Cr);break;case 3:if(ts(t,d),(d&130023424)===d&&(r=tc+500-We(),10<r)){if(jt(t,0)!==0)break;if(h=t.suspendedLanes,(h&d)!==d){yt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=dl(Rs.bind(null,t,St,Cr),r);break}Rs(t,St,Cr);break;case 4:if(ts(t,d),(d&4194240)===d)break;for(r=t.eventTimes,h=-1;0<d;){var x=31-X(d);m=1<<x,x=r[x],x>h&&(h=x),d&=~m}if(d=h,d=We()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*sg(d/1960))-d,10<d){t.timeoutHandle=dl(Rs.bind(null,t,St,Cr),d);break}Rs(t,St,Cr);break;case 5:Rs(t,St,Cr);break;default:throw Error(n(329))}}}return Ct(t,We()),t.callbackNode===a?wh.bind(null,t):null}function nc(t,r){var a=Ca;return t.current.memoizedState.isDehydrated&&(Is(t,r).flags|=256),t=Yi(t,r),t!==2&&(r=St,St=a,r!==null&&ac(r)),t}function ac(t){St===null?St=t:St.push.apply(St,t)}function ng(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var h=a[d],m=h.getSnapshot;h=h.value;try{if(!Gt(m(),h))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ts(t,r){for(r&=~ec,r&=~Vi,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-X(r),d=1<<a;t[a]=-1,r&=~d}}function jh(t){if((Ie&6)!==0)throw Error(n(327));yn();var r=jt(t,0);if((r&1)===0)return Ct(t,We()),null;var a=Yi(t,r);if(t.tag!==0&&a===2){var d=ai(t);d!==0&&(r=d,a=nc(t,d))}if(a===1)throw a=Sa,Is(t,0),ts(t,r),Ct(t,We()),a;if(a===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Rs(t,St,Cr),Ct(t,We()),null}function ic(t,r){var a=Ie;Ie|=1;try{return t(r)}finally{Ie=a,Ie===0&&(xn=We()+500,ki&&Gr())}}function As(t){Zr!==null&&Zr.tag===0&&(Ie&6)===0&&yn();var r=Ie;Ie|=1;var a=Ft.transition,d=Oe;try{if(Ft.transition=null,Oe=1,t)return t()}finally{Oe=d,Ft.transition=a,Ie=r,(Ie&6)===0&&Gr()}}function oc(){It=pn.current,Be(pn)}function Is(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,$0(a)),Ye!==null)for(a=Ye.return;a!==null;){var d=a;switch(pl(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ji();break;case 3:mn(),Be(Nt),Be(ht),Pl();break;case 5:Cl(d);break;case 4:mn();break;case 13:Be(He);break;case 19:Be(He);break;case 10:jl(d.type._context);break;case 22:case 23:oc()}a=a.return}if(at=t,Ye=t=rs(t.current,null),ut=It=r,et=0,Sa=null,ec=Vi=Ts=0,St=Ca=null,Cs!==null){for(r=0;r<Cs.length;r++)if(a=Cs[r],d=a.interleaved,d!==null){a.interleaved=null;var h=d.next,m=a.pending;if(m!==null){var x=m.next;m.next=h,d.next=x}a.pending=d}Cs=null}return t}function Nh(t,r){do{var a=Ye;try{if(wl(),$i.current=Fi,Di){for(var d=Qe.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}Di=!1}if(Ps=0,nt=Ze=Qe=null,ba=!1,wa=0,Zl.current=null,a===null||a.return===null){et=1,Sa=r,Ye=null;break}e:{var m=t,x=a.return,C=a,P=r;if(r=ut,C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var q=P,K=C,Y=K.tag;if((K.mode&1)===0&&(Y===0||Y===11||Y===15)){var J=K.alternate;J?(K.updateQueue=J.updateQueue,K.memoizedState=J.memoizedState,K.lanes=J.lanes):(K.updateQueue=null,K.memoizedState=null)}var ce=Gu(x);if(ce!==null){ce.flags&=-257,Ju(ce,x,C,m,r),ce.mode&1&&Qu(m,q,r),r=ce,P=q;var me=r.updateQueue;if(me===null){var ge=new Set;ge.add(P),r.updateQueue=ge}else me.add(P);break e}else{if((r&1)===0){Qu(m,q,r),lc();break e}P=Error(n(426))}}else if(ze&&C.mode&1){var Je=Gu(x);if(Je!==null){(Je.flags&65536)===0&&(Je.flags|=256),Ju(Je,x,C,m,r),vl(fn(P,C));break e}}m=P=fn(P,C),et!==4&&(et=2),Ca===null?Ca=[m]:Ca.push(m),m=x;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var O=Vu(m,P,r);yu(m,O);break e;case 1:C=P;var T=m.type,F=m.stateNode;if((m.flags&128)===0&&(typeof T.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Xr===null||!Xr.has(F)))){m.flags|=65536,r&=-r,m.lanes|=r;var Z=Hu(m,C,r);yu(m,Z);break e}}m=m.return}while(m!==null)}Sh(a)}catch(pe){r=pe,Ye===a&&a!==null&&(Ye=a=a.return);continue}break}while(!0)}function kh(){var t=Wi.current;return Wi.current=Fi,t===null?Fi:t}function lc(){(et===0||et===3||et===2)&&(et=4),at===null||(Ts&268435455)===0&&(Vi&268435455)===0||ts(at,ut)}function Yi(t,r){var a=Ie;Ie|=2;var d=kh();(at!==t||ut!==r)&&(Cr=null,Is(t,r));do try{ag();break}catch(h){Nh(t,h)}while(!0);if(wl(),Ie=a,Wi.current=d,Ye!==null)throw Error(n(261));return at=null,ut=0,et}function ag(){for(;Ye!==null;)_h(Ye)}function ig(){for(;Ye!==null&&!Kn();)_h(Ye)}function _h(t){var r=Ph(t.alternate,t,It);t.memoizedProps=t.pendingProps,r===null?Sh(t):Ye=r,Zl.current=null}function Sh(t){var r=t;do{var a=r.alternate;if(t=r.return,(r.flags&32768)===0){if(a=X0(a,r,It),a!==null){Ye=a;return}}else{if(a=Z0(a,r),a!==null){a.flags&=32767,Ye=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ye=null;return}}if(r=r.sibling,r!==null){Ye=r;return}Ye=r=t}while(r!==null);et===0&&(et=5)}function Rs(t,r,a){var d=Oe,h=Ft.transition;try{Ft.transition=null,Oe=1,og(t,r,a,d)}finally{Ft.transition=h,Oe=d}return null}function og(t,r,a,d){do yn();while(Zr!==null);if((Ie&6)!==0)throw Error(n(327));a=t.finishedWork;var h=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var m=a.lanes|a.childLanes;if(Bf(t,m),t===at&&(Ye=at=null,ut=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||Qi||(Qi=!0,Th(Ve,function(){return yn(),null})),m=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||m){m=Ft.transition,Ft.transition=null;var x=Oe;Oe=1;var C=Ie;Ie|=4,Zl.current=null,tg(t,a),ph(a,t),C0(ll),li=!!ol,ll=ol=null,t.current=a,rg(a),Oo(),Ie=C,Oe=x,Ft.transition=m}else t.current=a;if(Qi&&(Qi=!1,Zr=t,Gi=h),m=t.pendingLanes,m===0&&(Xr=null),W(a.stateNode),Ct(t,We()),r!==null)for(d=t.onRecoverableError,a=0;a<r.length;a++)h=r[a],d(h.value,{componentStack:h.stack,digest:h.digest});if(Hi)throw Hi=!1,t=rc,rc=null,t;return(Gi&1)!==0&&t.tag!==0&&yn(),m=t.pendingLanes,(m&1)!==0?t===sc?Ea++:(Ea=0,sc=t):Ea=0,Gr(),null}function yn(){if(Zr!==null){var t=fd(Gi),r=Ft.transition,a=Oe;try{if(Ft.transition=null,Oe=16>t?16:t,Zr===null)var d=!1;else{if(t=Zr,Zr=null,Gi=0,(Ie&6)!==0)throw Error(n(331));var h=Ie;for(Ie|=4,ue=t.current;ue!==null;){var m=ue,x=m.child;if((ue.flags&16)!==0){var C=m.deletions;if(C!==null){for(var P=0;P<C.length;P++){var q=C[P];for(ue=q;ue!==null;){var K=ue;switch(K.tag){case 0:case 11:case 15:_a(8,K,m)}var Y=K.child;if(Y!==null)Y.return=K,ue=Y;else for(;ue!==null;){K=ue;var J=K.sibling,ce=K.return;if(uh(K),K===q){ue=null;break}if(J!==null){J.return=ce,ue=J;break}ue=ce}}}var me=m.alternate;if(me!==null){var ge=me.child;if(ge!==null){me.child=null;do{var Je=ge.sibling;ge.sibling=null,ge=Je}while(ge!==null)}}ue=m}}if((m.subtreeFlags&2064)!==0&&x!==null)x.return=m,ue=x;else e:for(;ue!==null;){if(m=ue,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:_a(9,m,m.return)}var O=m.sibling;if(O!==null){O.return=m.return,ue=O;break e}ue=m.return}}var T=t.current;for(ue=T;ue!==null;){x=ue;var F=x.child;if((x.subtreeFlags&2064)!==0&&F!==null)F.return=x,ue=F;else e:for(x=T;ue!==null;){if(C=ue,(C.flags&2048)!==0)try{switch(C.tag){case 0:case 11:case 15:qi(9,C)}}catch(pe){Ge(C,C.return,pe)}if(C===x){ue=null;break e}var Z=C.sibling;if(Z!==null){Z.return=C.return,ue=Z;break e}ue=C.return}}if(Ie=h,Gr(),b&&typeof b.onPostCommitFiberRoot=="function")try{b.onPostCommitFiberRoot(Js,t)}catch{}d=!0}return d}finally{Oe=a,Ft.transition=r}}return!1}function Ch(t,r,a){r=fn(a,r),r=Vu(t,r,1),t=Kr(t,r,1),r=yt(),t!==null&&(Xn(t,1,r),Ct(t,r))}function Ge(t,r,a){if(t.tag===3)Ch(t,t,a);else for(;r!==null;){if(r.tag===3){Ch(r,t,a);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Xr===null||!Xr.has(d))){t=fn(a,t),t=Hu(r,t,1),r=Kr(r,t,1),t=yt(),r!==null&&(Xn(r,1,t),Ct(r,t));break}}r=r.return}}function lg(t,r,a){var d=t.pingCache;d!==null&&d.delete(r),r=yt(),t.pingedLanes|=t.suspendedLanes&a,at===t&&(ut&a)===a&&(et===4||et===3&&(ut&130023424)===ut&&500>We()-tc?Is(t,0):ec|=a),Ct(t,r)}function Eh(t,r){r===0&&((t.mode&1)===0?r=1:(r=_e,_e<<=1,(_e&130023424)===0&&(_e=4194304)));var a=yt();t=kr(t,r),t!==null&&(Xn(t,r,a),Ct(t,a))}function cg(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),Eh(t,a)}function dg(t,r){var a=0;switch(t.tag){case 13:var d=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:d=t.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(r),Eh(t,a)}var Ph;Ph=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||Nt.current)_t=!0;else{if((t.lanes&a)===0&&(r.flags&128)===0)return _t=!1,Y0(t,r,a);_t=(t.flags&131072)!==0}else _t=!1,ze&&(r.flags&1048576)!==0&&lu(r,Si,r.index);switch(r.lanes=0,r.tag){case 2:var d=r.type;Bi(t,r),t=r.pendingProps;var h=an(r,ht.current);hn(r,a),h=Il(null,r,d,t,h,a);var m=Rl();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,kt(d)?(m=!0,Ni(r)):m=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,_l(r),h.updater=Mi,r.stateNode=h,h._reactInternals=r,Ml(r,d,t,a),r=ql(null,r,d,!0,m,a)):(r.tag=0,ze&&m&&gl(r),xt(null,r,h,a),r=r.child),r;case 16:d=r.elementType;e:{switch(Bi(t,r),t=r.pendingProps,h=d._init,d=h(d._payload),r.type=d,h=r.tag=hg(d),t=Kt(d,t),h){case 0:r=zl(null,r,d,t,a);break e;case 1:r=th(null,r,d,t,a);break e;case 11:r=Ku(null,r,d,t,a);break e;case 14:r=Yu(null,r,d,Kt(d.type,t),a);break e}throw Error(n(306,d,""))}return r;case 0:return d=r.type,h=r.pendingProps,h=r.elementType===d?h:Kt(d,h),zl(t,r,d,h,a);case 1:return d=r.type,h=r.pendingProps,h=r.elementType===d?h:Kt(d,h),th(t,r,d,h,a);case 3:e:{if(rh(r),t===null)throw Error(n(387));d=r.pendingProps,m=r.memoizedState,h=m.element,xu(t,r),Ii(r,d,null,a);var x=r.memoizedState;if(d=x.element,m.isDehydrated)if(m={element:d,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){h=fn(Error(n(423)),r),r=sh(t,r,d,a,h);break e}else if(d!==h){h=fn(Error(n(424)),r),r=sh(t,r,d,a,h);break e}else for(At=Vr(r.stateNode.containerInfo.firstChild),Tt=r,ze=!0,Jt=null,a=gu(r,null,d,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(cn(),d===h){r=Sr(t,r,a);break e}xt(t,r,d,a)}r=r.child}return r;case 5:return bu(r),t===null&&yl(r),d=r.type,h=r.pendingProps,m=t!==null?t.memoizedProps:null,x=h.children,cl(d,h)?x=null:m!==null&&cl(d,m)&&(r.flags|=32),eh(t,r),xt(t,r,x,a),r.child;case 6:return t===null&&yl(r),null;case 13:return nh(t,r,a);case 4:return Sl(r,r.stateNode.containerInfo),d=r.pendingProps,t===null?r.child=dn(r,null,d,a):xt(t,r,d,a),r.child;case 11:return d=r.type,h=r.pendingProps,h=r.elementType===d?h:Kt(d,h),Ku(t,r,d,h,a);case 7:return xt(t,r,r.pendingProps,a),r.child;case 8:return xt(t,r,r.pendingProps.children,a),r.child;case 12:return xt(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(d=r.type._context,h=r.pendingProps,m=r.memoizedProps,x=h.value,Fe(Pi,d._currentValue),d._currentValue=x,m!==null)if(Gt(m.value,x)){if(m.children===h.children&&!Nt.current){r=Sr(t,r,a);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var C=m.dependencies;if(C!==null){x=m.child;for(var P=C.firstContext;P!==null;){if(P.context===d){if(m.tag===1){P=_r(-1,a&-a),P.tag=2;var q=m.updateQueue;if(q!==null){q=q.shared;var K=q.pending;K===null?P.next=P:(P.next=K.next,K.next=P),q.pending=P}}m.lanes|=a,P=m.alternate,P!==null&&(P.lanes|=a),Nl(m.return,a,r),C.lanes|=a;break}P=P.next}}else if(m.tag===10)x=m.type===r.type?null:m.child;else if(m.tag===18){if(x=m.return,x===null)throw Error(n(341));x.lanes|=a,C=x.alternate,C!==null&&(C.lanes|=a),Nl(x,a,r),x=m.sibling}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===r){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}xt(t,r,h.children,a),r=r.child}return r;case 9:return h=r.type,d=r.pendingProps.children,hn(r,a),h=Ot(h),d=d(h),r.flags|=1,xt(t,r,d,a),r.child;case 14:return d=r.type,h=Kt(d,r.pendingProps),h=Kt(d.type,h),Yu(t,r,d,h,a);case 15:return Xu(t,r,r.type,r.pendingProps,a);case 17:return d=r.type,h=r.pendingProps,h=r.elementType===d?h:Kt(d,h),Bi(t,r),r.tag=1,kt(d)?(t=!0,Ni(r)):t=!1,hn(r,a),qu(r,d,h),Ml(r,d,h,a),ql(null,r,d,!0,t,a);case 19:return ih(t,r,a);case 22:return Zu(t,r,a)}throw Error(n(156,r.tag))};function Th(t,r){return ti(t,r)}function ug(t,r,a,d){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(t,r,a,d){return new ug(t,r,a,d)}function cc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hg(t){if(typeof t=="function")return cc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ke)return 11;if(t===ee)return 14}return 2}function rs(t,r){var a=t.alternate;return a===null?(a=Mt(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function Xi(t,r,a,d,h,m){var x=2;if(d=t,typeof t=="function")cc(t)&&(x=1);else if(typeof t=="string")x=5;else e:switch(t){case ae:return $s(a.children,h,m,r);case be:x=8,h|=8;break;case V:return t=Mt(12,a,r,h|2),t.elementType=V,t.lanes=m,t;case oe:return t=Mt(13,a,r,h),t.elementType=oe,t.lanes=m,t;case de:return t=Mt(19,a,r,h),t.elementType=de,t.lanes=m,t;case j:return Zi(a,h,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:x=10;break e;case we:x=9;break e;case ke:x=11;break e;case ee:x=14;break e;case B:x=16,d=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=Mt(x,a,r,h),r.elementType=t,r.type=d,r.lanes=m,r}function $s(t,r,a,d){return t=Mt(7,t,d,r),t.lanes=a,t}function Zi(t,r,a,d){return t=Mt(22,t,d,r),t.elementType=j,t.lanes=a,t.stateNode={isHidden:!1},t}function dc(t,r,a){return t=Mt(6,t,null,r),t.lanes=a,t}function uc(t,r,a){return r=Mt(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function mg(t,r,a,d,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fo(0),this.expirationTimes=Fo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fo(0),this.identifierPrefix=d,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function hc(t,r,a,d,h,m,x,C,P){return t=new mg(t,r,a,C,P),r===1?(r=1,m===!0&&(r|=8)):r=0,m=Mt(3,null,null,r),t.current=m,m.stateNode=t,m.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},_l(m),t}function fg(t,r,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:d==null?null:""+d,children:t,containerInfo:r,implementation:a}}function Ah(t){if(!t)return Qr;t=t._reactInternals;e:{if(ir(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(kt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var a=t.type;if(kt(a))return au(t,a,r)}return r}function Ih(t,r,a,d,h,m,x,C,P){return t=hc(a,d,!0,t,h,m,x,C,P),t.context=Ah(null),a=t.current,d=yt(),h=es(a),m=_r(d,h),m.callback=r??null,Kr(a,m,h),t.current.lanes=h,Xn(t,h,d),Ct(t,d),t}function eo(t,r,a,d){var h=r.current,m=yt(),x=es(h);return a=Ah(a),r.context===null?r.context=a:r.pendingContext=a,r=_r(m,x),r.payload={element:t},d=d===void 0?null:d,d!==null&&(r.callback=d),t=Kr(h,r,x),t!==null&&(Zt(t,h,x,m),Ai(t,h,x)),x}function to(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rh(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function mc(t,r){Rh(t,r),(t=t.alternate)&&Rh(t,r)}function gg(){return null}var $h=typeof reportError=="function"?reportError:function(t){console.error(t)};function fc(t){this._internalRoot=t}ro.prototype.render=fc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));eo(t,r,null,null)},ro.prototype.unmount=fc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;As(function(){eo(null,t,null,null)}),r[br]=null}};function ro(t){this._internalRoot=t}ro.prototype.unstable_scheduleHydration=function(t){if(t){var r=xd();t={blockedOn:null,target:t,priority:r};for(var a=0;a<zr.length&&r!==0&&r<zr[a].priority;a++);zr.splice(a,0,t),a===0&&bd(t)}};function gc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function so(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Dh(){}function pg(t,r,a,d,h){if(h){if(typeof d=="function"){var m=d;d=function(){var q=to(x);m.call(q)}}var x=Ih(r,d,t,0,null,!1,!1,"",Dh);return t._reactRootContainer=x,t[br]=x.current,ha(t.nodeType===8?t.parentNode:t),As(),x}for(;h=t.lastChild;)t.removeChild(h);if(typeof d=="function"){var C=d;d=function(){var q=to(P);C.call(q)}}var P=hc(t,0,!1,null,null,!1,!1,"",Dh);return t._reactRootContainer=P,t[br]=P.current,ha(t.nodeType===8?t.parentNode:t),As(function(){eo(r,P,a,d)}),P}function no(t,r,a,d,h){var m=a._reactRootContainer;if(m){var x=m;if(typeof h=="function"){var C=h;h=function(){var P=to(x);C.call(P)}}eo(r,x,t,h)}else x=pg(a,r,t,h,d);return to(x)}gd=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=$e(r.pendingLanes);a!==0&&(Mo(r,a|1),Ct(r,We()),(Ie&6)===0&&(xn=We()+500,Gr()))}break;case 13:As(function(){var d=kr(t,1);if(d!==null){var h=yt();Zt(d,t,1,h)}}),mc(t,1)}},Uo=function(t){if(t.tag===13){var r=kr(t,134217728);if(r!==null){var a=yt();Zt(r,t,134217728,a)}mc(t,134217728)}},pd=function(t){if(t.tag===13){var r=es(t),a=kr(t,r);if(a!==null){var d=yt();Zt(a,t,r,d)}mc(t,r)}},xd=function(){return Oe},yd=function(t,r){var a=Oe;try{return Oe=t,r()}finally{Oe=a}},vs=function(t,r,a){switch(r){case"input":if(Ga(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var d=a[r];if(d!==t&&d.form===t.form){var h=wi(d);if(!h)throw Error(n(90));gs(d),Ga(d,h)}}}break;case"textarea":xs(t,a);break;case"select":r=a.value,r!=null&&nr(t,!!a.multiple,r,!1)}},Wn=ic,Vn=As;var xg={usingClientEntryPoint:!1,Events:[ga,sn,wi,qn,Ka,ic]},Pa={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yg={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Za(t),t===null?null:t.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||gg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ao.isDisabled&&ao.supportsFiber)try{Js=ao.inject(yg),b=ao}catch{}}return Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xg,Et.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gc(r))throw Error(n(200));return fg(t,r,null,a)},Et.createRoot=function(t,r){if(!gc(t))throw Error(n(299));var a=!1,d="",h=$h;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=hc(t,1,!1,null,null,a,!1,d,h),t[br]=r.current,ha(t.nodeType===8?t.parentNode:t),new fc(r)},Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Za(r),t=t===null?null:t.stateNode,t},Et.flushSync=function(t){return As(t)},Et.hydrate=function(t,r,a){if(!so(r))throw Error(n(200));return no(null,t,r,!0,a)},Et.hydrateRoot=function(t,r,a){if(!gc(t))throw Error(n(405));var d=a!=null&&a.hydratedSources||null,h=!1,m="",x=$h;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),r=Ih(r,null,t,1,a??null,h,!1,m,x),t[br]=r.current,ha(t),d)for(t=0;t<d.length;t++)a=d[t],h=a._getVersion,h=h(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,h]:r.mutableSourceEagerHydrationData.push(a,h);return new ro(r)},Et.render=function(t,r,a){if(!so(r))throw Error(n(200));return no(null,t,r,!1,a)},Et.unmountComponentAtNode=function(t){if(!so(t))throw Error(n(40));return t._reactRootContainer?(As(function(){no(null,null,t,!1,function(){t._reactRootContainer=null,t[br]=null})}),!0):!1},Et.unstable_batchedUpdates=ic,Et.unstable_renderSubtreeIntoContainer=function(t,r,a,d){if(!so(a))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return no(t,r,a,!1,d)},Et.version="18.3.1-next-f1338f8080-20240426",Et}var qh;function $m(){if(qh)return yc.exports;qh=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(s){console.error(s)}}return o(),yc.exports=Cg(),yc.exports}var Wh;function Eg(){if(Wh)return io;Wh=1;var o=$m();return io.createRoot=o.createRoot,io.hydrateRoot=o.hydrateRoot,io}var Pg=Eg();let Tg={data:""},Ag=o=>typeof window=="object"?((o?o.querySelector("#_goober"):window._goober)||Object.assign((o||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:o||Tg,Ig=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Rg=/\/\*[^]*?\*\/|  +/g,Vh=/\n+/g,is=(o,s)=>{let n="",i="",c="";for(let l in o){let u=o[l];l[0]=="@"?l[1]=="i"?n=l+" "+u+";":i+=l[1]=="f"?is(u,l):l+"{"+is(u,l[1]=="k"?"":s)+"}":typeof u=="object"?i+=is(u,s?s.replace(/([^,])+/g,f=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,f):f?f+" "+g:g)):l):u!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),c+=is.p?is.p(l,u):l+":"+u+";")}return n+(s&&c?s+"{"+c+"}":c)+i},Er={},Dm=o=>{if(typeof o=="object"){let s="";for(let n in o)s+=n+Dm(o[n]);return s}return o},$g=(o,s,n,i,c)=>{let l=Dm(o),u=Er[l]||(Er[l]=(g=>{let p=0,y=11;for(;p<g.length;)y=101*y+g.charCodeAt(p++)>>>0;return"go"+y})(l));if(!Er[u]){let g=l!==o?o:(p=>{let y,v,w=[{}];for(;y=Ig.exec(p.replace(Rg,""));)y[4]?w.shift():y[3]?(v=y[3].replace(Vh," ").trim(),w.unshift(w[0][v]=w[0][v]||{})):w[0][y[1]]=y[2].replace(Vh," ").trim();return w[0]})(o);Er[u]=is(c?{["@keyframes "+u]:g}:g,n?"":"."+u)}let f=n&&Er.g?Er.g:null;return n&&(Er.g=Er[u]),((g,p,y,v)=>{v?p.data=p.data.replace(v,g):p.data.indexOf(g)===-1&&(p.data=y?g+p.data:p.data+g)})(Er[u],s,i,f),u},Dg=(o,s,n)=>o.reduce((i,c,l)=>{let u=s[l];if(u&&u.call){let f=u(n),g=f&&f.props&&f.props.className||/^go/.test(f)&&f;u=g?"."+g:f&&typeof f=="object"?f.props?"":is(f,""):f===!1?"":f}return i+c+(u??"")},"");function jo(o){let s=this||{},n=o.call?o(s.p):o;return $g(n.unshift?n.raw?Dg(n,[].slice.call(arguments,1),s.p):n.reduce((i,c)=>Object.assign(i,c&&c.call?c(s.p):c),{}):n,Ag(s.target),s.g,s.o,s.k)}let Om,Pc,Tc;jo.bind({g:1});let Ir=jo.bind({k:1});function Og(o,s,n,i){is.p=s,Om=o,Pc=n,Tc=i}function ms(o,s){let n=this||{};return function(){let i=arguments;function c(l,u){let f=Object.assign({},l),g=f.className||c.className;n.p=Object.assign({theme:Pc&&Pc()},f),n.o=/ *go\d+/.test(g),f.className=jo.apply(n,i)+(g?" "+g:"");let p=o;return o[0]&&(p=f.as||o,delete f.as),Tc&&p[0]&&Tc(f),Om(p,f)}return c}}var Lg=o=>typeof o=="function",vo=(o,s)=>Lg(o)?o(s):o,Fg=(()=>{let o=0;return()=>(++o).toString()})(),Lm=(()=>{let o;return()=>{if(o===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");o=!s||s.matches}return o}})(),Mg=20,Yc="default",Fm=(o,s)=>{let{toastLimit:n}=o.settings;switch(s.type){case 0:return{...o,toasts:[s.toast,...o.toasts].slice(0,n)};case 1:return{...o,toasts:o.toasts.map(u=>u.id===s.toast.id?{...u,...s.toast}:u)};case 2:let{toast:i}=s;return Fm(o,{type:o.toasts.find(u=>u.id===i.id)?1:0,toast:i});case 3:let{toastId:c}=s;return{...o,toasts:o.toasts.map(u=>u.id===c||c===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return s.toastId===void 0?{...o,toasts:[]}:{...o,toasts:o.toasts.filter(u=>u.id!==s.toastId)};case 5:return{...o,pausedAt:s.time};case 6:let l=s.time-(o.pausedAt||0);return{...o,pausedAt:void 0,toasts:o.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+l}))}}},po=[],Mm={toasts:[],pausedAt:void 0,settings:{toastLimit:Mg}},mr={},Um=(o,s=Yc)=>{mr[s]=Fm(mr[s]||Mm,o),po.forEach(([n,i])=>{n===s&&i(mr[s])})},Bm=o=>Object.keys(mr).forEach(s=>Um(o,s)),Ug=o=>Object.keys(mr).find(s=>mr[s].toasts.some(n=>n.id===o)),No=(o=Yc)=>s=>{Um(s,o)},Bg={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zg=(o={},s=Yc)=>{let[n,i]=N.useState(mr[s]||Mm),c=N.useRef(mr[s]);N.useEffect(()=>(c.current!==mr[s]&&i(mr[s]),po.push([s,i]),()=>{let u=po.findIndex(([f])=>f===s);u>-1&&po.splice(u,1)}),[s]);let l=n.toasts.map(u=>{var f,g,p;return{...o,...o[u.type],...u,removeDelay:u.removeDelay||((f=o[u.type])==null?void 0:f.removeDelay)||o?.removeDelay,duration:u.duration||((g=o[u.type])==null?void 0:g.duration)||o?.duration||Bg[u.type],style:{...o.style,...(p=o[u.type])==null?void 0:p.style,...u.style}}});return{...n,toasts:l}},qg=(o,s="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:o,pauseDuration:0,...n,id:n?.id||Fg()}),Ba=o=>(s,n)=>{let i=qg(s,o,n);return No(i.toasterId||Ug(i.id))({type:2,toast:i}),i.id},st=(o,s)=>Ba("blank")(o,s);st.error=Ba("error");st.success=Ba("success");st.loading=Ba("loading");st.custom=Ba("custom");st.dismiss=(o,s)=>{let n={type:3,toastId:o};s?No(s)(n):Bm(n)};st.dismissAll=o=>st.dismiss(void 0,o);st.remove=(o,s)=>{let n={type:4,toastId:o};s?No(s)(n):Bm(n)};st.removeAll=o=>st.remove(void 0,o);st.promise=(o,s,n)=>{let i=st.loading(s.loading,{...n,...n?.loading});return typeof o=="function"&&(o=o()),o.then(c=>{let l=s.success?vo(s.success,c):void 0;return l?st.success(l,{id:i,...n,...n?.success}):st.dismiss(i),c}).catch(c=>{let l=s.error?vo(s.error,c):void 0;l?st.error(l,{id:i,...n,...n?.error}):st.dismiss(i)}),o};var Wg=1e3,Vg=(o,s="default")=>{let{toasts:n,pausedAt:i}=zg(o,s),c=N.useRef(new Map).current,l=N.useCallback((v,w=Wg)=>{if(c.has(v))return;let k=setTimeout(()=>{c.delete(v),u({type:4,toastId:v})},w);c.set(v,k)},[]);N.useEffect(()=>{if(i)return;let v=Date.now(),w=n.map(k=>{if(k.duration===1/0)return;let E=(k.duration||0)+k.pauseDuration-(v-k.createdAt);if(E<0){k.visible&&st.dismiss(k.id);return}return setTimeout(()=>st.dismiss(k.id,s),E)});return()=>{w.forEach(k=>k&&clearTimeout(k))}},[n,i,s]);let u=N.useCallback(No(s),[s]),f=N.useCallback(()=>{u({type:5,time:Date.now()})},[u]),g=N.useCallback((v,w)=>{u({type:1,toast:{id:v,height:w}})},[u]),p=N.useCallback(()=>{i&&u({type:6,time:Date.now()})},[i,u]),y=N.useCallback((v,w)=>{let{reverseOrder:k=!1,gutter:E=8,defaultPosition:I}=w||{},L=n.filter(R=>(R.position||I)===(v.position||I)&&R.height),M=L.findIndex(R=>R.id===v.id),U=L.filter((R,D)=>D<M&&R.visible).length;return L.filter(R=>R.visible).slice(...k?[U+1]:[0,U]).reduce((R,D)=>R+(D.height||0)+E,0)},[n]);return N.useEffect(()=>{n.forEach(v=>{if(v.dismissed)l(v.id,v.removeDelay);else{let w=c.get(v.id);w&&(clearTimeout(w),c.delete(v.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:g,startPause:f,endPause:p,calculateOffset:y}}},Hg=Ir`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Qg=Ir`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Gg=Ir`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Jg=ms("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${o=>o.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Hg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Qg} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${o=>o.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Gg} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Kg=Ir`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Yg=ms("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${o=>o.secondary||"#e0e0e0"};
  border-right-color: ${o=>o.primary||"#616161"};
  animation: ${Kg} 1s linear infinite;
`,Xg=Ir`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Zg=Ir`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ep=ms("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${o=>o.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Xg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Zg} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${o=>o.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,tp=ms("div")`
  position: absolute;
`,rp=ms("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,sp=Ir`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,np=ms("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${sp} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ap=({toast:o})=>{let{icon:s,type:n,iconTheme:i}=o;return s!==void 0?typeof s=="string"?N.createElement(np,null,s):s:n==="blank"?null:N.createElement(rp,null,N.createElement(Yg,{...i}),n!=="loading"&&N.createElement(tp,null,n==="error"?N.createElement(Jg,{...i}):N.createElement(ep,{...i})))},ip=o=>`
0% {transform: translate3d(0,${o*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,op=o=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${o*-150}%,-1px) scale(.6); opacity:0;}
`,lp="0%{opacity:0;} 100%{opacity:1;}",cp="0%{opacity:1;} 100%{opacity:0;}",dp=ms("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,up=ms("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hp=(o,s)=>{let n=o.includes("top")?1:-1,[i,c]=Lm()?[lp,cp]:[ip(n),op(n)];return{animation:s?`${Ir(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ir(c)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},mp=N.memo(({toast:o,position:s,style:n,children:i})=>{let c=o.height?hp(o.position||s||"top-center",o.visible):{opacity:0},l=N.createElement(ap,{toast:o}),u=N.createElement(up,{...o.ariaProps},vo(o.message,o));return N.createElement(dp,{className:o.className,style:{...c,...n,...o.style}},typeof i=="function"?i({icon:l,message:u}):N.createElement(N.Fragment,null,l,u))});Og(N.createElement);var fp=({id:o,className:s,style:n,onHeightUpdate:i,children:c})=>{let l=N.useCallback(u=>{if(u){let f=()=>{let g=u.getBoundingClientRect().height;i(o,g)};f(),new MutationObserver(f).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[o,i]);return N.createElement("div",{ref:l,className:s,style:n},c)},gp=(o,s)=>{let n=o.includes("top"),i=n?{top:0}:{bottom:0},c=o.includes("center")?{justifyContent:"center"}:o.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Lm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(n?1:-1)}px)`,...i,...c}},pp=jo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,oo=16,xp=({reverseOrder:o,position:s="top-center",toastOptions:n,gutter:i,children:c,toasterId:l,containerStyle:u,containerClassName:f})=>{let{toasts:g,handlers:p}=Vg(n,l);return N.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:oo,left:oo,right:oo,bottom:oo,pointerEvents:"none",...u},className:f,onMouseEnter:p.startPause,onMouseLeave:p.endPause},g.map(y=>{let v=y.position||s,w=p.calculateOffset(y,{reverseOrder:o,gutter:i,defaultPosition:s}),k=gp(v,w);return N.createElement(fp,{id:y.id,key:y.id,onHeightUpdate:p.updateHeight,className:y.visible?pp:"",style:k},y.type==="custom"?vo(y.message,y):c?c(y):N.createElement(mp,{toast:y,position:v}))}))},H=st,yp=$m();/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ne=(o,s)=>{const n=N.forwardRef(({color:i="currentColor",size:c=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:f="",children:g,...p},y)=>N.createElement("svg",{ref:y,...vp,width:c,height:c,stroke:i,strokeWidth:u?Number(l)*24/Number(c):l,className:["lucide",`lucide-${bp(o)}`,f].join(" "),...p},[...s.map(([v,w])=>N.createElement(v,w)),...Array.isArray(g)?g:[g]]));return n.displayName=`${o}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=ne("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jp=ne("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=ne("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=ne("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=ne("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=ne("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=ne("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ne("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=ne("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=ne("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=ne("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=ne("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=ne("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cp=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=ne("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=ne("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=ne("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=ne("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ne("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ne("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=ne("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=ne("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ap=ne("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ne("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=ne("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=ne("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=ne("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=ne("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dp=ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Op=ne("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ne("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=ne("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ne("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=ne("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=ne("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ne("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ne("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=ne("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=ne("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=ne("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=ne("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=ne("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ne("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=ne("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=ne("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=ne("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ne("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=ne("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=ne("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=ne("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=ne("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=ne("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ne("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Qp=({iconSize:o=36,textSize:s=16,className:n=""})=>e.jsxs("div",{className:n,style:{display:"flex",alignItems:"center",gap:6},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 200 200",role:"img","aria-label":"TestingVala symbol",children:[e.jsx("circle",{cx:"90",cy:"80",r:"50",stroke:"#0073e6",strokeWidth:"8",fill:"none"}),e.jsx("circle",{cx:"90",cy:"80",r:"40",stroke:"#0073e6",strokeWidth:"3",fill:"none"}),e.jsx("rect",{x:"125",y:"115",width:"40",height:"12",rx:"6",ry:"6",transform:"rotate(45 125 115)",fill:"#0073e6"}),e.jsx("path",{d:"M65 80 L85 100 L125 50",stroke:"#f97316",strokeWidth:"10",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.jsxs("div",{style:{fontWeight:500,fontFamily:"Inter, Arial, sans-serif",fontSize:`${s}px`,lineHeight:1},children:[e.jsx("span",{style:{color:"#0073e6",display:"inline"},children:"Testing"}),e.jsx("span",{style:{color:"#f97316",display:"inline"},children:"Vala.com"})]})]}),Gp="modulepreload",Jp=function(o){return"/"+o},Kh={},Wa=function(s,n,i){let c=Promise.resolve();if(n&&n.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var u=p;document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),g=f?.nonce||f?.getAttribute("nonce");c=p(n.map(y=>{if(y=Jp(y),y in Kh)return;Kh[y]=!0;const v=y.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${w}`))return;const k=document.createElement("link");if(k.rel=v?"stylesheet":Gp,v||(k.as="script"),k.crossOrigin="",k.href=y,g&&k.setAttribute("nonce",g),document.head.appendChild(k),v)return new Promise((E,I)=>{k.addEventListener("load",E),k.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(f){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=f,window.dispatchEvent(g),!g.defaultPrevented)throw f}return c.then(f=>{for(const g of f||[])g.status==="rejected"&&l(g.reason);return s().catch(l)})},Kp=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...n)=>Wa(async()=>{const{default:i}=await Promise.resolve().then(()=>Dn);return{default:i}},void 0).then(({default:i})=>i(...n)):s=fetch,(...n)=>s(...n)};class nd extends Error{constructor(s,n="FunctionsError",i){super(s),this.name=n,this.context=i}}class Yp extends nd{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class Yh extends nd{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class Xh extends nd{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var Rc;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Rc||(Rc={}));var Xp=function(o,s,n,i){function c(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{p(i.next(y))}catch(v){u(v)}}function g(y){try{p(i.throw(y))}catch(v){u(v)}}function p(y){y.done?l(y.value):c(y.value).then(f,g)}p((i=i.apply(o,s||[])).next())})};class Zp{constructor(s,{headers:n={},customFetch:i,region:c=Rc.Any}={}){this.url=s,this.headers=n,this.region=c,this.fetch=Kp(i)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s,n={}){var i;return Xp(this,void 0,void 0,function*(){try{const{headers:c,method:l,body:u}=n;let f={},{region:g}=n;g||(g=this.region);const p=new URL(`${this.url}/${s}`);g&&g!=="any"&&(f["x-region"]=g,p.searchParams.set("forceFunctionRegion",g));let y;u&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)));const v=yield this.fetch(p.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),c),body:y}).catch(I=>{throw new Yp(I)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new Yh(v);if(!v.ok)throw new Xh(v);let k=((i=v.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return k==="application/json"?E=yield v.json():k==="application/octet-stream"?E=yield v.blob():k==="text/event-stream"?E=v:k==="multipart/form-data"?E=yield v.formData():E=yield v.text(),{data:E,error:null,response:v}}catch(c){return{data:null,error:c,response:c instanceof Xh||c instanceof Yh?c.context:void 0}}})}}var ot={},vn={},bn={},wn={},jn={},Nn={},ex=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rn=ex();const tx=Rn.fetch,tf=Rn.fetch.bind(Rn),rf=Rn.Headers,rx=Rn.Request,sx=Rn.Response,Dn=Object.freeze(Object.defineProperty({__proto__:null,Headers:rf,Request:rx,Response:sx,default:tf,fetch:tx},Symbol.toStringTag,{value:"Module"})),nx=bg(Dn);var lo={},Zh;function sf(){if(Zh)return lo;Zh=1,Object.defineProperty(lo,"__esModule",{value:!0});class o extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return lo.default=o,lo}var em;function nf(){if(em)return Nn;em=1;var o=Nn&&Nn.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Nn,"__esModule",{value:!0});const s=o(nx),n=o(sf());class i{constructor(l){this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=l.headers,this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=l.shouldThrowOnError,this.signal=l.signal,this.isMaybeSingle=l.isMaybeSingle,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=s.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=Object.assign({},this.headers),this.headers[l]=u,this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const f=this.fetch;let g=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var y,v,w;let k=null,E=null,I=null,L=p.status,M=p.statusText;if(p.ok){if(this.method!=="HEAD"){const te=await p.text();te===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?E=te:E=JSON.parse(te))}const R=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),D=(v=p.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");R&&D&&D.length>1&&(I=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(k={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,I=null,L=406,M="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const R=await p.text();try{k=JSON.parse(R),Array.isArray(k)&&p.status===404&&(E=[],k=null,L=200,M="OK")}catch{p.status===404&&R===""?(L=204,M="No Content"):k={message:R}}if(k&&this.isMaybeSingle&&(!((w=k?.details)===null||w===void 0)&&w.includes("0 rows"))&&(k=null,L=200,M="OK"),k&&this.shouldThrowOnError)throw new n.default(k)}return{error:k,data:E,count:I,status:L,statusText:M}});return this.shouldThrowOnError||(g=g.catch(p=>{var y,v,w;return{error:{message:`${(y=p?.name)!==null&&y!==void 0?y:"FetchError"}: ${p?.message}`,details:`${(v=p?.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(w=p?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,u)}returns(){return this}overrideTypes(){return this}}return Nn.default=i,Nn}var tm;function af(){if(tm)return jn;tm=1;var o=jn&&jn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(jn,"__esModule",{value:!0});const s=o(nf());class n extends s.default{select(c){let l=!1;const u=(c??"*").split("").map(f=>/\s/.test(f)&&!l?"":(f==='"'&&(l=!l),f)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(c,{ascending:l=!0,nullsFirst:u,foreignTable:f,referencedTable:g=f}={}){const p=g?`${g}.order`:"order",y=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${y?`${y},`:""}${c}.${l?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(c,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${c}`),this}range(c,l,{foreignTable:u,referencedTable:f=u}={}){const g=typeof f>"u"?"offset":`${f}.offset`,p=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${c}`),this.url.searchParams.set(p,`${l-c+1}`),this}abortSignal(c){return this.signal=c,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:c=!1,verbose:l=!1,settings:u=!1,buffers:f=!1,wal:g=!1,format:p="text"}={}){var y;const v=[c?"analyze":null,l?"verbose":null,u?"settings":null,f?"buffers":null,g?"wal":null].filter(Boolean).join("|"),w=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${w}"; options=${v};`,p==="json"?this:this}rollback(){var c;return((c=this.headers.Prefer)!==null&&c!==void 0?c:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return jn.default=n,jn}var rm;function ad(){if(rm)return wn;rm=1;var o=wn&&wn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(wn,"__esModule",{value:!0});const s=o(af());class n extends s.default{eq(c,l){return this.url.searchParams.append(c,`eq.${l}`),this}neq(c,l){return this.url.searchParams.append(c,`neq.${l}`),this}gt(c,l){return this.url.searchParams.append(c,`gt.${l}`),this}gte(c,l){return this.url.searchParams.append(c,`gte.${l}`),this}lt(c,l){return this.url.searchParams.append(c,`lt.${l}`),this}lte(c,l){return this.url.searchParams.append(c,`lte.${l}`),this}like(c,l){return this.url.searchParams.append(c,`like.${l}`),this}likeAllOf(c,l){return this.url.searchParams.append(c,`like(all).{${l.join(",")}}`),this}likeAnyOf(c,l){return this.url.searchParams.append(c,`like(any).{${l.join(",")}}`),this}ilike(c,l){return this.url.searchParams.append(c,`ilike.${l}`),this}ilikeAllOf(c,l){return this.url.searchParams.append(c,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(c,l){return this.url.searchParams.append(c,`ilike(any).{${l.join(",")}}`),this}is(c,l){return this.url.searchParams.append(c,`is.${l}`),this}in(c,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(c,`in.(${u})`),this}contains(c,l){return typeof l=="string"?this.url.searchParams.append(c,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(c,`cs.{${l.join(",")}}`):this.url.searchParams.append(c,`cs.${JSON.stringify(l)}`),this}containedBy(c,l){return typeof l=="string"?this.url.searchParams.append(c,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(c,`cd.{${l.join(",")}}`):this.url.searchParams.append(c,`cd.${JSON.stringify(l)}`),this}rangeGt(c,l){return this.url.searchParams.append(c,`sr.${l}`),this}rangeGte(c,l){return this.url.searchParams.append(c,`nxl.${l}`),this}rangeLt(c,l){return this.url.searchParams.append(c,`sl.${l}`),this}rangeLte(c,l){return this.url.searchParams.append(c,`nxr.${l}`),this}rangeAdjacent(c,l){return this.url.searchParams.append(c,`adj.${l}`),this}overlaps(c,l){return typeof l=="string"?this.url.searchParams.append(c,`ov.${l}`):this.url.searchParams.append(c,`ov.{${l.join(",")}}`),this}textSearch(c,l,{config:u,type:f}={}){let g="";f==="plain"?g="pl":f==="phrase"?g="ph":f==="websearch"&&(g="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(c,`${g}fts${p}.${l}`),this}match(c){return Object.entries(c).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(c,l,u){return this.url.searchParams.append(c,`not.${l}.${u}`),this}or(c,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${c})`),this}filter(c,l,u){return this.url.searchParams.append(c,`${l}.${u}`),this}}return wn.default=n,wn}var sm;function of(){if(sm)return bn;sm=1;var o=bn&&bn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bn,"__esModule",{value:!0});const s=o(ad());class n{constructor(c,{headers:l={},schema:u,fetch:f}){this.url=c,this.headers=l,this.schema=u,this.fetch=f}select(c,{head:l=!1,count:u}={}){const f=l?"HEAD":"GET";let g=!1;const p=(c??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",p),u&&(this.headers.Prefer=`count=${u}`),new s.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(c,{count:l,defaultToNull:u=!0}={}){const f="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),l&&g.push(`count=${l}`),u||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(c)){const p=c.reduce((y,v)=>y.concat(Object.keys(v)),[]);if(p.length>0){const y=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",y.join(","))}}return new s.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}upsert(c,{onConflict:l,ignoreDuplicates:u=!1,count:f,defaultToNull:g=!0}={}){const p="POST",y=[`resolution=${u?"ignore":"merge"}-duplicates`];if(l!==void 0&&this.url.searchParams.set("on_conflict",l),this.headers.Prefer&&y.push(this.headers.Prefer),f&&y.push(`count=${f}`),g||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(c)){const v=c.reduce((w,k)=>w.concat(Object.keys(k)),[]);if(v.length>0){const w=[...new Set(v)].map(k=>`"${k}"`);this.url.searchParams.set("columns",w.join(","))}}return new s.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(c,{count:l}={}){const u="PATCH",f=[];return this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),this.headers.Prefer=f.join(","),new s.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}delete({count:c}={}){const l="DELETE",u=[];return c&&u.push(`count=${c}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new s.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return bn.default=n,bn}var Aa={},Ia={},nm;function ax(){return nm||(nm=1,Object.defineProperty(Ia,"__esModule",{value:!0}),Ia.version=void 0,Ia.version="0.0.0-automated"),Ia}var am;function ix(){if(am)return Aa;am=1,Object.defineProperty(Aa,"__esModule",{value:!0}),Aa.DEFAULT_HEADERS=void 0;const o=ax();return Aa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${o.version}`},Aa}var im;function ox(){if(im)return vn;im=1;var o=vn&&vn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(vn,"__esModule",{value:!0});const s=o(of()),n=o(ad()),i=ix();class c{constructor(u,{headers:f={},schema:g,fetch:p}={}){this.url=u,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),f),this.schemaName=g,this.fetch=p}from(u){const f=new URL(`${this.url}/${u}`);return new s.default(f,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new c(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,f={},{head:g=!1,get:p=!1,count:y}={}){let v;const w=new URL(`${this.url}/rpc/${u}`);let k;g||p?(v=g?"HEAD":"GET",Object.entries(f).filter(([I,L])=>L!==void 0).map(([I,L])=>[I,Array.isArray(L)?`{${L.join(",")}}`:`${L}`]).forEach(([I,L])=>{w.searchParams.append(I,L)})):(v="POST",k=f);const E=Object.assign({},this.headers);return y&&(E.Prefer=`count=${y}`),new n.default({method:v,url:w,headers:E,schema:this.schemaName,body:k,fetch:this.fetch,allowEmpty:!1})}}return vn.default=c,vn}var om;function lx(){if(om)return ot;om=1;var o=ot&&ot.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(ot,"__esModule",{value:!0}),ot.PostgrestError=ot.PostgrestBuilder=ot.PostgrestTransformBuilder=ot.PostgrestFilterBuilder=ot.PostgrestQueryBuilder=ot.PostgrestClient=void 0;const s=o(ox());ot.PostgrestClient=s.default;const n=o(of());ot.PostgrestQueryBuilder=n.default;const i=o(ad());ot.PostgrestFilterBuilder=i.default;const c=o(af());ot.PostgrestTransformBuilder=c.default;const l=o(nf());ot.PostgrestBuilder=l.default;const u=o(sf());return ot.PostgrestError=u.default,ot.default={PostgrestClient:s.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:c.default,PostgrestBuilder:l.default,PostgrestError:u.default},ot}var cx=lx();const dx=Rm(cx),{PostgrestClient:ux,PostgrestQueryBuilder:Ib,PostgrestFilterBuilder:Rb,PostgrestTransformBuilder:$b,PostgrestBuilder:Db,PostgrestError:Ob}=dx;class hx{static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let n=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(n+=`

Suggested solution: ${s.workaround}`),new Error(n)}static createWebSocket(s,n){const i=this.getWebSocketConstructor();return new i(s,n)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const mx="2.15.1",fx=`realtime-js/${mx}`,gx="1.0.0",$c=1e4,px=1e3,xx=100;var Da;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(Da||(Da={}));var tt;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(tt||(tt={}));var tr;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(tr||(tr={}));var Dc;(function(o){o.websocket="websocket"})(Dc||(Dc={}));var Ms;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Ms||(Ms={}));class yx{constructor(){this.HEADER_LENGTH=1}decode(s,n){return s.constructor===ArrayBuffer?n(this._binaryDecode(s)):n(typeof s=="string"?JSON.parse(s):{})}_binaryDecode(s){const n=new DataView(s),i=new TextDecoder;return this._decodeBroadcast(s,n,i)}_decodeBroadcast(s,n,i){const c=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const f=i.decode(s.slice(u,u+c));u=u+c;const g=i.decode(s.slice(u,u+l));u=u+l;const p=JSON.parse(i.decode(s.slice(u,s.byteLength)));return{ref:null,topic:f,event:g,payload:p}}}class lf{constructor(s,n){this.callback=s,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(Me||(Me={}));const lm=(o,s,n={})=>{var i;const c=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(s).reduce((l,u)=>(l[u]=vx(u,o,s,c),l),{})},vx=(o,s,n,i)=>{const c=s.find(f=>f.name===o),l=c?.type,u=n[o];return l&&!i.includes(l)?cf(l,u):Oc(u)},cf=(o,s)=>{if(o.charAt(0)==="_"){const n=o.slice(1,o.length);return Nx(s,n)}switch(o){case Me.bool:return bx(s);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return wx(s);case Me.json:case Me.jsonb:return jx(s);case Me.timestamp:return kx(s);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Oc(s);default:return Oc(s)}},Oc=o=>o,bx=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},wx=o=>{if(typeof o=="string"){const s=parseFloat(o);if(!Number.isNaN(s))return s}return o},jx=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(s){return console.log(`JSON parse error: ${s}`),o}return o},Nx=(o,s)=>{if(typeof o!="string")return o;const n=o.length-1,i=o[n];if(o[0]==="{"&&i==="}"){let l;const u=o.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(f=>cf(s,f))}return o},kx=o=>typeof o=="string"?o.replace(" ","T"):o,df=o=>{let s=o;return s=s.replace(/^ws/i,"http"),s=s.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),s.replace(/\/+$/,"")+"/api/broadcast"};class wc{constructor(s,n,i={},c=$c){this.channel=s,this.event=n,this.payload=i,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,n){var i;return this._hasReceived(s)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:s,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:n}){this.recHooks.filter(i=>i.status===s).forEach(i=>i.callback(n))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var cm;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(cm||(cm={}));class Oa{constructor(s,n){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},c=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Oa.syncState(this.state,c,l,u),this.pendingDiffs.forEach(g=>{this.state=Oa.syncDiff(this.state,g,l,u)}),this.pendingDiffs=[],f()}),this.channel._on(i.diff,{},c=>{const{onJoin:l,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Oa.syncDiff(this.state,c,l,u),f())}),this.onJoin((c,l,u)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:l,newPresences:u})}),this.onLeave((c,l,u)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,n,i,c){const l=this.cloneDeep(s),u=this.transformState(n),f={},g={};return this.map(l,(p,y)=>{u[p]||(g[p]=y)}),this.map(u,(p,y)=>{const v=l[p];if(v){const w=y.map(L=>L.presence_ref),k=v.map(L=>L.presence_ref),E=y.filter(L=>k.indexOf(L.presence_ref)<0),I=v.filter(L=>w.indexOf(L.presence_ref)<0);E.length>0&&(f[p]=E),I.length>0&&(g[p]=I)}else f[p]=y}),this.syncDiff(l,{joins:f,leaves:g},i,c)}static syncDiff(s,n,i,c){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),c||(c=()=>{}),this.map(l,(f,g)=>{var p;const y=(p=s[f])!==null&&p!==void 0?p:[];if(s[f]=this.cloneDeep(g),y.length>0){const v=s[f].map(k=>k.presence_ref),w=y.filter(k=>v.indexOf(k.presence_ref)<0);s[f].unshift(...w)}i(f,y,g)}),this.map(u,(f,g)=>{let p=s[f];if(!p)return;const y=g.map(v=>v.presence_ref);p=p.filter(v=>y.indexOf(v.presence_ref)<0),s[f]=p,c(f,p,g),p.length===0&&delete s[f]}),s}static map(s,n){return Object.getOwnPropertyNames(s).map(i=>n(i,s[i]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((n,i)=>{const c=s[i];return"metas"in c?n[i]=c.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=c,n},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dm;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(dm||(dm={}));var La;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(La||(La={}));var Tr;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Tr||(Tr={}));class id{constructor(s,n={config:{}},i){this.topic=s,this.params=n,this.socket=i,this.bindings={},this.state=tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new wc(this,tr.join,this.params,this.timeout),this.rejoinTimer=new lf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=tt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tr.reply,{},(c,l)=>{this._trigger(this._replyEventName(l),c)}),this.presence=new Oa(this),this.broadcastEndpointURL=df(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(s,n=this.timeout){var i,c;if(this.socket.isConnected()||this.socket.connect(),this.state==tt.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,g=(c=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&c!==void 0?c:[],p=!!this.bindings[La.PRESENCE]&&this.bindings[La.PRESENCE].length>0,y={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:g,private:f};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>s?.(Tr.CHANNEL_ERROR,w)),this._onClose(()=>s?.(Tr.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var k;if(this.socket.setAuth(),w===void 0){s?.(Tr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,I=(k=E?.length)!==null&&k!==void 0?k:0,L=[];for(let M=0;M<I;M++){const U=E[M],{filter:{event:R,schema:D,table:te,filter:re}}=U,ae=w&&w[M];if(ae&&ae.event===R&&ae.schema===D&&ae.table===te&&ae.filter===re)L.push(Object.assign(Object.assign({},U),{id:ae.id}));else{this.unsubscribe(),this.state=tt.errored,s?.(Tr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,s&&s(Tr.SUBSCRIBED);return}}).receive("error",w=>{this.state=tt.errored,s?.(Tr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{s?.(Tr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,n={}){return await this.send({type:"presence",event:"track",payload:s},n.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,n,i){return this.state===tt.joined&&s===La.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(s,n,i)}async send(s,n={}){var i,c;if(!this._canPush()&&s.type==="broadcast"){const{event:l,payload:u}=s,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((c=p.body)===null||c===void 0?void 0:c.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,f,g;const p=this._push(s.type,s,n.timeout||this.timeout);s.type==="broadcast"&&!(!((g=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=tt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(c=>{i=new wc(this,tr.leave,{},s),i.receive("ok",()=>{n(),c("ok")}).receive("timeout",()=>{n(),c("timed out")}).receive("error",()=>{c("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=tt.closed,this.bindings={}}async _fetchWithTimeout(s,n,i){const c=new AbortController,l=setTimeout(()=>c.abort(),i),u=await this.socket.fetch(s,Object.assign(Object.assign({},n),{signal:c.signal}));return clearTimeout(l),u}_push(s,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new wc(this,s,n,i);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>xx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(s,n,i){return n}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,n,i){var c,l;const u=s.toLocaleLowerCase(),{close:f,error:g,leave:p,join:y}=tr;if(i&&[f,g,p,y].indexOf(u)>=0&&i!==this._joinRef())return;let w=this._onMessage(u,n,i);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(k=>{var E,I,L;return((E=k.filter)===null||E===void 0?void 0:E.event)==="*"||((L=(I=k.filter)===null||I===void 0?void 0:I.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===u}).map(k=>k.callback(w,i)):(l=this.bindings[u])===null||l===void 0||l.filter(k=>{var E,I,L,M,U,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in k){const D=k.id,te=(E=k.filter)===null||E===void 0?void 0:E.event;return D&&((I=n.ids)===null||I===void 0?void 0:I.includes(D))&&(te==="*"||te?.toLocaleLowerCase()===((L=n.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const D=(U=(M=k?.filter)===null||M===void 0?void 0:M.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return D==="*"||D===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===u}).map(k=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:I,table:L,commit_timestamp:M,type:U,errors:R}=E;w=Object.assign(Object.assign({},{schema:I,table:L,commit_timestamp:M,eventType:U,new:{},old:{},errors:R}),this._getPayloadRecords(E))}k.callback(w,i)})}_isClosed(){return this.state===tt.closed}_isJoined(){return this.state===tt.joined}_isJoining(){return this.state===tt.joining}_isLeaving(){return this.state===tt.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,n,i){const c=s.toLocaleLowerCase(),l={type:c,filter:n,callback:i};return this.bindings[c]?this.bindings[c].push(l):this.bindings[c]=[l],this}_off(s,n){const i=s.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(c=>{var l;return!(((l=c.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&id.isEqual(c.filter,n))})),this}static isEqual(s,n){if(Object.keys(s).length!==Object.keys(n).length)return!1;for(const i in s)if(s[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(tr.close,{},s)}_onError(s){this._on(tr.error,{},n=>s(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=tt.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const n={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(n.new=lm(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(n.old=lm(s.columns,s.old_record)),n}}const um=()=>{},co={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_x=[1e3,2e3,5e3,1e4],Sx=1e4,Cx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ex{constructor(s,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=$c,this.transport=null,this.heartbeatIntervalMs=co.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=um,this.ref=0,this.reconnectTimer=null,this.logger=um,this.conn=null,this.sendBuffer=[],this.serializer=new yx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>{let l;return c?l=c:typeof fetch>"u"?l=(...u)=>Wa(async()=>{const{default:f}=await Promise.resolve().then(()=>Dn);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):l=fetch,(...u)=>l(...u)},!(!((i=n?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${s}/${Dc.websocket}`,this.httpEndpoint=df(s),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hx.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const n=s.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gx}))}disconnect(s,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},s?this.conn.close(s,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const n=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const s=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,n,i){this.logger(s,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Da.connecting:return Ms.Connecting;case Da.open:return Ms.Open;case Da.closing:return Ms.Closing;default:return Ms.Closed}}isConnected(){return this.connectionState()===Ms.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,n={config:{}}){const i=`realtime:${s}`,c=this.getChannels().find(l=>l.topic===i);if(c)return c;{const l=new id(`realtime:${s}`,n,this);return this.channels.push(l),l}}push(s){const{topic:n,event:i,payload:c,ref:l}=s,u=()=>{this.encode(s,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${n} ${i} (${l})`,c),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var s;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(px,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},co.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let n=this.channels.find(i=>i.topic===s&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${s}"`),n.unsubscribe())}_remove(s){this.channels=this.channels.filter(n=>n.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:c,payload:l,ref:u}=n,f=u?`(${u})`:"",g=l.status||"";this.log("receive",`${g} ${i} ${c} ${f}`.trim(),l),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(c,l,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(s){var n;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(s){var n;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s)}_triggerChanError(){this.channels.forEach(s=>s._trigger(tr.error))}_appendParams(s,n){if(Object.keys(n).length===0)return s;const i=s.match(/\?/)?"&":"?",c=new URLSearchParams(n);return`${s}${i}${c}`}_workerObjectUrl(s){let n;if(s)n=s;else{const i=new Blob([Cx],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(s,n=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(s=null){let n;s?n=s:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const c={access_token:n,version:fx};n&&i.updateJoinPayload(c),i.joinedOnce&&i._isJoined()&&i._push(tr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${s}`,n)})}_triggerStateCallbacks(s,n){try{this.stateChangeCallbacks[s].forEach(i=>{try{i(n)}catch(c){this.log("error",`error in ${s} callback`,c)}})}catch(i){this.log("error",`error triggering ${s} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new lf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},co.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var n,i,c,l,u,f,g,p;if(this.transport=(n=s?.transport)!==null&&n!==void 0?n:null,this.timeout=(i=s?.timeout)!==null&&i!==void 0?i:$c,this.heartbeatIntervalMs=(c=s?.heartbeatIntervalMs)!==null&&c!==void 0?c:co.HEARTBEAT_INTERVAL,this.worker=(l=s?.worker)!==null&&l!==void 0?l:!1,this.accessToken=(u=s?.accessToken)!==null&&u!==void 0?u:null,s?.params&&(this.params=s.params),s?.logger&&(this.logger=s.logger),(s?.logLevel||s?.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=s?.reconnectAfterMs)!==null&&f!==void 0?f:(y=>_x[y-1]||Sx),this.encode=(g=s?.encode)!==null&&g!==void 0?g:((y,v)=>v(JSON.stringify(y))),this.decode=(p=s?.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s?.workerUrl}}}class od extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}}function rt(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class Px extends od{constructor(s,n,i){super(s),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Lc extends od{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}}var Tx=function(o,s,n,i){function c(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{p(i.next(y))}catch(v){u(v)}}function g(y){try{p(i.throw(y))}catch(v){u(v)}}function p(y){y.done?l(y.value):c(y.value).then(f,g)}p((i=i.apply(o,s||[])).next())})};const uf=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...n)=>Wa(async()=>{const{default:i}=await Promise.resolve().then(()=>Dn);return{default:i}},void 0).then(({default:i})=>i(...n)):s=fetch,(...n)=>s(...n)},Ax=()=>Tx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wa(()=>Promise.resolve().then(()=>Dn),void 0)).Response:Response}),Fc=o=>{if(Array.isArray(o))return o.map(n=>Fc(n));if(typeof o=="function"||o!==Object(o))return o;const s={};return Object.entries(o).forEach(([n,i])=>{const c=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));s[c]=Fc(i)}),s},Ix=o=>{if(typeof o!="object"||o===null)return!1;const s=Object.getPrototypeOf(o);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var qs=function(o,s,n,i){function c(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{p(i.next(y))}catch(v){u(v)}}function g(y){try{p(i.throw(y))}catch(v){u(v)}}function p(y){y.done?l(y.value):c(y.value).then(f,g)}p((i=i.apply(o,s||[])).next())})};const jc=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Rx=(o,s,n)=>qs(void 0,void 0,void 0,function*(){const i=yield Ax();o instanceof i&&!n?.noResolveJson?o.json().then(c=>{const l=o.status||500,u=c?.statusCode||l+"";s(new Px(jc(c),l,u))}).catch(c=>{s(new Lc(jc(c),c))}):s(new Lc(jc(o),o))}),$x=(o,s,n,i)=>{const c={method:o,headers:s?.headers||{}};return o==="GET"||!i?c:(Ix(i)?(c.headers=Object.assign({"Content-Type":"application/json"},s?.headers),c.body=JSON.stringify(i)):c.body=i,s?.duplex&&(c.duplex=s.duplex),Object.assign(Object.assign({},c),n))};function Va(o,s,n,i,c,l){return qs(this,void 0,void 0,function*(){return new Promise((u,f)=>{o(n,$x(s,i,c,l)).then(g=>{if(!g.ok)throw g;return i?.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>Rx(g,f,i))})})}function bo(o,s,n,i){return qs(this,void 0,void 0,function*(){return Va(o,"GET",s,n,i)})}function ur(o,s,n,i,c){return qs(this,void 0,void 0,function*(){return Va(o,"POST",s,i,c,n)})}function Mc(o,s,n,i,c){return qs(this,void 0,void 0,function*(){return Va(o,"PUT",s,i,c,n)})}function Dx(o,s,n,i){return qs(this,void 0,void 0,function*(){return Va(o,"HEAD",s,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function hf(o,s,n,i,c){return qs(this,void 0,void 0,function*(){return Va(o,"DELETE",s,i,c,n)})}var vt=function(o,s,n,i){function c(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{p(i.next(y))}catch(v){u(v)}}function g(y){try{p(i.throw(y))}catch(v){u(v)}}function p(y){y.done?l(y.value):c(y.value).then(f,g)}p((i=i.apply(o,s||[])).next())})};const Ox={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Lx{constructor(s,n={},i,c){this.url=s,this.headers=n,this.bucketId=i,this.fetch=uf(c)}uploadOrUpdate(s,n,i,c){return vt(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},hm),c);let f=Object.assign(Object.assign({},this.headers),s==="POST"&&{"x-upsert":String(u.upsert)});const g=u.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",u.cacheControl),g&&l.append("metadata",this.encodeMetadata(g))):(l=i,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),c?.headers&&(f=Object.assign(Object.assign({},f),c.headers));const p=this._removeEmptyFolders(n),y=this._getFinalPath(p),v=yield(s=="PUT"?Mc:ur)(this.fetch,`${this.url}/object/${y}`,l,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(l){if(rt(l))return{data:null,error:l};throw l}})}upload(s,n,i){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",s,n,i)})}uploadToSignedUrl(s,n,i,c){return vt(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(s),u=this._getFinalPath(l),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",n);try{let g;const p=Object.assign({upsert:hm.upsert},c),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,y["cache-control"]=`max-age=${p.cacheControl}`,y["content-type"]=p.contentType);const v=yield Mc(this.fetch,f.toString(),g,{headers:y});return{data:{path:l,fullPath:v.Key},error:null}}catch(g){if(rt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(s,n){return vt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(s);const c=Object.assign({},this.headers);n?.upsert&&(c["x-upsert"]="true");const l=yield ur(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:c}),u=new URL(this.url+l.url),f=u.searchParams.get("token");if(!f)throw new od("No token returned by API");return{data:{signedUrl:u.toString(),path:s,token:f},error:null}}catch(i){if(rt(i))return{data:null,error:i};throw i}})}update(s,n,i){return vt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",s,n,i)})}move(s,n,i){return vt(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:s,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(c){if(rt(c))return{data:null,error:c};throw c}})}copy(s,n,i){return vt(this,void 0,void 0,function*(){try{return{data:{path:(yield ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:s,destinationKey:n,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(c){if(rt(c))return{data:null,error:c};throw c}})}createSignedUrl(s,n,i){return vt(this,void 0,void 0,function*(){try{let c=this._getFinalPath(s),l=yield ur(this.fetch,`${this.url}/object/sign/${c}`,Object.assign({expiresIn:n},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(c){if(rt(c))return{data:null,error:c};throw c}})}createSignedUrls(s,n,i){return vt(this,void 0,void 0,function*(){try{const c=yield ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:s},{headers:this.headers}),l=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:c.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(c){if(rt(c))return{data:null,error:c};throw c}})}download(s,n){return vt(this,void 0,void 0,function*(){const c=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),u=l?`?${l}`:"";try{const f=this._getFinalPath(s);return{data:yield(yield bo(this.fetch,`${this.url}/${c}/${f}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(rt(f))return{data:null,error:f};throw f}})}info(s){return vt(this,void 0,void 0,function*(){const n=this._getFinalPath(s);try{const i=yield bo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Fc(i),error:null}}catch(i){if(rt(i))return{data:null,error:i};throw i}})}exists(s){return vt(this,void 0,void 0,function*(){const n=this._getFinalPath(s);try{return yield Dx(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(rt(i)&&i instanceof Lc){const c=i.originalError;if([400,404].includes(c?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(s,n){const i=this._getFinalPath(s),c=[],l=n?.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&c.push(l);const f=typeof n?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(n?.transform||{});g!==""&&c.push(g);let p=c.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${i}${p}`)}}}remove(s){return vt(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:s},{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}})}list(s,n,i){return vt(this,void 0,void 0,function*(){try{const c=Object.assign(Object.assign(Object.assign({},Ox),n),{prefix:s||""});return{data:yield ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,c,{headers:this.headers},i),error:null}}catch(c){if(rt(c))return{data:null,error:c};throw c}})}listV2(s,n){return vt(this,void 0,void 0,function*(){try{const i=Object.assign({},s);return{data:yield ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(rt(i))return{data:null,error:i};throw i}})}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}}const Fx="2.11.0",Mx={"X-Client-Info":`storage-js/${Fx}`};var kn=function(o,s,n,i){function c(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{p(i.next(y))}catch(v){u(v)}}function g(y){try{p(i.throw(y))}catch(v){u(v)}}function p(y){y.done?l(y.value):c(y.value).then(f,g)}p((i=i.apply(o,s||[])).next())})};class Ux{constructor(s,n={},i,c){const l=new URL(s);c?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},Mx),n),this.fetch=uf(i)}listBuckets(){return kn(this,void 0,void 0,function*(){try{return{data:yield bo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(s){if(rt(s))return{data:null,error:s};throw s}})}getBucket(s){return kn(this,void 0,void 0,function*(){try{return{data:yield bo(this.fetch,`${this.url}/bucket/${s}`,{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}})}createBucket(s,n={public:!1}){return kn(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(rt(i))return{data:null,error:i};throw i}})}updateBucket(s,n){return kn(this,void 0,void 0,function*(){try{return{data:yield Mc(this.fetch,`${this.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(rt(i))return{data:null,error:i};throw i}})}emptyBucket(s){return kn(this,void 0,void 0,function*(){try{return{data:yield ur(this.fetch,`${this.url}/bucket/${s}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}})}deleteBucket(s){return kn(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/bucket/${s}`,{},{headers:this.headers}),error:null}}catch(n){if(rt(n))return{data:null,error:n};throw n}})}}class Bx extends Ux{constructor(s,n={},i,c){super(s,n,i,c)}from(s){return new Lx(this.url,this.headers,s,this.fetch)}}const zx="2.55.0";let Ra="";typeof Deno<"u"?Ra="deno":typeof document<"u"?Ra="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ra="react-native":Ra="node";const qx={"X-Client-Info":`supabase-js-${Ra}/${zx}`},Wx={headers:qx},Vx={schema:"public"},Hx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qx={};var Gx=function(o,s,n,i){function c(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{p(i.next(y))}catch(v){u(v)}}function g(y){try{p(i.throw(y))}catch(v){u(v)}}function p(y){y.done?l(y.value):c(y.value).then(f,g)}p((i=i.apply(o,s||[])).next())})};const Jx=o=>{let s;return o?s=o:typeof fetch>"u"?s=tf:s=fetch,(...n)=>s(...n)},Kx=()=>typeof Headers>"u"?rf:Headers,Yx=(o,s,n)=>{const i=Jx(n),c=Kx();return(l,u)=>Gx(void 0,void 0,void 0,function*(){var f;const g=(f=yield s())!==null&&f!==void 0?f:o;let p=new c(u?.headers);return p.has("apikey")||p.set("apikey",o),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),i(l,Object.assign(Object.assign({},u),{headers:p}))})};var Xx=function(o,s,n,i){function c(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{p(i.next(y))}catch(v){u(v)}}function g(y){try{p(i.throw(y))}catch(v){u(v)}}function p(y){y.done?l(y.value):c(y.value).then(f,g)}p((i=i.apply(o,s||[])).next())})};function Zx(o){return o.endsWith("/")?o:o+"/"}function ey(o,s){var n,i;const{db:c,auth:l,realtime:u,global:f}=o,{db:g,auth:p,realtime:y,global:v}=s,w={db:Object.assign(Object.assign({},g),c),auth:Object.assign(Object.assign({},p),l),realtime:Object.assign(Object.assign({},y),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),f),{headers:Object.assign(Object.assign({},(n=v?.headers)!==null&&n!==void 0?n:{}),(i=f?.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>Xx(this,void 0,void 0,function*(){return""})};return o.accessToken?w.accessToken=o.accessToken:delete w.accessToken,w}const mf="2.71.1",Tn=30*1e3,Uc=3,Nc=Uc*Tn,ty="http://localhost:9999",ry="supabase.auth.token",sy={"X-Client-Info":`gotrue-js/${mf}`},Bc="X-Supabase-Api-Version",ff={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ny=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ay=600*1e3;class ld extends Error{constructor(s,n,i){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Se(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class iy extends ld{constructor(s,n,i){super(s,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function oy(o){return Se(o)&&o.name==="AuthApiError"}class gf extends ld{constructor(s,n){super(s),this.name="AuthUnknownError",this.originalError=n}}class fs extends ld{constructor(s,n,i,c){super(s,i,c),this.name=n,this.status=i}}class as extends fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ly(o){return Se(o)&&o.name==="AuthSessionMissingError"}class uo extends fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ho extends fs{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class mo extends fs{constructor(s,n=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cy(o){return Se(o)&&o.name==="AuthImplicitGrantRedirectError"}class mm extends fs{constructor(s,n=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zc extends fs{constructor(s,n){super(s,"AuthRetryableFetchError",n,void 0)}}function kc(o){return Se(o)&&o.name==="AuthRetryableFetchError"}class fm extends fs{constructor(s,n,i){super(s,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class qc extends fs{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const wo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gm=` 	
\r=`.split(""),dy=(()=>{const o=new Array(128);for(let s=0;s<o.length;s+=1)o[s]=-1;for(let s=0;s<gm.length;s+=1)o[gm[s].charCodeAt(0)]=-2;for(let s=0;s<wo.length;s+=1)o[wo[s].charCodeAt(0)]=s;return o})();function pm(o,s,n){if(o!==null)for(s.queue=s.queue<<8|o,s.queuedBits+=8;s.queuedBits>=6;){const i=s.queue>>s.queuedBits-6&63;n(wo[i]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const i=s.queue>>s.queuedBits-6&63;n(wo[i]),s.queuedBits-=6}}function pf(o,s,n){const i=dy[o];if(i>-1)for(s.queue=s.queue<<6|i,s.queuedBits+=6;s.queuedBits>=8;)n(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function xm(o){const s=[],n=u=>{s.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},l=u=>{my(u,i,n)};for(let u=0;u<o.length;u+=1)pf(o.charCodeAt(u),c,l);return s.join("")}function uy(o,s){if(o<=127){s(o);return}else if(o<=2047){s(192|o>>6),s(128|o&63);return}else if(o<=65535){s(224|o>>12),s(128|o>>6&63),s(128|o&63);return}else if(o<=1114111){s(240|o>>18),s(128|o>>12&63),s(128|o>>6&63),s(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function hy(o,s){for(let n=0;n<o.length;n+=1){let i=o.charCodeAt(n);if(i>55295&&i<=56319){const c=(i-55296)*1024&65535;i=(o.charCodeAt(n+1)-56320&65535|c)+65536,n+=1}uy(i,s)}}function my(o,s,n){if(s.utf8seq===0){if(o<=127){n(o);return}for(let i=1;i<6;i+=1)if((o>>7-i&1)===0){s.utf8seq=i;break}if(s.utf8seq===2)s.codepoint=o&31;else if(s.utf8seq===3)s.codepoint=o&15;else if(s.utf8seq===4)s.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|o&63,s.utf8seq-=1,s.utf8seq===0&&n(s.codepoint)}}function fy(o){const s=[],n={queue:0,queuedBits:0},i=c=>{s.push(c)};for(let c=0;c<o.length;c+=1)pf(o.charCodeAt(c),n,i);return new Uint8Array(s)}function gy(o){const s=[];return hy(o,n=>s.push(n)),new Uint8Array(s)}function py(o){const s=[],n={queue:0,queuedBits:0},i=c=>{s.push(c)};return o.forEach(c=>pm(c,n,i)),pm(null,n,i),s.join("")}function xy(o){return Math.round(Date.now()/1e3)+o}function yy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const s=Math.random()*16|0;return(o=="x"?s:s&3|8).toString(16)})}const er=()=>typeof window<"u"&&typeof document<"u",Ds={tested:!1,writable:!1},xf=()=>{if(!er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ds.tested)return Ds.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Ds.tested=!0,Ds.writable=!0}catch{Ds.tested=!0,Ds.writable=!1}return Ds.writable};function vy(o){const s={},n=new URL(o);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((c,l)=>{s[l]=c})}catch{}return n.searchParams.forEach((i,c)=>{s[c]=i}),s}const yf=o=>{let s;return o?s=o:typeof fetch>"u"?s=(...n)=>Wa(async()=>{const{default:i}=await Promise.resolve().then(()=>Dn);return{default:i}},void 0).then(({default:i})=>i(...n)):s=fetch,(...n)=>s(...n)},by=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",An=async(o,s,n)=>{await o.setItem(s,JSON.stringify(n))},Os=async(o,s)=>{const n=await o.getItem(s);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ns=async(o,s)=>{await o.removeItem(s)};class Co{constructor(){this.promise=new Co.promiseConstructor((s,n)=>{this.resolve=s,this.reject=n})}}Co.promiseConstructor=Promise;function _c(o){const s=o.split(".");if(s.length!==3)throw new qc("Invalid JWT structure");for(let i=0;i<s.length;i++)if(!ny.test(s[i]))throw new qc("JWT not in base64url format");return{header:JSON.parse(xm(s[0])),payload:JSON.parse(xm(s[1])),signature:fy(s[2]),raw:{header:s[0],payload:s[1]}}}async function wy(o){return await new Promise(s=>{setTimeout(()=>s(null),o)})}function jy(o,s){return new Promise((i,c)=>{(async()=>{for(let l=0;l<1/0;l++)try{const u=await o(l);if(!s(l,null,u)){i(u);return}}catch(u){if(!s(l,u)){c(u);return}}})()})}function Ny(o){return("0"+o.toString(16)).substr(-2)}function ky(){const s=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let c="";for(let l=0;l<56;l++)c+=n.charAt(Math.floor(Math.random()*i));return c}return crypto.getRandomValues(s),Array.from(s,Ny).join("")}async function _y(o){const n=new TextEncoder().encode(o),i=await crypto.subtle.digest("SHA-256",n),c=new Uint8Array(i);return Array.from(c).map(l=>String.fromCharCode(l)).join("")}async function Sy(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const n=await _y(o);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _n(o,s,n=!1){const i=ky();let c=i;n&&(c+="/PASSWORD_RECOVERY"),await An(o,`${s}-code-verifier`,c);const l=await Sy(i);return[l,i===l?"plain":"s256"]}const Cy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ey(o){const s=o.headers.get(Bc);if(!s||!s.match(Cy))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function Py(o){if(!o)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(o<=s)throw new Error("JWT has expired")}function Ty(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ay=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sn(o){if(!Ay.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sc(){const o={};return new Proxy(o,{get:(s,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ym(o){return JSON.parse(JSON.stringify(o))}var Iy=function(o,s){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.indexOf(i)<0&&(n[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(o);c<i.length;c++)s.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(o,i[c])&&(n[i[c]]=o[i[c]]);return n};const Fs=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Ry=[502,503,504];async function vm(o){var s;if(!by(o))throw new zc(Fs(o),0);if(Ry.includes(o.status))throw new zc(Fs(o),o.status);let n;try{n=await o.json()}catch(l){throw new gf(Fs(l),l)}let i;const c=Ey(o);if(c&&c.getTime()>=ff["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new fm(Fs(n),o.status,((s=n.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(i==="session_not_found")throw new as}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,u)=>l&&typeof u=="string",!0))throw new fm(Fs(n),o.status,n.weak_password.reasons);throw new iy(Fs(n),o.status||500,i)}const $y=(o,s,n,i)=>{const c={method:o,headers:s?.headers||{}};return o==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s?.headers),c.body=JSON.stringify(i),Object.assign(Object.assign({},c),n))};async function Te(o,s,n,i){var c;const l=Object.assign({},i?.headers);l[Bc]||(l[Bc]=ff["2024-01-01"].name),i?.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const u=(c=i?.query)!==null&&c!==void 0?c:{};i?.redirectTo&&(u.redirect_to=i.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",g=await Dy(o,s,n+f,{headers:l,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(g):{data:Object.assign({},g),error:null}}async function Dy(o,s,n,i,c,l){const u=$y(s,i,c,l);let f;try{f=await o(n,Object.assign({},u))}catch(g){throw console.error(g),new zc(Fs(g),0)}if(f.ok||await vm(f),i?.noResolveJson)return f;try{return await f.json()}catch(g){await vm(g)}}function Pr(o){var s;let n=null;My(o)&&(n=Object.assign({},o),o.expires_at||(n.expires_at=xy(o.expires_in)));const i=(s=o.user)!==null&&s!==void 0?s:o;return{data:{session:n,user:i},error:null}}function bm(o){const s=Pr(o);return!s.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(s.data.weak_password=o.weak_password),s}function os(o){var s;return{data:{user:(s=o.user)!==null&&s!==void 0?s:o},error:null}}function Oy(o){return{data:o,error:null}}function Ly(o){const{action_link:s,email_otp:n,hashed_token:i,redirect_to:c,verification_type:l}=o,u=Iy(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:s,email_otp:n,hashed_token:i,redirect_to:c,verification_type:l},g=Object.assign({},u);return{data:{properties:f,user:g},error:null}}function Fy(o){return o}function My(o){return o.access_token&&o.refresh_token&&o.expires_in}const Cc=["global","local","others"];var Uy=function(o,s){var n={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.indexOf(i)<0&&(n[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(o);c<i.length;c++)s.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(o,i[c])&&(n[i[c]]=o[i[c]]);return n};class By{constructor({url:s="",headers:n={},fetch:i}){this.url=s,this.headers=n,this.fetch=yf(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(s,n=Cc[0]){if(Cc.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cc.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Se(i))return{data:null,error:i};throw i}}async inviteUserByEmail(s,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:os})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async generateLink(s){try{const{options:n}=s,i=Uy(s,["options"]),c=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(c.new_email=i?.newEmail,delete c.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:Ly,redirectTo:n?.redirectTo})}catch(n){if(Se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(s){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:os})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async listUsers(s){var n,i,c,l,u,f,g;try{const p={nextPage:null,lastPage:0,total:0},y=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=s?.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(c=s?.perPage)===null||c===void 0?void 0:c.toString())!==null&&l!==void 0?l:""},xform:Fy});if(y.error)throw y.error;const v=await y.json(),w=(u=y.headers.get("x-total-count"))!==null&&u!==void 0?u:0,k=(g=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return k.length>0&&(k.forEach(E=>{const I=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(E.split(";")[1].split("=")[1]);p[`${L}Page`]=I}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Se(p))return{data:{users:[]},error:p};throw p}}async getUserById(s){Sn(s);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:os})}catch(n){if(Se(n))return{data:{user:null},error:n};throw n}}async updateUserById(s,n){Sn(s);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:n,headers:this.headers,xform:os})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async deleteUser(s,n=!1){Sn(s);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:n},xform:os})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async _listFactors(s){Sn(s.userId);try{const{data:n,error:i}=await Te(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:n,error:i}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _deleteFactor(s){Sn(s.userId),Sn(s.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}}function wm(o={}){return{getItem:s=>o[s]||null,setItem:(s,n)=>{o[s]=n},removeItem:s=>{delete o[s]}}}function zy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Cn={debug:!!(globalThis&&xf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vf extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class qy extends vf{}async function Wy(o,s,n){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,s);const i=new globalThis.AbortController;return s>0&&setTimeout(()=>{i.abort(),Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},s),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async c=>{if(c){Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,c.name);try{return await n()}finally{Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,c.name)}}else{if(s===0)throw Cn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new qy(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Cn.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}zy();const Vy={url:ty,storageKey:ry,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jm(o,s,n){return await n()}const En={};class Ma{constructor(s){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ma.nextInstanceID,Ma.nextInstanceID+=1,this.instanceID>0&&er()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const c=Object.assign(Object.assign({},Vy),s);if(this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.persistSession=c.persistSession,this.storageKey=c.storageKey,this.autoRefreshToken=c.autoRefreshToken,this.admin=new By({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=yf(c.fetch),this.lock=c.lock||jm,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,c.lock?this.lock=c.lock:er()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=Wy:this.lock=jm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:xf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wm(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=wm(this.memoryStorage)),er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var s,n;return(n=(s=En[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(s){En[this.storageKey]=Object.assign(Object.assign({},En[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,n;return(n=(s=En[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){En[this.storageKey]=Object.assign(Object.assign({},En[this.storageKey]),{cachedAt:s})}_debug(...s){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mf}) ${new Date().toISOString()}`,...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{const n=vy(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),er()&&this.detectSessionInUrl&&i!=="none"){const{data:c,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),cy(l)){const g=(s=l.details)===null||s===void 0?void 0:s.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:u,redirectType:f}=c;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Se(n)?{error:n}:{error:new gf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var n,i,c;try{const l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=s?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(c=s?.options)===null||c===void 0?void 0:c.captchaToken}},xform:Pr}),{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(Se(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(s){var n,i,c;try{let l;if("email"in s){const{email:y,password:v,options:w}=s;let k=null,E=null;this.flowType==="pkce"&&([k,E]=await _n(this.storage,this.storageKey)),l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:v,data:(n=w?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:k,code_challenge_method:E},xform:Pr})}else if("phone"in s){const{phone:y,password:v,options:w}=s;l=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:v,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(c=w?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Pr})}else throw new ho("You must provide either an email or phone number and a password");const{data:u,error:f}=l;if(f||!u)return{data:{user:null,session:null},error:f};const g=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(l){if(Se(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(s){try{let n;if("email"in s){const{email:l,password:u,options:f}=s;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:bm})}else if("phone"in s){const{phone:l,password:u,options:f}=s;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:bm})}else throw new ho("You must provide either an email or phone number and a password");const{data:i,error:c}=n;return c?{data:{user:null,session:null},error:c}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new uo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:c})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(s){var n,i,c,l;return await this._handleProviderSignIn(s.provider,{redirectTo:(n=s.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=s.options)===null||i===void 0?void 0:i.scopes,queryParams:(c=s.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(l=s.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:n}=s;if(n==="solana")return await this.signInWithSolana(s);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(s){var n,i,c,l,u,f,g,p,y,v,w,k;let E,I;if("message"in s)E=s.message,I=s.signature;else{const{chain:L,wallet:M,statement:U,options:R}=s;let D;if(er())if(typeof M=="object")D=M;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))D=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=M}const te=new URL((n=R?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in D&&D.signIn){const re=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R?.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),U?{statement:U}:null));let ae;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")ae=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)ae=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)E=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),I=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${te.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(c=(i=R?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((l=R?.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((u=R?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((f=R?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((g=R?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((p=R?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((v=(y=R?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||v===void 0)&&v.length?["Resources",...R.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const re=await D.signMessage(new TextEncoder().encode(E),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");I=re}}try{const{data:L,error:M}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:py(I)},!((w=s.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(k=s.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Pr});if(M)throw M;return!L||!L.session||!L.user?{data:{user:null,session:null},error:new uo}:(L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),{data:Object.assign({},L),error:M})}catch(L){if(Se(L))return{data:{user:null,session:null},error:L};throw L}}async _exchangeCodeForSession(s){const n=await Os(this.storage,`${this.storageKey}-code-verifier`),[i,c]=(n??"").split("/");try{const{data:l,error:u}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:i},xform:Pr});if(await ns(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new uo}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:c??null}),error:u})}catch(l){if(Se(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(s){try{const{options:n,provider:i,token:c,access_token:l,nonce:u}=s,f=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:c,access_token:l,nonce:u,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:Pr}),{data:g,error:p}=f;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new uo}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(s){var n,i,c,l,u;try{if("email"in s){const{email:f,options:g}=s;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await _n(this.storage,this.storageKey));const{error:v}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(n=g?.data)!==null&&n!==void 0?n:{},create_user:(i=g?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:p,code_challenge_method:y},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in s){const{phone:f,options:g}=s,{data:p,error:y}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(c=g?.data)!==null&&c!==void 0?c:{},create_user:(l=g?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(u=g?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p?.message_id},error:y}}throw new ho("You must provide either an email or phone number.")}catch(f){if(Se(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(s){var n,i;try{let c,l;"options"in s&&(c=(n=s.options)===null||n===void 0?void 0:n.redirectTo,l=(i=s.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:f}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:l}}),redirectTo:c,xform:Pr});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const g=u.session,p=u.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(c){if(Se(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithSSO(s){var n,i,c;try{let l=null,u=null;return this.flowType==="pkce"&&([l,u]=await _n(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(i=(n=s.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((c=s?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:Oy})}catch(l){if(Se(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:n},error:i}=s;if(i)throw i;if(!n)throw new as;const{error:c}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:c}})}catch(s){if(Se(s))return{data:{user:null,session:null},error:s};throw s}}async resend(s){try{const n=`${this.url}/resend`;if("email"in s){const{email:i,type:c,options:l}=s,{error:u}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:c,gotrue_meta_security:{captcha_token:l?.captchaToken}},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in s){const{phone:i,type:c,options:l}=s,{data:u,error:f}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:c,gotrue_meta_security:{captcha_token:l?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new ho("You must provide either an email or phone number and a type")}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(s,n){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await s(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const n=await Os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?s=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const i=s.expires_at?s.expires_at*1e3-Date.now()<Nc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",s.expires_at),!i){if(this.userStorage){const u=await Os(this.userStorage,this.storageKey+"-user");u?.user?s.user=u.user:s.user=Sc()}if(this.storage.isServer&&s.user){let u=this.suppressGetSessionWarning;s=new Proxy(s,{get:(g,p,y)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,y))})}return{data:{session:s},error:null}}const{session:c,error:l}=await this._callRefreshToken(s.refresh_token);return l?{data:{session:null},error:l}:{data:{session:c},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(s){return s?await this._getUser(s):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(s){try{return s?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:os}):await this._useSession(async n=>{var i,c,l;const{data:u,error:f}=n;if(f)throw f;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new as}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(c=u.session)===null||c===void 0?void 0:c.access_token)!==null&&l!==void 0?l:void 0,xform:os})})}catch(n){if(Se(n))return ly(n)&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(s,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(s,n))}async _updateUser(s,n={}){try{return await this._useSession(async i=>{const{data:c,error:l}=i;if(l)throw l;if(!c.session)throw new as;const u=c.session;let f=null,g=null;this.flowType==="pkce"&&s.email!=null&&([f,g]=await _n(this.storage,this.storageKey));const{data:p,error:y}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:f,code_challenge_method:g}),jwt:u.access_token,xform:os});if(y)throw y;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Se(i))return{data:{user:null},error:i};throw i}}async setSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new as;const n=Date.now()/1e3;let i=n,c=!0,l=null;const{payload:u}=_c(s.access_token);if(u.exp&&(i=u.exp,c=i<=n),c){const{session:f,error:g}=await this._callRefreshToken(s.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!f)return{data:{user:null,session:null},error:null};l=f}else{const{data:f,error:g}=await this._getUser(s.access_token);if(g)throw g;l={access_token:s.access_token,refresh_token:s.refresh_token,user:f.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(n){if(Se(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async n=>{var i;if(!s){const{data:u,error:f}=n;if(f)throw f;s=(i=u.session)!==null&&i!==void 0?i:void 0}if(!s?.refresh_token)throw new as;const{session:c,error:l}=await this._callRefreshToken(s.refresh_token);return l?{data:{user:null,session:null},error:l}:c?{data:{user:c.user,session:c},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Se(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(s,n){try{if(!er())throw new mo("No browser detected.");if(s.error||s.error_description||s.error_code)throw new mo(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new mm("No code detected.");const{data:U,error:R}=await this._exchangeCodeForSession(s.code);if(R)throw R;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:c,access_token:l,refresh_token:u,expires_in:f,expires_at:g,token_type:p}=s;if(!l||!f||!u||!p)throw new mo("No session defined in URL");const y=Math.round(Date.now()/1e3),v=parseInt(f);let w=y+v;g&&(w=parseInt(g));const k=w-y;k*1e3<=Tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${v}s`);const E=w-v;y-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,y):y-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,y);const{data:I,error:L}=await this._getUser(l);if(L)throw L;const M={provider_token:i,provider_refresh_token:c,access_token:l,expires_in:v,expires_at:w,refresh_token:u,token_type:p,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:s.type},error:null}}catch(i){if(Se(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(s){return!!(s.access_token||s.error_description)}async _isPKCECallback(s){const n=await Os(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&n)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:c,error:l}=n;if(l)return{error:l};const u=(i=c.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:f}=await this.admin.signOut(u,s);if(f&&!(oy(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return s!=="others"&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(s){const n=yy(),i={id:n,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(s){return await this._useSession(async n=>{var i,c;try{const{data:{session:l},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(s))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",s,"session",l)}catch(l){await((c=this.stateChangeEmitters.get(s))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",l),console.error(l)}})}async resetPasswordForEmail(s,n={}){let i=null,c=null;this.flowType==="pkce"&&([i,c]=await _n(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:i,code_challenge_method:c,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(Se(l))return{data:null,error:l};throw l}}async getUserIdentities(){var s;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(s=n.user.identities)!==null&&s!==void 0?s:[]},error:null}}catch(n){if(Se(n))return{data:null,error:n};throw n}}async linkIdentity(s){var n;try{const{data:i,error:c}=await this._useSession(async l=>{var u,f,g,p,y;const{data:v,error:w}=l;if(w)throw w;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(u=s.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=s.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=s.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",k,{headers:this.headers,jwt:(y=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&y!==void 0?y:void 0})});if(c)throw c;return er()&&!(!((n=s.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:s.provider,url:i?.url},error:null}}catch(i){if(Se(i))return{data:{provider:s.provider,url:null},error:i};throw i}}async unlinkIdentity(s){try{return await this._useSession(async n=>{var i,c;const{data:l,error:u}=n;if(u)throw u;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(c=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&c!==void 0?c:void 0})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _refreshAccessToken(s){const n=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await jy(async c=>(c>0&&await wy(200*Math.pow(2,c-1)),this._debug(n,"refreshing attempt",c),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:Pr})),(c,l)=>{const u=200*Math.pow(2,c);return l&&kc(l)&&Date.now()+u-i<Tn})}catch(i){if(this._debug(n,"error",i),Se(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",n,"url",i),er()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:s,url:i},error:null}}async _recoverAndRefresh(){var s,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const c=await Os(this.storage,this.storageKey);if(c&&this.userStorage){let u=await Os(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:c.user},await An(this.userStorage,this.storageKey+"-user",u)),c.user=(s=u?.user)!==null&&s!==void 0?s:Sc()}else if(c&&!c.user&&!c.user){const u=await Os(this.storage,this.storageKey+"-user");u&&u?.user?(c.user=u.user,await ns(this.storage,this.storageKey+"-user"),await An(this.storage,this.storageKey,c)):c.user=Sc()}if(this._debug(i,"session from storage",c),!this._isValidSession(c)){this._debug(i,"session is not valid"),c!==null&&await this._removeSession();return}const l=((n=c.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Nc;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Nc}s`),l){if(this.autoRefreshToken&&c.refresh_token){const{error:u}=await this._callRefreshToken(c.refresh_token);u&&(console.error(u),kc(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(c.access_token);!f&&u?.user?(c.user=u.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(i,"error",c),console.error(c);return}finally{this._debug(i,"end")}}async _callRefreshToken(s){var n,i;if(!s)throw new as;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Co;const{data:l,error:u}=await this._refreshAccessToken(s);if(u)throw u;if(!l.session)throw new as;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const f={session:l.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(l){if(this._debug(c,"error",l),Se(l)){const u={session:null,error:l};return kc(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(s,n,i=!0){const c=`#_notifyAllSubscribers(${s})`;this._debug(c,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:s,session:n});const l=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(s,n)}catch(g){l.push(g)}});if(await Promise.all(u),l.length>0){for(let f=0;f<l.length;f+=1)console.error(l[f]);throw l[0]}}finally{this._debug(c,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0;const n=Object.assign({},s),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await An(this.userStorage,this.storageKey+"-user",{user:n.user});const c=Object.assign({},n);delete c.user;const l=ym(c);await An(this.storage,this.storageKey,l)}else{const c=ym(n);await An(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),await ns(this.storage,this.storageKey),await ns(this.storage,this.storageKey+"-code-verifier"),await ns(this.storage,this.storageKey+"-user"),this.userStorage&&await ns(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&er()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",s)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Tn);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((i.expires_at*1e3-s)/Tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${Tn}ms, refresh threshold is ${Uc} ticks`),c<=Uc&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof vf)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!er()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const n=`#_onVisibilityChanged(${s})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,n,i){const c=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&c.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,u]=await _n(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(u)}`});c.push(f.toString())}if(i?.queryParams){const l=new URLSearchParams(i.queryParams);c.push(l.toString())}return i?.skipBrowserRedirect&&c.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${s}?${c.join("&")}`}async _unenroll(s){try{return await this._useSession(async n=>{var i;const{data:c,error:l}=n;return l?{data:null,error:l}:await Te(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _enroll(s){try{return await this._useSession(async n=>{var i,c;const{data:l,error:u}=n;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:{issuer:s.issuer}),{data:g,error:p}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(s.factorType==="totp"&&(!((c=g?.totp)===null||c===void 0)&&c.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(Se(n))return{data:null,error:n};throw n}}async _verify(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:c,error:l}=n;if(l)return{data:null,error:l};const{data:u,error:f}=await Te(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:{code:s.code,challenge_id:s.challengeId},headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challenge(s){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:c,error:l}=n;return l?{data:null,error:l}:await Te(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:{channel:s.channel},headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Se(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(s){const{data:n,error:i}=await this._challenge({factorId:s.factorId});return i?{data:null,error:i}:await this._verify({factorId:s.factorId,challengeId:n.id,code:s.code})}async _listFactors(){const{data:{user:s},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=s?.factors||[],c=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),l=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:c,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async s=>{var n,i;const{data:{session:c},error:l}=s;if(l)return{data:null,error:l};if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=_c(c.access_token);let f=null;u.aal&&(f=u.aal);let g=f;((i=(n=c.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const y=u.amr||[];return{data:{currentLevel:f,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(s,n={keys:[]}){let i=n.keys.find(f=>f.kid===s);if(i)return i;const c=Date.now();if(i=this.jwks.keys.find(f=>f.kid===s),i&&this.jwks_cached_at+ay>c)return i;const{data:l,error:u}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=c,i=l.keys.find(f=>f.kid===s),!i)?null:i}async getClaims(s,n={}){try{let i=s;if(!i){const{data:k,error:E}=await this.getSession();if(E||!k.session)return{data:null,error:E};i=k.session.access_token}const{header:c,payload:l,signature:u,raw:{header:f,payload:g}}=_c(i);n?.allowExpired||Py(l.exp);const p=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!p){const{error:k}=await this.getUser(i);if(k)throw k;return{data:{claims:l,header:c,signature:u},error:null}}const y=Ty(c.alg),v=await crypto.subtle.importKey("jwk",p,y,!0,["verify"]);if(!await crypto.subtle.verify(y,v,u,gy(`${f}.${g}`)))throw new qc("Invalid JWT signature");return{data:{claims:l,header:c,signature:u},error:null}}catch(i){if(Se(i))return{data:null,error:i};throw i}}}Ma.nextInstanceID=0;const Hy=Ma;class Qy extends Hy{constructor(s){super(s)}}var Gy=function(o,s,n,i){function c(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function f(y){try{p(i.next(y))}catch(v){u(v)}}function g(y){try{p(i.throw(y))}catch(v){u(v)}}function p(y){y.done?l(y.value):c(y.value).then(f,g)}p((i=i.apply(o,s||[])).next())})};class Jy{constructor(s,n,i){var c,l,u;if(this.supabaseUrl=s,this.supabaseKey=n,!s)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const f=Zx(s),g=new URL(f);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const p=`sb-${g.hostname.split(".")[0]}-auth-token`,y={db:Vx,realtime:Qx,auth:Object.assign(Object.assign({},Hx),{storageKey:p}),global:Wx},v=ey(i??{},y);this.storageKey=(c=v.auth.storageKey)!==null&&c!==void 0?c:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(w,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=Yx(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new ux(new URL("rest/v1",g).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Bx(this.storageUrl.href,this.headers,this.fetch,i?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Zp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},i={}){return this.rest.rpc(s,n,i)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var s,n;return Gy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:i,storage:c,storageKey:l,flowType:u,lock:f,debug:g},p,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qy({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:l,autoRefreshToken:s,persistSession:n,detectSessionInUrl:i,storage:c,flowType:u,lock:f,debug:g,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(s){return new Ex(this.realtimeUrl.href,Object.assign(Object.assign({},s),{params:Object.assign({apikey:this.supabaseKey},s?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i?.access_token)})}_handleTokenChanged(s,n,i){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ky=(o,s,n)=>new Jy(o,s,n);function Yy(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const s=o.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}Yy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xy="https://qxsardezvxsquvejvsso.supabase.co",Zy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InF4c2FyZGV6dnhzcXV2ZWp2c3NvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0NDc2OTMsImV4cCI6MjA3MTAyMzY5M30.ZQhcxebPR4kvAAwCIJr7WlugVwoZivTDN9ID3p_aC04";let G=null;G=Ky(Xy,Zy);const On={WEBSITE_CONTENT:"website_content",USERS:"users",CONTEST_SUBMISSIONS:"contest_submissions",ADMIN_SESSIONS:"admin_sessions",UPCOMING_EVENTS:"upcoming_events",EVENT_IMAGES:"event_images",FORUM_POSTS:"forum_posts",FORUM_COMMENTS:"forum_comments",FORUM_LIKES:"forum_likes",POST_COMMENTS:"post_comments",POST_LIKES:"post_likes",USER_BOARDS:"user_boards",BOARD_PINS:"board_pins",RESUME_TEMPLATES:"resume_templates",USER_RESUMES:"user_resumes",RESUME_VERSIONS:"resume_versions",RESUME_SHARES:"resume_shares",RESUME_ANALYTICS:"resume_analytics",RESUME_COMMENTS:"resume_comments",RESUME_EXPORTS:"resume_exports",PREMIUM_SUBSCRIPTIONS:"premium_subscriptions",PAYMENT_CONFIG:"payment_config",AI_RESUME_GENERATIONS:"ai_resume_generations"},ev=async o=>{try{if(!G||!o)return[];const{data:s,error:n}=await G.from(On.USER_RESUMES).select(`
        *,
        template:resume_templates(name, description),
        stats:resume_stats(*)
      `).eq("user_email",o).order("updated_at",{ascending:!1});if(n)throw n;return s||[]}catch(s){return console.error("Error fetching user resumes:",s),[]}},bf=async o=>{try{if(!G)throw new Error("Supabase not configured");await wf(o,"delete");const{error:s}=await G.from(On.USER_RESUMES).delete().eq("id",o);if(s)throw s;return!0}catch(s){throw console.error("Error deleting resume:",s),s}},tv=async(o,s)=>{try{if(!G)throw new Error("Supabase not configured");const n=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),{data:i,error:c}=await G.from(On.RESUME_SHARES).insert([{...s,resume_id:o,access_token:n}]).select().single();if(c)throw c;return await wf(o,"share",{share_type:s.share_type}),i}catch(n){throw console.error("Error sharing resume:",n),n}},wf=async(o,s,n={})=>{try{if(!G||!o)return;const{error:i}=await G.from(On.RESUME_ANALYTICS).insert([{resume_id:o,event_type:s,user_agent:navigator?.userAgent||"Unknown",metadata:n}]);i&&console.warn("Analytics tracking failed:",i)}catch(i){console.warn("Analytics tracking error:",i)}},Nm=async o=>{try{if(!G){const i=`resume_draft_${o||"anonymous"}`,c=localStorage.getItem(i);return c?JSON.parse(c):null}const{data:s,error:n}=await G.from(On.USER_RESUMES).select("*").eq("user_email",o).eq("status","draft").order("updated_at",{ascending:!1}).limit(1).single();if(n&&n.code!=="PGRST116")throw n;return s}catch(s){return console.error("Error loading draft:",s),null}},rv=async(o,s=null)=>{try{if(!G){const n=`resume_draft_${o||"anonymous"}`;return localStorage.removeItem(n),!0}if(s)return await bf(s);{const{error:n}=await G.from(On.USER_RESUMES).delete().eq("user_email",o).eq("status","draft");if(n)throw n;return!0}}catch(n){return console.error("Error deleting draft:",n),!1}},Wc=o=>{if(!o||typeof o!="object")return 0;const s={personal:o.personal?.name&&o.personal?.email?20:0,summary:o.summary?.trim()?15:0,experience:o.experience?.some(n=>n.company&&n.role)?25:0,skills:Object.values(o.technicalSkills||{}).some(n=>n.length>0)?15:0,education:o.education?.some(n=>n.degree&&n.university)?10:0,projects:o.projects?.some(n=>n.title&&n.description)?10:0,certifications:o.certifications?.some(n=>n.name)?5:0};return Object.values(s).reduce((n,i)=>n+i,0)},sv=o=>{if(!o)return"";const s=o.personal?.name||"Unnamed Resume",n=o.personal?.jobTitle||"Professional",i=Wc(o);return{title:`${s} - ${n}`,completeness:i,lastModified:new Date().toISOString(),sections:Object.keys(o).filter(c=>o[c]&&(Array.isArray(o[c])?o[c].length>0:typeof o[c]=="object"?Object.keys(o[c]).length>0:o[c].toString().trim())).length}};class nv{constructor(){this.rateLimitKey="magic_link_requests",this.sessionKey="testingvala_session",this.deviceKey="testingvala_device_id",this.maxRequests=5,this.rateLimitWindow=3600*1e3,this.sessionDuration=720*60*60*1e3}generateDeviceId(){const s=document.createElement("canvas"),n=s.getContext("2d");n.textBaseline="top",n.font="14px Arial",n.fillText("Device fingerprint",2,2);const i=[navigator.userAgent,navigator.language,screen.width+"x"+screen.height,new Date().getTimezoneOffset(),s.toDataURL()].join("|");return btoa(i).substring(0,32)}getDeviceId(){let s=localStorage.getItem(this.deviceKey);return s||(s=this.generateDeviceId(),localStorage.setItem(this.deviceKey,s)),s}checkRateLimit(s){const n=this.getDeviceId(),i=`${this.rateLimitKey}_${s}_${n}`,c=localStorage.getItem(i);if(!c)return{allowed:!0,remaining:this.maxRequests-1};const l=JSON.parse(c);if(Date.now()-l.firstRequest>this.rateLimitWindow)return localStorage.removeItem(i),{allowed:!0,remaining:this.maxRequests-1};if(l.count>=this.maxRequests){const f=new Date(l.firstRequest+this.rateLimitWindow);return{allowed:!1,remaining:0,resetTime:f,message:`Rate limit exceeded. Try again after ${f.toLocaleTimeString()}`}}return{allowed:!0,remaining:this.maxRequests-l.count-1}}recordRequest(s){const n=this.getDeviceId(),i=`${this.rateLimitKey}_${s}_${n}`,c=localStorage.getItem(i),l=Date.now();if(!c)localStorage.setItem(i,JSON.stringify({count:1,firstRequest:l,lastRequest:l}));else{const u=JSON.parse(c);u.count+=1,u.lastRequest=l,localStorage.setItem(i,JSON.stringify(u))}}async sendMagicLink(s){const n=Date.now(),i=Math.random().toString(36).substring(2,15);console.log(` [${i}] Magic Link Request Started`,{email:s,timestamp:new Date().toISOString(),deviceId:this.getDeviceId(),userAgent:navigator.userAgent});try{const c=this.checkRateLimit(s);if(!c.allowed)throw console.warn(` [${i}] Rate limit exceeded`,c),new Error(c.message);if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s))throw new Error("Please enter a valid email address");const u=Math.random().toString(36).substring(2,15);sessionStorage.setItem("csrf_token",u),console.log(` [${i}] Sending email request`,{email:s,remaining:c.remaining,csrfToken:u});const f=new AbortController,g=setTimeout(()=>f.abort(),3e4),p=await fetch("/api/send-magic-link",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":u,"X-Request-ID":i},body:JSON.stringify({email:s.trim().toLowerCase(),deviceId:this.getDeviceId(),requestId:i}),signal:f.signal});if(clearTimeout(g),!p.ok){const w=await p.json().catch(()=>({}));throw new Error(w.error||`Server error: ${p.status}`)}const y=await p.json();this.recordRequest(s);const v=Date.now()-n;return console.log(` [${i}] Magic Link Sent Successfully`,{email:s,messageId:y.messageId,duration:`${v}ms`,remaining:c.remaining-1}),{success:!0,messageId:y.messageId,remaining:c.remaining-1,requestId:i}}catch(c){const l=Date.now()-n;throw console.error(` [${i}] Magic Link Failed`,{email:s,error:c.message,duration:`${l}ms`,stack:c.stack}),c.name==="AbortError"?new Error("Request timeout. Please check your connection and try again."):c.message.includes("Rate limit")?c:c.message.includes("network")||c.message.includes("fetch")?new Error("Network error. Please check your connection and try again."):new Error(c.message||"Failed to send magic link. Please try again.")}}async verifyToken(s,n){const i=Math.random().toString(36).substring(2,15);console.log(` [${i}] Token Verification Started`,{email:n,token:s.substring(0,8)+"...",timestamp:new Date().toISOString()});try{if(!(await fetch(`/api/verify-token?token=${s}&email=${encodeURIComponent(n)}&requestId=${i}`)).ok)throw new Error("Token verification failed");const l={email:n,verified:!0,deviceId:this.getDeviceId(),loginTime:Date.now(),expiresAt:Date.now()+this.sessionDuration};return localStorage.setItem(this.sessionKey,JSON.stringify(l)),localStorage.setItem("user_email",n),localStorage.setItem("user_verified","true"),console.log(` [${i}] Token Verified Successfully`,{email:n,sessionDuration:"30 days"}),{success:!0,session:l}}catch(c){throw console.error(` [${i}] Token Verification Failed`,{email:n,error:c.message}),c}}isAuthenticated(){try{const s=localStorage.getItem(this.sessionKey);if(!s)return!1;const n=JSON.parse(s);if(Date.now()>n.expiresAt)return this.clearSession(),!1;const c=this.getDeviceId();return n.deviceId!==c?(console.warn(" Device change detected, requiring re-authentication"),this.clearSession(),!1):!0}catch(s){return console.error("Session validation error:",s),this.clearSession(),!1}}getSession(){try{const s=localStorage.getItem(this.sessionKey);return s?JSON.parse(s):null}catch(s){return console.error("Error getting session:",s),null}}clearSession(){localStorage.removeItem(this.sessionKey),localStorage.removeItem("user_email"),localStorage.removeItem("user_verified"),console.log(" Session cleared")}extendSession(){const s=this.getSession();s&&(s.expiresAt=Date.now()+this.sessionDuration,localStorage.setItem(this.sessionKey,JSON.stringify(s)))}getAuthStatus(){const s=this.getSession();return{isAuthenticated:this.isAuthenticated(),email:s?.email||localStorage.getItem("user_email"),loginTime:s?.loginTime,expiresAt:s?.expiresAt,deviceId:s?.deviceId,timeRemaining:s?.expiresAt?s.expiresAt-Date.now():0}}}const Rt=new nv,Ln=o=>{N.useEffect(()=>{if(o){const s=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=s}}},[o])},Eo=({isOpen:o,onClose:s,onSuccess:n,action:i="comment"})=>{const[c,l]=N.useState(""),[u,f]=N.useState(!1),[g,p]=N.useState("email"),[y,v]=N.useState(null),[w,k]=N.useState(null);if(Ln(o),N.useEffect(()=>{try{if(o&&Rt.isAuthenticated()){const E=Rt.getAuthStatus();console.log(" User already authenticated:",E.email),H.success("Welcome back! You're already signed in."),s(),n&&n()}}catch(E){console.error("Auth status check error:",E)}},[o,s,n]),!o)return null;try{const E=async L=>{L.preventDefault();const M=c.trim().toLowerCase();if(!M){H.error("Please enter your email address");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M)){H.error("Please enter a valid email address");return}f(!0);try{const R=await Rt.sendMagicLink(M);k(R.messageId||R.requestId),p("verify"),console.log(" Email service response:",R),R.magicLink?(console.log(" Development Magic Link:",R.magicLink),H.success("Development: Check console for magic link",{duration:1e4})):R.provider==="smtp"||R.provider==="zeptomail-api"?H.success(` Real email sent to ${M} via ${R.provider}`):H.success(` Verification email sent to ${M}`)}catch(R){console.error(" Magic link failed:",R),R.message&&R.message.includes("Rate limit")?(v({message:R.message}),p("rate_limited")):H.error(R.message||"Failed to send magic link")}finally{f(!1)}},I={comment:"comment on this post",like:"like this post",post:"create a post",save:"save this post to your boards",boards:"access your boards",resume:"create your resume"};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[999999] p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[calc(90vh-80px)] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-100",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:g==="email"?"Join the Discussion":"Check Your Email"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(Re,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-6",children:g==="rate_limited"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qt,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Rate Limit Reached"}),e.jsx("p",{className:"text-gray-600 mb-6",children:y?.message||"You've reached the maximum number of magic link requests."}),e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx($n,{className:"w-5 h-5 text-orange-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-orange-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Security Protection Active"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:" Maximum 5 requests per hour per device"}),e.jsx("li",{children:" This prevents unauthorized access attempts"}),e.jsx("li",{children:" Your limit will reset automatically"})]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{p("email"),v(null)},className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 font-medium",children:"Try Different Email"}),e.jsx("button",{onClick:s,className:"flex-1 bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 font-medium",children:"Close"})]})]})}):g==="email"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(hs,{className:"w-8 h-8 text-white"})}),e.jsxs("p",{className:"text-gray-600",children:["To ",I[i],", please verify your email address. We'll send you a magic link for instant access."]})]}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(Fa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",value:c,onChange:L=>l(L.target.value),placeholder:"Enter your email address",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Sending Magic Link..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ar,{className:"w-5 h-5"}),"Send Magic Link"]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-xs text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy. No spam, just community updates."})})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(bt,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Check Your Email"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["We've sent a secure verification link to ",e.jsx("strong",{children:c}),". Click the link in your email to complete authentication."]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Fa,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Next Steps:"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:" Check your email inbox (and spam folder)"}),e.jsx("li",{children:' Click the "Verify Account" button in the email'}),e.jsx("li",{children:" You'll be automatically signed in"}),w&&e.jsxs("li",{children:[" Request ID: ",w]}),window.location.hostname==="localhost"&&e.jsx("li",{style:{color:"#059669"},children:" Development: Check browser console for direct link"})]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>p("email"),className:"flex-1 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 font-medium",children:"Send to Different Email"}),e.jsx("button",{onClick:s,className:"flex-1 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 font-medium",children:"Close"})]})]})})})]})})}catch(E){return console.error("AuthModal render error:",E),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[999999] p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Xe,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Authentication Error"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"There was an issue with the authentication system."}),e.jsx("button",{onClick:s,className:"bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Close"})]})})}},av=({onBack:o,userEmail:s})=>{const[n,i]=N.useState("check"),[c,l]=N.useState(null),[u,f]=N.useState(null),[g,p]=N.useState(""),[y,v]=N.useState(null),[w,k]=N.useState(!1),[E,I]=N.useState(null),[L,M]=N.useState(!1),[U,R]=N.useState(1),[D,te]=N.useState({name:"",phone:"",transactionId:""});N.useEffect(()=>{s&&(re(),ae())},[s]);const re=async()=>{try{const{data:V}=await G.from("premium_users").select("*").eq("user_email",s).gt("expires_at",new Date().toISOString()).single();if(V){l(V),i("builder");return}const{data:le}=await G.from("payment_requests").select("*").eq("user_email",s).eq("status","pending").order("created_at",{ascending:!1}).limit(1).single();le?(I(le),i("pending")):i("payment")}catch{i("payment")}},ae=async()=>{const{data:V}=await G.from("payment_config").select("*").eq("id",1).single();V&&f(V)},be=async()=>{if(!g.trim()){H.error("Please enter job description");return}k(!0);try{const V={personal:{name:"Professional Name",email:s,phone:"+91 XXXXXXXXXX",location:"City, Country"},summary:"Results-driven professional with proven expertise in areas aligned with the role requirements. Demonstrated ability to deliver high-quality solutions and drive organizational success through innovative approaches and strategic thinking.",skills:["Strategic Planning","Team Leadership","Process Optimization","Quality Assurance","Project Management","Data Analysis"],experience:[{company:"Previous Company",role:"Senior Position",duration:"2020 - Present",achievements:["Led cross-functional teams to achieve 25% improvement in efficiency","Implemented strategic initiatives resulting in significant cost savings","Developed and executed comprehensive quality improvement programs"]}],education:[{degree:"Relevant Degree",institution:"University Name",year:"2018",details:"Specialized in relevant field with focus on industry best practices"}]};await G.from("ai_resume_generations").insert({user_email:s,job_description:g,generated_resume:V}),v(V),H.success("Professional resume generated successfully!")}catch{H.error("Failed to generate resume")}finally{k(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50",children:[e.jsx("div",{className:"fixed top-20 left-4 sm:left-6 z-50",children:e.jsxs("button",{onClick:o,className:"group flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-2.5 bg-white/90 backdrop-blur-sm border border-gray-200/50 rounded-xl shadow-lg hover:shadow-xl hover:bg-white transition-all duration-200 hover:scale-105",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gray-100 group-hover:bg-gray-200 rounded-lg flex items-center justify-center transition-colors",children:e.jsx(rr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-600 group-hover:-translate-x-0.5 transition-transform duration-200"})}),e.jsx("span",{className:"font-medium text-sm sm:text-base text-gray-700 group-hover:text-gray-900 transition-colors",children:"Back"})]})}),e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200 group z-10",children:[e.jsx(rr,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform duration-200"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(zs,{className:"w-5 h-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AI Resume Builder"})]})]}),e.jsx("div",{className:"w-16"})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n==="payment"&&e.jsx("div",{className:"max-w-md mx-auto",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Ac,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Unlock AI Resume Builder"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Get unlimited access to our AI-powered resume generation"}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:["",u?.monthly_price||99,"/month"]}),e.jsx("div",{className:"text-sm text-purple-700",children:"Unlimited AI generations"})]}),e.jsx("div",{className:"space-y-3 mb-8 text-left",children:["Paste job description  Get tailored resume","AI content generation","ATS optimization","Industry keywords","Unlimited generations"].map((V,le)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(bt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:V})]},le))}),e.jsx("button",{onClick:()=>M(!0),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition-all",children:"Pay Now - Get Instant Access"})]})}),n==="pending"&&e.jsx("div",{className:"max-w-md mx-auto text-center",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-amber-500 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(qt,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Payment Under Review"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Your payment is being verified. You'll get access within 24 hours."}),e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Xe,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-left",children:[e.jsx("h4",{className:"font-semibold text-amber-800 mb-2",children:"Next Steps"}),e.jsxs("ul",{className:"text-amber-700 space-y-1 text-sm",children:[e.jsx("li",{children:" Payment request received"}),e.jsx("li",{children:" Admin verification in progress"}),e.jsx("li",{children:" Access activation (within 24h)"}),e.jsx("li",{children:" Email confirmation"})]})]})]})})]})}),n==="builder"&&e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(Us,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"AI Resume Generator"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Paste job description for tailored resume"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Job Description"}),e.jsx("textarea",{value:g,onChange:V=>p(V.target.value),rows:"12",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",placeholder:"Paste the complete job description here. Our AI will analyze requirements, skills, and qualifications to create a perfectly tailored resume..."})]}),e.jsx("button",{onClick:be,disabled:w||!g.trim(),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-xl font-semibold hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50 flex items-center justify-center gap-3 shadow-lg",children:w?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),e.jsx("span",{children:"Generating Resume..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Us,{className:"w-5 h-5"}),e.jsx("span",{children:"Generate Professional Resume"})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center",children:e.jsx(cs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Resume Preview"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"AI-generated resume appears here"})]})]}),y?e.jsxs("div",{className:"border border-gray-200 rounded-xl p-6 h-[500px] overflow-y-auto",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:y.personal.name}),e.jsx("p",{className:"text-gray-600",children:y.personal.email}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[y.personal.phone,"  ",y.personal.location]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Professional Summary"}),e.jsx("p",{className:"text-gray-700 text-sm leading-relaxed",children:y.summary})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Core Competencies"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.skills.map((V,le)=>e.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:V},le))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Professional Experience"}),y.experience.map((V,le)=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("h5",{className:"font-medium text-gray-900",children:V.role}),e.jsx("span",{className:"text-sm text-gray-500",children:V.duration})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:V.company}),e.jsx("ul",{className:"text-sm text-gray-700 space-y-1",children:V.achievements.map((we,ke)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-gray-400 rounded-full mt-2 flex-shrink-0"}),e.jsx("span",{children:we})]},ke))})]},le))]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("button",{className:"w-full bg-green-600 text-white py-3 rounded-xl hover:bg-green-700 transition-colors font-semibold flex items-center justify-center gap-2",children:[e.jsx(ls,{className:"w-5 h-5"}),"Download Resume PDF"]})})]}):e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl h-[500px] flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(cs,{className:"w-16 h-16 mx-auto mb-4 opacity-40"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Ready to Generate"}),e.jsx("p",{className:"text-sm",children:"Add job description to create tailored resume"})]})})]})]})]}),L&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold",children:U===1?"Personal Details":U===2?"Payment":"Confirm Payment"}),e.jsx("button",{onClick:()=>M(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(Re,{className:"w-6 h-6"})})]}),U===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",required:!0,value:D.name,onChange:V=>te({...D,name:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:s,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg bg-gray-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",required:!0,value:D.phone,onChange:V=>te({...D,phone:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500"})]}),e.jsx("button",{onClick:()=>{if(!D.name||!D.phone){H.error("Please fill all required fields");return}R(2)},className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Continue to Payment"})]}),U===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-center",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:["Pay ",u?.monthly_price||99," via UPI"]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[e.jsx("span",{className:"font-mono text-lg",children:u?.upi_id||"testingvala@paytm"}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u?.upi_id||"testingvala@paytm"),H.success("UPI ID copied!")},className:"p-1 text-blue-600 hover:text-blue-800",children:e.jsx(ed,{className:"w-4 h-4"})})]}),e.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=upi://pay?pa=${u?.upi_id||"testingvala@paytm"}&pn=TestingVala&am=${u?.monthly_price||99}&cu=INR&tn=AI Resume Builder Premium`,alt:"UPI QR Code",className:"mx-auto w-32 h-32 border rounded-lg"})]}),e.jsx("button",{onClick:()=>R(3),className:"w-full px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"I have completed the payment"})]}),U===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Transaction ID *"}),e.jsx("input",{type:"text",required:!0,value:D.transactionId,onChange:V=>te({...D,transactionId:V.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",placeholder:"Enter UPI transaction ID"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium",children:"Note:"}),e.jsx("p",{children:"Your payment will be verified within 24 hours and access will be activated."})]})]})}),e.jsx("button",{onClick:async()=>{if(!D.transactionId){H.error("Please enter transaction ID");return}try{await G.from("payment_requests").insert({user_name:D.name,user_email:s,user_phone:D.phone,transaction_id:D.transactionId}),H.success("Payment request submitted! Admin will review and give permissions within 24 hours."),M(!1),R(1),re()}catch{H.error("Failed to submit payment request")}},className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Submit Payment Request"})]})]})})})]})},iv=({formData:o,updateItem:s,addItem:n,removeItem:i})=>e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Open Source Contributions"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Highlight your contributions to open source projects and community involvement."}),o.openSource.map((c,l)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Gm,{className:"w-5 h-5"}),"Project ",l+1]}),o.openSource.length>1&&e.jsx("button",{onClick:()=>i("openSource",l),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Name"}),e.jsx("input",{type:"text",value:c.project,onChange:u=>s("openSource",l,"project",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"TestUtils Library"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Role"}),e.jsx("input",{type:"text",value:c.role,onChange:u=>s("openSource",l,"role",u.target.value),list:`roles-${l}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter or select role..."}),e.jsxs("datalist",{id:`roles-${l}`,children:[e.jsx("option",{value:"Maintainer"}),e.jsx("option",{value:"Core Contributor"}),e.jsx("option",{value:"Contributor"}),e.jsx("option",{value:"Creator"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:c.description,onChange:u=>s("openSource",l,"description",u.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Open-source testing utilities for web applications with focus on automation and reliability"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Technologies"}),e.jsx("input",{type:"text",value:c.technologies,onChange:u=>s("openSource",l,"technologies",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"JavaScript, Node.js, Jest"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub Stars (optional)"}),e.jsx("input",{type:"number",value:c.stars,onChange:u=>s("openSource",l,"stars",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"245"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Repository URL"}),e.jsx("input",{type:"url",value:c.url,onChange:u=>s("openSource",l,"url",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://github.com/username/project"})]})]})]},l)),e.jsxs("button",{onClick:()=>n("openSource",{project:"",description:"",role:"",technologies:"",url:"",stars:""}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Open Source Project"]})]}),ov=({formData:o,updateItem:s,addItem:n,removeItem:i})=>e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Professional Memberships & Affiliations"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your professional associations and industry involvement."}),o.memberships.map((c,l)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(sd,{className:"w-5 h-5"}),"Membership ",l+1]}),o.memberships.length>1&&e.jsx("button",{onClick:()=>i("memberships",l),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization"}),e.jsx("input",{type:"text",value:c.organization,onChange:u=>s("memberships",l,"organization",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ISTQB (International Software Testing Qualifications Board)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role/Status"}),e.jsx("input",{type:"text",value:c.role,onChange:u=>s("memberships",l,"role",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Certified Member, Board Member, etc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Member Since"}),e.jsx("input",{type:"text",value:c.since,onChange:u=>s("memberships",l,"since",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"2020"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Level/Certification"}),e.jsx("input",{type:"text",value:c.level,onChange:u=>s("memberships",l,"level",u.target.value),list:`levels-${l}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter or select level..."}),e.jsxs("datalist",{id:`levels-${l}`,children:[e.jsx("option",{value:"Foundation"}),e.jsx("option",{value:"Advanced"}),e.jsx("option",{value:"Expert"}),e.jsx("option",{value:"Professional"}),e.jsx("option",{value:"Associate"}),e.jsx("option",{value:"Fellow"})]})]})]})]},l)),e.jsxs("button",{onClick:()=>n("memberships",{organization:"",role:"",since:"",level:""}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Membership"]})]}),lv=({formData:o,updateItem:s,addItem:n,removeItem:i})=>e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Portfolio & Case Studies"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your best work and detailed case studies with measurable results."}),o.portfolio.map((c,l)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(za,{className:"w-5 h-5"}),"Portfolio Item ",l+1]}),o.portfolio.length>1&&e.jsx("button",{onClick:()=>i("portfolio",l),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:c.title,onChange:u=>s("portfolio",l,"title",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"QA Process Optimization Case Study"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type"}),e.jsx("input",{type:"text",value:c.type,onChange:u=>s("portfolio",l,"type",u.target.value),list:`types-${l}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter or select type..."}),e.jsxs("datalist",{id:`types-${l}`,children:[e.jsx("option",{value:"Case Study"}),e.jsx("option",{value:"Project Portfolio"}),e.jsx("option",{value:"Testing Framework"}),e.jsx("option",{value:"Process Documentation"}),e.jsx("option",{value:"Tool Implementation"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:c.description,onChange:u=>s("portfolio",l,"description",u.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Complete transformation of testing processes at Fortune 500 company, resulting in 60% reduction in defects and 40% faster releases"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Technologies Used"}),e.jsx("input",{type:"text",value:c.technologies,onChange:u=>s("portfolio",l,"technologies",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Selenium, Jenkins, JIRA, TestRail"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Portfolio URL"}),e.jsx("input",{type:"url",value:c.url,onChange:u=>s("portfolio",l,"url",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://yourportfolio.com/case-study"})]})]})]},l)),e.jsxs("button",{onClick:()=>n("portfolio",{title:"",description:"",url:"",type:"Case Study",technologies:""}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Portfolio Item"]})]}),cv=({formData:o,updateItem:s,addItem:n,removeItem:i})=>e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Patents & Innovations"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Highlight your intellectual property and innovative contributions to the field."}),o.patents.map((c,l)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Jm,{className:"w-5 h-5"}),"Patent ",l+1]}),o.patents.length>1&&e.jsx("button",{onClick:()=>i("patents",l),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Patent Title"}),e.jsx("input",{type:"text",value:c.title,onChange:u=>s("patents",l,"title",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Automated Test Case Generation System"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Patent Number"}),e.jsx("input",{type:"text",value:c.patentNumber,onChange:u=>s("patents",l,"patentNumber",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"US10,123,456"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),e.jsx("input",{type:"text",value:c.status,onChange:u=>s("patents",l,"status",u.target.value),list:`statuses-${l}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter or select status..."}),e.jsxs("datalist",{id:`statuses-${l}`,children:[e.jsx("option",{value:"Pending"}),e.jsx("option",{value:"Granted"}),e.jsx("option",{value:"Published"}),e.jsx("option",{value:"Filed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date"}),e.jsx("input",{type:"date",value:c.date,onChange:u=>s("patents",l,"date",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:c.description,onChange:u=>s("patents",l,"description",u.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"AI-powered system for generating comprehensive test cases from user stories and requirements"})]})]})]},l)),e.jsxs("button",{onClick:()=>n("patents",{title:"",patentNumber:"",status:"Pending",date:"",description:""}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Patent"]})]}),dv=({formData:o,updateItem:s,addItem:n,removeItem:i})=>e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Languages"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"List your language proficiencies for global opportunities."}),o.languages.map((c,l)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5"}),"Language ",l+1]}),o.languages.length>1&&e.jsx("button",{onClick:()=>i("languages",l),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Language"}),e.jsx("input",{type:"text",value:c.language,onChange:u=>s("languages",l,"language",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Spanish"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Proficiency Level"}),e.jsx("input",{type:"text",value:c.proficiency,onChange:u=>s("languages",l,"proficiency",u.target.value),list:`proficiency-${l}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter or select proficiency..."}),e.jsxs("datalist",{id:`proficiency-${l}`,children:[e.jsx("option",{value:"Native"}),e.jsx("option",{value:"Fluent"}),e.jsx("option",{value:"Professional"}),e.jsx("option",{value:"Conversational"}),e.jsx("option",{value:"Basic"})]})]})]})]},l)),e.jsxs("button",{onClick:()=>n("languages",{language:"",proficiency:"Professional"}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Language"]})]}),uv=({formData:o,updateItem:s,addItem:n,removeItem:i})=>e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Volunteer Work"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your community involvement and volunteer contributions."}),o.volunteer.map((c,l)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(Bs,{className:"w-5 h-5"}),"Volunteer Experience ",l+1]}),o.volunteer.length>1&&e.jsx("button",{onClick:()=>i("volunteer",l),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization"}),e.jsx("input",{type:"text",value:c.organization,onChange:u=>s("volunteer",l,"organization",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Code for Good"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role"}),e.jsx("input",{type:"text",value:c.role,onChange:u=>s("volunteer",l,"role",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"QA Volunteer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Duration"}),e.jsx("input",{type:"text",value:c.duration,onChange:u=>s("volunteer",l,"duration",u.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"2021 - Present"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:c.description,onChange:u=>s("volunteer",l,"description",u.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Provide testing expertise for non-profit technology projects, helping organizations improve their software quality"})]})]})]},l)),e.jsxs("button",{onClick:()=>n("volunteer",{organization:"",role:"",duration:"",description:""}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Volunteer Experience"]})]}),jf={modernMinimal:{name:"Modern Minimalist",category:"Minimalist",level:"All Levels",colors:{primary:"#000000",secondary:"#333333",accent:"#666666"},layout:"single-column"},cleanWhite:{name:"Clean White Space",category:"Minimalist",level:"All Levels",colors:{primary:"#1a1a1a",secondary:"#404040",accent:"#737373"},layout:"single-column"},techPro:{name:"Tech Professional",category:"Technical",level:"Mid-Senior",colors:{primary:"#2c3e50",secondary:"#34495e",accent:"#7f8c8d"},layout:"single-column"},qaSpecialist:{name:"QA Specialist",category:"Technical",level:"All Levels",colors:{primary:"#1e3a8a",secondary:"#3b82f6",accent:"#93c5fd"},layout:"single-column"},twoColumnModern:{name:"Two-Column Modern",category:"Two-Column",level:"All Levels",colors:{primary:"#000000",secondary:"#333333",accent:"#666666"},layout:"two-column"},skillsSidebar:{name:"Skills Sidebar",category:"Two-Column",level:"Mid-Senior",colors:{primary:"#1f2937",secondary:"#374151",accent:"#6b7280"},layout:"two-column"},timelineExp:{name:"Timeline Experience",category:"Timeline",level:"Mid-Senior",colors:{primary:"#000000",secondary:"#333333",accent:"#666666"},layout:"timeline"},projectFlow:{name:"QA Project Flow",category:"Timeline",level:"Senior",colors:{primary:"#1a1a1a",secondary:"#404040",accent:"#737373"},layout:"timeline"},boldAccent:{name:"Bold Accent",category:"Accent",level:"All Levels",colors:{primary:"#000000",secondary:"#1f2937",accent:"#3b82f6"},layout:"single-column"},skillsHighlight:{name:"Skills Highlight",category:"Accent",level:"Mid-Senior",colors:{primary:"#1a1a1a",secondary:"#2d3748",accent:"#4299e1"},layout:"single-column"},automationPro:{name:"Automation Professional",category:"Automation",level:"Mid-Senior",colors:{primary:"#000000",secondary:"#333333",accent:"#059669"},layout:"single-column"},sdetFocus:{name:"SDET Focused",category:"Automation",level:"Senior",colors:{primary:"#1f2937",secondary:"#374151",accent:"#10b981"},layout:"single-column"},frameworkExpert:{name:"Framework Expert",category:"Automation",level:"Senior",colors:{primary:"#000000",secondary:"#2d3748",accent:"#38a169"},layout:"single-column"},executiveQA:{name:"Executive QA",category:"Executive",level:"Senior-Lead",colors:{primary:"#000000",secondary:"#1a1a1a",accent:"#4a4a4a"},layout:"executive"},qaManager:{name:"QA Manager",category:"Executive",level:"Lead-Manager",colors:{primary:"#1f2937",secondary:"#374151",accent:"#6b7280"},layout:"executive"},qualityDirector:{name:"Quality Director",category:"Executive",level:"Director",colors:{primary:"#000000",secondary:"#2d2d2d",accent:"#595959"},layout:"executive"},creativeATS:{name:"Creative ATS-Safe",category:"Creative",level:"All Levels",colors:{primary:"#2d3748",secondary:"#4a5568",accent:"#718096"},layout:"creative"},modernCreative:{name:"Modern Creative",category:"Creative",level:"Mid-Senior",colors:{primary:"#1a202c",secondary:"#2d3748",accent:"#4a5568"},layout:"creative"},globalUS:{name:"Global US Format",category:"Global",level:"All Levels",colors:{primary:"#000000",secondary:"#333333",accent:"#666666"},layout:"us-format"},globalEU:{name:"Global EU Format",category:"Global",level:"All Levels",colors:{primary:"#1a1a1a",secondary:"#404040",accent:"#737373"},layout:"eu-format"},globalIndia:{name:"Global India Format",category:"Global",level:"All Levels",colors:{primary:"#000000",secondary:"#2d2d2d",accent:"#595959"},layout:"india-format"},freshGrad:{name:"Fresh Graduate QA",category:"Entry-Level",level:"Fresher",colors:{primary:"#1f2937",secondary:"#374151",accent:"#6b7280"},layout:"entry-level"},juniorTester:{name:"Junior Tester",category:"Entry-Level",level:"Junior",colors:{primary:"#000000",secondary:"#333333",accent:"#4299e1"},layout:"entry-level"},performanceTester:{name:"Performance Tester",category:"Specialized",level:"Mid-Senior",colors:{primary:"#000000",secondary:"#2d3748",accent:"#ed8936"},layout:"specialized"},securityTester:{name:"Security Tester",category:"Specialized",level:"Senior",colors:{primary:"#1a202c",secondary:"#2d3748",accent:"#e53e3e"},layout:"specialized"},mobileTester:{name:"Mobile QA Tester",category:"Specialized",level:"Mid-Senior",colors:{primary:"#000000",secondary:"#333333",accent:"#805ad5"},layout:"specialized"},atsOptimized:{name:"ATS Optimized",category:"ATS",level:"All Levels",colors:{primary:"#000000",secondary:"#333333",accent:"#666666"},layout:"ats-optimized"},aiScannerFriendly:{name:"AI Scanner Friendly",category:"ATS",level:"All Levels",colors:{primary:"#1a1a1a",secondary:"#404040",accent:"#737373"},layout:"ats-optimized"}},hv=o=>{const{layout:s,colors:n}=o,i=`
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
      line-height: 1.6; 
      color: #333; 
      max-width: 8.5in;
      margin: 0 auto;
      padding: 0.5in;
      background: white;
    }
    .header { 
      text-align: center; 
      margin-bottom: 30px; 
      padding-bottom: 20px;
    }
    .name { 
      font-size: 28px; 
      font-weight: 700; 
      color: ${n.primary}; 
      margin-bottom: 8px;
      letter-spacing: -0.5px;
    }
    .title { 
      font-size: 18px; 
      color: ${n.secondary}; 
      margin-bottom: 10px;
      font-weight: 500;
    }
    .contact { 
      font-size: 12px; 
      color: #666; 
      line-height: 1.4;
    }
    .section { 
      margin-bottom: 25px; 
    }
    .section-title { 
      font-size: 16px; 
      font-weight: 700; 
      color: ${n.primary}; 
      text-transform: uppercase; 
      padding-bottom: 5px;
      margin-bottom: 15px;
      letter-spacing: 0.5px;
    }
    .content { 
      font-size: 12px; 
      line-height: 1.5;
    }
    .experience-item, .project-item, .education-item { 
      margin-bottom: 15px; 
    }
    .item-header { 
      font-weight: 600; 
      color: ${n.primary};
      margin-bottom: 6px;
      font-size: 13px;
    }
    .item-details { 
      font-style: italic; 
      color: #666; 
      margin-bottom: 5px;
      font-size: 11px;
    }
    .achievements { 
      margin-left: 15px; 
    }
    .achievement { 
      margin-bottom: 3px;
      font-size: 11px;
    }
    .skills-grid { 
      display: grid; 
      grid-template-columns: 1fr 1fr; 
      gap: 10px;
    }
    .skill-category { 
      margin-bottom: 10px;
    }
    .skill-category-title { 
      font-weight: 600; 
      color: ${n.primary};
      margin-bottom: 6px;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }
    .competencies { 
      display: flex; 
      flex-wrap: wrap; 
      gap: 8px;
    }
    .competency { 
      background: #f8f8f8; 
      padding: 4px 8px; 
      border-radius: 3px; 
      font-size: 11px;
      border: 1px solid #e0e0e0;
      color: ${n.primary};
      font-weight: 400;
    }
    @media print {
      body { margin: 0; padding: 0.3in; }
      .section { page-break-inside: avoid; }
    }
  `;switch(s){case"two-column":return i+`
        .resume-container { display: grid; grid-template-columns: 1fr 2fr; gap: 30px; }
        .sidebar { background: #f9f9f9; padding: 20px; border-radius: 5px; }
        .main-content { padding-left: 20px; }
        .section-title { border-bottom: 2px solid ${n.accent}; }
      `;case"timeline":return i+`
        .experience-item { position: relative; padding-left: 20px; border-left: 2px solid ${n.accent}; }
        .experience-item::before { content: ''; position: absolute; left: -6px; top: 5px; width: 10px; height: 10px; background: ${n.primary}; border-radius: 50%; }
        .section-title { border-bottom: 3px solid ${n.primary}; }
      `;case"executive":return i+`
        .header { border-bottom: 3px solid ${n.primary}; }
        .section-title { font-size: 18px; border-bottom: 2px solid ${n.primary}; }
        .name { font-size: 32px; }
        .title { font-size: 20px; }
      `;case"creative":return i+`
        .header { background: linear-gradient(135deg, #f8f9fa, #e9ecef); padding: 25px; border-radius: 8px; }
        .section-title { position: relative; }
        .section-title::after { content: ''; position: absolute; bottom: -2px; left: 0; width: 40px; height: 2px; background: ${n.accent}; }
      `;default:return i+`
        .header { border-bottom: 1px solid ${n.primary}; }
        .section-title { border-bottom: 1px solid ${n.accent}; }
      `}},cd=(o,s="modernMinimal",n={})=>{const i=jf[s];return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>${o.personal.name||"Resume"} - QA Resume</title>
      <style>
        ${hv(i)}
      </style>
    </head>
    <body>
      <div class="header">
        <div class="name">${o.personal.name||"Your Name"}</div>
        <div class="title">${o.personal.jobTitle||"QA Engineer"}</div>
        <div class="contact">
          ${[o.personal.email,o.personal.phone,o.personal.location,o.personal.linkedin,o.personal.github,o.personal.portfolio].filter(Boolean).join(" | ")}
        </div>
      </div>

      ${o.summary?`
        <div class="section">
          <div class="section-title">Professional Summary</div>
          <div class="content">${o.summary}</div>
        </div>
      `:""}

      ${o.coreCompetencies&&o.coreCompetencies.length>0?`
        <div class="section">
          <div class="section-title">Core Competencies</div>
          <div class="competencies">
            ${o.coreCompetencies.map(l=>`<span class="competency">${l}</span>`).join("")}
          </div>
        </div>
      `:""}

      ${o.technicalSkills?`
        <div class="section">
          <div class="section-title">Technical Skills</div>
          <div class="skills-grid">
            ${Object.entries(o.technicalSkills).map(([l,u])=>!u||u.length===0?"":`
                <div class="skill-category">
                  <div class="skill-category-title">${l==="testing"?"Testing Methodologies":l==="automation"?"Automation Frameworks":l==="programming"?"Programming Languages":l==="databases"?"Database Technologies":"Tools & Platforms"}</div>
                  <div>${u.join(", ")}</div>
                </div>
              `).join("")}
          </div>
        </div>
      `:""}

      ${o.experience&&o.experience.length>0?`
        <div class="section">
          <div class="section-title">Professional Experience</div>
          ${o.experience.map(l=>`
            <div class="experience-item">
              <div class="item-header">${l.role} - ${l.company}</div>
              <div class="item-details">${l.duration}${l.location?` | ${l.location}`:""}</div>
              ${l.achievements&&l.achievements.filter(Boolean).length>0?`
                <div class="achievements">
                  ${l.achievements.filter(Boolean).map(u=>`<div class="achievement"> ${u}</div>`).join("")}
                </div>
              `:""}
            </div>
          `).join("")}
        </div>
      `:""}

      ${o.projects&&o.projects.length>0?`
        <div class="section">
          <div class="section-title">Key Projects</div>
          ${o.projects.map(l=>`
            <div class="project-item">
              <div class="item-header">${l.title}</div>
              ${l.technologies?`<div class="item-details">Technologies: ${l.technologies}</div>`:""}
              ${l.description?`<div>${l.description}</div>`:""}
              ${l.impact?`<div><strong>Impact:</strong> ${l.impact}</div>`:""}
            </div>
          `).join("")}
        </div>
      `:""}

      ${n.publications&&o.publications&&o.publications.length>0?`
        <div class="section">
          <div class="section-title">Publications & Talks</div>
          ${o.publications.map(l=>`
            <div class="project-item">
              <div class="item-header">"${l.title}"</div>
              <div class="item-details">${l.publication}${l.date?` | ${l.date}`:""} | ${l.type}</div>
              ${l.url?`<div><a href="${l.url}">${l.url}</a></div>`:""}
            </div>
          `).join("")}
        </div>
      `:""}

      ${n.openSource&&o.openSource&&o.openSource.length>0?`
        <div class="section">
          <div class="section-title">Open Source Contributions</div>
          ${o.openSource.map(l=>`
            <div class="project-item">
              <div class="item-header">${l.project}${l.role?` (${l.role})`:""}</div>
              ${l.description?`<div>${l.description}</div>`:""}
              ${l.technologies?`<div><strong>Technologies:</strong> ${l.technologies}</div>`:""}
              ${l.stars?`<div><strong>Stars:</strong> ${l.stars}</div>`:""}
              ${l.url?`<div><a href="${l.url}">${l.url}</a></div>`:""}
            </div>
          `).join("")}
        </div>
      `:""}

      ${n.memberships&&o.memberships&&o.memberships.length>0?`
        <div class="section">
          <div class="section-title">Professional Memberships</div>
          ${o.memberships.map(l=>`
            <div class="project-item">
              <div class="item-header">${l.organization}</div>
              <div class="item-details">${l.role}${l.since?` | Member since ${l.since}`:""}${l.level?` | ${l.level} Level`:""}</div>
            </div>
          `).join("")}
        </div>
      `:""}

      ${n.portfolio&&o.portfolio&&o.portfolio.length>0?`
        <div class="section">
          <div class="section-title">Portfolio & Case Studies</div>
          ${o.portfolio.map(l=>`
            <div class="project-item">
              <div class="item-header">${l.title} (${l.type})</div>
              ${l.description?`<div>${l.description}</div>`:""}
              ${l.technologies?`<div><strong>Technologies:</strong> ${l.technologies}</div>`:""}
              ${l.url?`<div><a href="${l.url}">${l.url}</a></div>`:""}
            </div>
          `).join("")}
        </div>
      `:""}

      ${n.patents&&o.patents&&o.patents.length>0?`
        <div class="section">
          <div class="section-title">Patents & Innovations</div>
          ${o.patents.map(l=>`
            <div class="project-item">
              <div class="item-header">"${l.title}"</div>
              <div class="item-details">${l.patentNumber?`${l.patentNumber} | `:""}${l.status}${l.date?` | ${l.date}`:""}</div>
              ${l.description?`<div>${l.description}</div>`:""}
            </div>
          `).join("")}
        </div>
      `:""}

      ${n.achievements&&o.achievements&&o.achievements.length>0?`
        <div class="section">
          <div class="section-title">Awards & Recognition</div>
          ${o.achievements.map(l=>`
            <div class="project-item">
              <div class="item-header">${l.title}</div>
              <div class="item-details">${l.organization}${l.year?` | ${l.year}`:""}</div>
              ${l.description?`<div>${l.description}</div>`:""}
            </div>
          `).join("")}
        </div>
      `:""}

      ${o.certifications&&o.certifications.length>0?`
        <div class="section">
          <div class="section-title">Certifications</div>
          ${o.certifications.map(l=>`
            <div class="project-item">
              <div class="item-header">${l.name}</div>
              <div class="item-details">${l.organization}${l.year?` | ${l.year}`:""}${l.credentialId?` | ID: ${l.credentialId}`:""}</div>
            </div>
          `).join("")}
        </div>
      `:""}

      ${o.education&&o.education.length>0?`
        <div class="section">
          <div class="section-title">Education</div>
          ${o.education.map(l=>`
            <div class="education-item">
              <div class="item-header">${l.degree}</div>
              <div class="item-details">${l.university}${l.year?` | ${l.year}`:""}${l.gpa?` | GPA: ${l.gpa}`:""}</div>
            </div>
          `).join("")}
        </div>
      `:""}

      ${n.languages&&o.languages&&o.languages.length>0?`
        <div class="section">
          <div class="section-title">Languages</div>
          <div class="content">
            ${o.languages.map(l=>`${l.language}: ${l.proficiency}`).join(" | ")}
          </div>
        </div>
      `:""}

      ${n.volunteer&&o.volunteer&&o.volunteer.length>0?`
        <div class="section">
          <div class="section-title">Volunteer Experience</div>
          ${o.volunteer.map(l=>`
            <div class="project-item">
              <div class="item-header">${l.role} - ${l.organization}</div>
              <div class="item-details">${l.duration}</div>
              ${l.description?`<div>${l.description}</div>`:""}
            </div>
          `).join("")}
        </div>
      `:""}
    </body>
    </html>
  `},mv=(o,s="modern",n={})=>{const i=cd(o,s,n),c=window.open("","_blank");c.document.write(i),c.document.close()},fv=(o,s="modern",n={})=>{const i=cd(o,s,n),c=new Blob([i],{type:"text/html"}),l=URL.createObjectURL(c),u=document.createElement("a");u.href=l,u.download=`${o.personal.name||"Resume"}_QA_Resume.html`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(l)},gv=(o,s="modern",n={})=>{const i=cd(o,s,n),c=window.open("","_blank");c.document.write(i),c.document.close(),c.focus(),setTimeout(()=>{c.print()},250)},pv=({onBack:o,userEmail:s})=>{const[n,i]=N.useState(0),[c,l]=N.useState({achievements:!0,awards:!0,languages:!0,volunteer:!0,publications:!0,openSource:!0,memberships:!0,portfolio:!0,patents:!0}),[u,f]=N.useState({personal:{name:"",jobTitle:"QA Engineer",email:s||"",phone:"",location:"",linkedin:"",github:"",portfolio:""},summary:"",coreCompetencies:[],technicalSkills:{testing:[],automation:[],programming:[],databases:[]},tools:{testManagement:[],automation:[],cicd:[],monitoring:[]},experience:[{company:"",role:"",duration:"",location:"",achievements:[""]}],projects:[{title:"",description:"",technologies:"",impact:""}],achievements:[{title:"",organization:"",year:"",description:""}],certifications:[{name:"",organization:"",year:"",credentialId:""}],education:[{degree:"",university:"",year:"",gpa:""}],awards:[{title:"",organization:"",year:"",description:""}],languages:[{language:"",proficiency:"Professional"}],volunteer:[{organization:"",role:"",duration:"",description:""}],publications:[{title:"",publication:"",date:"",url:"",type:"Article"}],openSource:[{project:"",description:"",role:"",technologies:"",url:"",stars:""}],memberships:[{organization:"",role:"",since:"",level:""}],portfolio:[{title:"",description:"",url:"",type:"Case Study",technologies:""}],patents:[{title:"",patentNumber:"",status:"Pending",date:"",description:""}]}),g=[{id:"personal",title:"Personal Info",icon:hs},{id:"summary",title:"Professional Summary",icon:$a},{id:"competencies",title:"Core Competencies",icon:So},{id:"skills",title:"Technical Skills",icon:Wm},{id:"tools",title:"Tools & Technologies",icon:Gh},{id:"experience",title:"Work Experience",icon:qm},{id:"projects",title:"Projects",icon:Gh},{id:"achievements",title:"Achievements & Impact",icon:In},{id:"certifications",title:"Certifications",icon:bt},{id:"education",title:"Education",icon:Pp},{id:"awards",title:"Awards & Recognition",icon:In},{id:"languages",title:"Languages",icon:lt},{id:"volunteer",title:"Volunteer Work",icon:Bs},{id:"publications",title:"Publications & Talks",icon:Xc},{id:"opensource",title:"Open Source Contributions",icon:Gm},{id:"memberships",title:"Professional Memberships",icon:sd},{id:"portfolio",title:"Portfolio & Case Studies",icon:za},{id:"patents",title:"Patents & Innovations",icon:Jm},{id:"review",title:"Download Resume",icon:ls}],p={testing:["Manual Testing","Functional Testing","Regression Testing","API Testing","Performance Testing","Security Testing","Usability Testing","Accessibility Testing"],automation:["Selenium WebDriver","Playwright","Cypress","TestComplete","Appium","Robot Framework","Katalon Studio","Puppeteer"],programming:["Java","Python","JavaScript","C#","TypeScript","SQL","Bash/Shell","PowerShell"],databases:["MySQL","PostgreSQL","MongoDB","Oracle","SQL Server","Redis","Cassandra","DynamoDB"]},y={testManagement:["JIRA","TestRail","Zephyr","qTest","PractiTest","TestLink","Azure Test Plans"],automation:["Jenkins","GitLab CI","GitHub Actions","Azure DevOps","TeamCity","Bamboo","CircleCI"],cicd:["Docker","Kubernetes","AWS","Azure","GCP","Terraform","Ansible"],monitoring:["Grafana","Prometheus","New Relic","Datadog","Splunk","ELK Stack"]},v=["Test Strategy & Planning","Quality Assurance Leadership","Cross-functional Collaboration","Process Improvement","Risk Assessment","Agile/Scrum Methodologies","DevOps Integration","Test Automation Strategy","Performance Optimization","Security Testing","Mobile Testing","API Testing","Database Testing","CI/CD Pipeline Testing","Defect Management"],w=(ee,B)=>{f(j=>({...j,technicalSkills:{...j.technicalSkills,[ee]:j.technicalSkills[ee].includes(B)?j.technicalSkills[ee].filter(_=>_!==B):[...j.technicalSkills[ee],B]}}))},k=(ee,B)=>{f(j=>({...j,tools:{...j.tools,[ee]:j.tools[ee].includes(B)?j.tools[ee].filter(_=>_!==B):[...j.tools[ee],B]}}))},E=ee=>{f(B=>({...B,coreCompetencies:B.coreCompetencies.includes(ee)?B.coreCompetencies.filter(j=>j!==ee):[...B.coreCompetencies,ee]}))},I=(ee,B)=>{f(j=>({...j,[ee]:[...j[ee],B]}))},L=(ee,B)=>{f(j=>({...j,[ee]:j[ee].filter((_,A)=>A!==B)}))},M=(ee,B,j,_)=>{f(A=>({...A,[ee]:A[ee].map((z,S)=>S===B?{...z,[j]:_}:z)}))},U=ee=>{f(B=>({...B,experience:B.experience.map((j,_)=>_===ee?{...j,achievements:[...j.achievements,""]}:j)}))},R=(ee,B,j)=>{f(_=>({..._,experience:_.experience.map((A,z)=>z===ee?{...A,achievements:A.achievements.map((S,$)=>$===B?j:S)}:A)}))},D=()=>g,[te,re]=N.useState("modernMinimal"),[ae,be]=N.useState(0),[V,le]=N.useState({keywords:0,sections:0,format:0,suggestions:[]});N.useEffect(()=>{(()=>{let B=0,j=0,_=0,A=0,z=[];const S=[...u.coreCompetencies,...Object.values(u.technicalSkills).flat(),...Object.values(u.tools).flat()].filter(xe=>xe&&xe.trim().length>0);j=Math.min(S.length*1.5,40),j<15&&z.push("Add more technical skills and tools (aim for 25+ keywords)"),j<25&&z.push("Include more QA-specific keywords for better ATS matching");const se=[u.personal.name?.trim()&&u.personal.email?.trim(),u.summary?.trim()&&u.summary.length>50,u.experience.length>0&&u.experience[0].company?.trim(),u.experience.length>0&&u.experience[0].achievements?.some(xe=>xe?.trim()),u.certifications.length>0&&u.certifications[0].name?.trim(),u.education.length>0&&u.education[0].degree?.trim(),u.projects.length>0&&u.projects[0].title?.trim(),S.length>10].filter(Boolean).length;_=Math.min(se*4.5,35),se<6&&z.push("Complete more core resume sections"),u.summary?.trim()||z.push("Add a professional summary"),u.experience.length===0&&z.push("Add work experience"),u.experience[0]?.achievements?.some(xe=>xe?.trim())||z.push("Add quantifiable achievements to work experience"),A=15,u.personal.linkedin?.trim()?A+=3:z.push("Add LinkedIn profile URL"),u.personal.github?.trim()?A+=3:z.push("Add GitHub profile for technical credibility"),u.personal.phone?.trim()?A+=2:z.push("Add phone number"),u.personal.location?.trim()?A+=2:z.push("Add location/city"),u.certifications.length>0&&u.certifications[0].name?.trim()&&(A+=2),u.projects.length>0&&u.projects[0].title?.trim()&&(A+=2),B=Math.min(j+_+A,100),be(B),le({keywords:Math.round(j),sections:Math.round(_),format:Math.round(A),suggestions:z})})()},[u]);const we=()=>{try{fv(u,te,c),H.success(" Your professional QA resume has been downloaded!")}catch{H.error("Failed to download resume. Please try again.")}},ke=()=>{try{mv(u,te,c),H.success("Opening resume preview...")}catch{H.error("Failed to preview resume. Please try again.")}},oe=()=>{try{gv(u,te,c),H.success("Opening print dialog...")}catch{H.error("Failed to print resume. Please try again.")}},de=()=>{const B=D()[n];if(!B)return null;switch(B.id){case"personal":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),e.jsx("input",{type:"text",value:u.personal.name,onChange:j=>f(_=>({..._,personal:{..._.personal,name:j.target.value}})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Job Title *"}),e.jsx("input",{type:"text",value:u.personal.jobTitle,onChange:j=>f(_=>({..._,personal:{..._.personal,jobTitle:j.target.value}})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Senior QA Engineer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:u.personal.email,onChange:j=>f(_=>({..._,personal:{..._.personal,email:j.target.value}})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"john.doe@email.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:u.personal.phone,onChange:j=>f(_=>({..._,personal:{..._.personal,phone:j.target.value}})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"+1 (555) 123-4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:u.personal.location,onChange:j=>f(_=>({..._,personal:{..._.personal,location:j.target.value}})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"San Francisco, CA"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"LinkedIn"}),e.jsx("input",{type:"url",value:u.personal.linkedin,onChange:j=>f(_=>({..._,personal:{..._.personal,linkedin:j.target.value}})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://linkedin.com/in/johndoe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GitHub"}),e.jsx("input",{type:"url",value:u.personal.github,onChange:j=>f(_=>({..._,personal:{..._.personal,github:j.target.value}})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://github.com/johndoe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Portfolio Website"}),e.jsx("input",{type:"url",value:u.personal.portfolio,onChange:j=>f(_=>({..._,personal:{..._.personal,portfolio:j.target.value}})),className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"https://johndoe.dev"})]})]})]});case"summary":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Professional Summary"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Career Summary"}),e.jsx("textarea",{value:u.summary,onChange:j=>f(_=>({..._,summary:j.target.value})),rows:"6",className:"w-full px-4 py-3 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Results-driven QA Engineer with 5+ years of experience in manual and automated testing across web, mobile, and API platforms. Proven track record of implementing comprehensive testing strategies that reduced production bugs by 85% and improved release velocity by 40%."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Tip: Include years of experience, key achievements, and quantifiable results"})]})]});case"competencies":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Core Competencies"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Select your key professional competencies that make you stand out as a QA professional."}),e.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Add Custom Competency"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:"Enter your custom competency...",className:"flex-1 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500",onKeyPress:j=>{if(j.key==="Enter"&&j.target.value.trim()){const _=j.target.value.trim();u.coreCompetencies.includes(_)||E(_),j.target.value=""}}}),e.jsx("button",{onClick:j=>{const _=j.target.previousElementSibling;if(_.value.trim()){const A=_.value.trim();u.coreCompetencies.includes(A)||E(A),_.value=""}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:e.jsx(Ke,{className:"w-4 h-4"})})]})]}),u.coreCompetencies.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Selected Competencies"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.coreCompetencies.map(j=>e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[j,e.jsx("button",{onClick:()=>E(j),className:"text-blue-600 hover:text-blue-800",children:e.jsx(Re,{className:"w-3 h-3"})})]},j))})]}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Common QA Competencies"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:v.map(j=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 rounded-lg hover:bg-blue-50 border border-gray-200",children:[e.jsx("input",{type:"checkbox",checked:u.coreCompetencies.includes(j),onChange:()=>E(j),className:"w-5 h-5 rounded border-2 border-blue-300 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:j})]},j))})]});case"skills":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Technical Skills"}),Object.entries(p).map(([j,_])=>{const A=j==="testing"?"Testing Methodologies":j==="automation"?"Automation Frameworks":j==="programming"?"Programming Languages":"Database Technologies";return e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:A}),e.jsx("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:`Add custom ${A.toLowerCase()}...`,className:"flex-1 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500",onKeyPress:z=>{if(z.key==="Enter"&&z.target.value.trim()){const S=z.target.value.trim();u.technicalSkills[j].includes(S)||w(j,S),z.target.value=""}}}),e.jsx("button",{onClick:z=>{const S=z.target.previousElementSibling;if(S.value.trim()){const $=S.value.trim();u.technicalSkills[j].includes($)||w(j,$),S.value=""}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:e.jsx(Ke,{className:"w-4 h-4"})})]})}),u.technicalSkills[j].length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Selected Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.technicalSkills[j].map(z=>e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[z,e.jsx("button",{onClick:()=>w(j,z),className:"text-blue-600 hover:text-blue-800",children:e.jsx(Re,{className:"w-3 h-3"})})]},z))})]}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Common Options"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:_.map(z=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 rounded-lg hover:bg-blue-50 border border-gray-200",children:[e.jsx("input",{type:"checkbox",checked:u.technicalSkills[j].includes(z),onChange:()=>w(j,z),className:"w-5 h-5 rounded border-2 border-blue-300 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:z})]},z))})]},j)})]});case"tools":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Tools & Technologies"}),Object.entries(y).map(([j,_])=>{const A=j==="testManagement"?"Test Management Tools":j==="automation"?"CI/CD & Automation":j==="cicd"?"Cloud & Infrastructure":"Monitoring & Analytics";return e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:A}),e.jsx("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",placeholder:`Add custom ${A.toLowerCase()}...`,className:"flex-1 px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500",onKeyPress:z=>{if(z.key==="Enter"&&z.target.value.trim()){const S=z.target.value.trim();u.tools[j].includes(S)||k(j,S),z.target.value=""}}}),e.jsx("button",{onClick:z=>{const S=z.target.previousElementSibling;if(S.value.trim()){const $=S.value.trim();u.tools[j].includes($)||k(j,$),S.value=""}},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:e.jsx(Ke,{className:"w-4 h-4"})})]})}),u.tools[j].length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Selected Tools"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.tools[j].map(z=>e.jsxs("span",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:[z,e.jsx("button",{onClick:()=>k(j,z),className:"text-blue-600 hover:text-blue-800",children:e.jsx(Re,{className:"w-3 h-3"})})]},z))})]}),e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Common Options"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:_.map(z=>e.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 rounded-lg hover:bg-blue-50 border border-gray-200",children:[e.jsx("input",{type:"checkbox",checked:u.tools[j].includes(z),onChange:()=>k(j,z),className:"w-5 h-5 rounded border-2 border-blue-300 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:z})]},z))})]},j)})]});case"experience":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Work Experience"}),u.experience.map((j,_)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["Experience ",_+1]}),u.experience.length>1&&e.jsx("button",{onClick:()=>L("experience",_),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Company"}),e.jsx("input",{type:"text",value:j.company,onChange:A=>M("experience",_,"company",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"TechCorp Inc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role"}),e.jsx("input",{type:"text",value:j.role,onChange:A=>M("experience",_,"role",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Senior QA Engineer"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Duration"}),e.jsx("input",{type:"text",value:j.duration,onChange:A=>M("experience",_,"duration",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"2020 - Present"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Location"}),e.jsx("input",{type:"text",value:j.location,onChange:A=>M("experience",_,"location",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"San Francisco, CA"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Key Achievements"}),j.achievements.map((A,z)=>e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("input",{type:"text",value:A,onChange:S=>R(_,z,S.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Led QA team of 5 engineers, implementing automated testing that reduced manual testing time by 60%"}),j.achievements.length>1&&e.jsx("button",{onClick:()=>{const S=j.achievements.filter(($,se)=>se!==z);M("experience",_,"achievements",S)},className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]},z)),e.jsx("button",{onClick:()=>U(_),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"+ Add Achievement"})]})]},_)),e.jsxs("button",{onClick:()=>I("experience",{company:"",role:"",duration:"",location:"",achievements:[""]}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Experience"]})]});case"awards":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Awards & Recognition"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Highlight your professional awards, recognitions, and honors."}),u.awards.map((j,_)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["Award ",_+1]}),u.awards.length>1&&e.jsx("button",{onClick:()=>L("awards",_),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Award Title"}),e.jsx("input",{type:"text",value:j.title,onChange:A=>M("awards",_,"title",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Employee of the Year"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization"}),e.jsx("input",{type:"text",value:j.organization,onChange:A=>M("awards",_,"organization",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"TechCorp Inc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year"}),e.jsx("input",{type:"text",value:j.year,onChange:A=>M("awards",_,"year",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"2023"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:j.description,onChange:A=>M("awards",_,"description",A.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Recognized for outstanding contribution to quality improvement initiatives"})]})]})]},_)),e.jsxs("button",{onClick:()=>I("awards",{title:"",organization:"",year:"",description:""}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Award"]})]});case"publications":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Publications & Talks"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your thought leadership and expertise through publications, blog posts, and speaking engagements."}),u.publications.map((j,_)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["Publication ",_+1]}),u.publications.length>1&&e.jsx("button",{onClick:()=>L("publications",_),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title"}),e.jsx("input",{type:"text",value:j.title,onChange:A=>M("publications",_,"title",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Modern API Testing Strategies"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Publication/Platform"}),e.jsx("input",{type:"text",value:j.publication,onChange:A=>M("publications",_,"publication",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Testing Magazine, Medium, Conference"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date"}),e.jsx("input",{type:"month",value:j.date,onChange:A=>M("publications",_,"date",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Type"}),e.jsx("input",{type:"text",value:j.type,onChange:A=>M("publications",_,"type",A.target.value),list:`pub-types-${_}`,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter or select type..."}),e.jsxs("datalist",{id:`pub-types-${_}`,children:[e.jsx("option",{value:"Article"}),e.jsx("option",{value:"Blog Post"}),e.jsx("option",{value:"Conference Talk"}),e.jsx("option",{value:"Webinar"}),e.jsx("option",{value:"Podcast"}),e.jsx("option",{value:"White Paper"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"URL"}),e.jsx("input",{type:"url",value:j.url,onChange:A=>M("publications",_,"url",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://example.com/article"})]})]})]},_)),e.jsxs("button",{onClick:()=>I("publications",{title:"",publication:"",date:"",url:"",type:"Article"}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Publication"]})]});case"opensource":return e.jsx(iv,{formData:u,updateItem:M,addItem:I,removeItem:L});case"memberships":return e.jsx(ov,{formData:u,updateItem:M,addItem:I,removeItem:L});case"portfolio":return e.jsx(lv,{formData:u,updateItem:M,addItem:I,removeItem:L});case"patents":return e.jsx(cv,{formData:u,updateItem:M,addItem:I,removeItem:L});case"languages":return e.jsx(dv,{formData:u,updateItem:M,addItem:I,removeItem:L});case"volunteer":return e.jsx(uv,{formData:u,updateItem:M,addItem:I,removeItem:L});case"projects":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Projects"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Showcase your key projects and their impact on quality and testing processes."}),u.projects.map((j,_)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["Project ",_+1]}),u.projects.length>1&&e.jsx("button",{onClick:()=>L("projects",_),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Project Title"}),e.jsx("input",{type:"text",value:j.title,onChange:A=>M("projects",_,"title",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"E-commerce Testing Framework"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Technologies"}),e.jsx("input",{type:"text",value:j.technologies,onChange:A=>M("projects",_,"technologies",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Selenium, Java, TestNG, Jenkins"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:j.description,onChange:A=>M("projects",_,"description",A.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Developed comprehensive testing framework for e-commerce platform with automated regression testing"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Impact & Results"}),e.jsx("textarea",{value:j.impact,onChange:A=>M("projects",_,"impact",A.target.value),rows:"2",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Reduced testing time by 70%, improved bug detection rate by 85%"})]})]})]},_)),e.jsxs("button",{onClick:()=>I("projects",{title:"",description:"",technologies:"",impact:""}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Project"]})]});case"review":return e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-600 to-blue-700 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(ls,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Your Enhanced QA Resume is Ready!"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Professional QA resume with advanced sections, optimized for ATS systems and designed to stand out in 2025."}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-8",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Choose Template"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(jf).map(([j,_])=>e.jsxs("button",{onClick:()=>re(j),className:`p-4 rounded-lg border-2 transition-all ${te===j?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"w-full h-16 rounded mb-2",style:{backgroundColor:_.colors.primary}}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.name})]},j))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-xl mb-8 border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"ATS Optimization Score"}),e.jsxs("div",{className:`text-2xl font-bold ${ae>=80?"text-green-600":ae>=60?"text-yellow-600":"text-red-600"}`,children:[ae,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-4",children:e.jsx("div",{className:`h-3 rounded-full transition-all duration-500 ${ae>=80?"bg-green-500":ae>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${ae}%`}})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Keywords"}),e.jsxs("div",{className:"text-blue-600",children:[V.keywords,"/40"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Sections"}),e.jsxs("div",{className:"text-blue-600",children:[V.sections,"/35"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Format"}),e.jsxs("div",{className:"text-blue-600",children:[V.format,"/25"]})]})]}),V.suggestions.length>0&&e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:" Suggestions to improve:"}),e.jsx("ul",{className:"text-sm text-gray-700 space-y-1",children:V.suggestions.map((j,_)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),j]},_))})]})]}),e.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl mb-8",children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-4",children:"Resume Includes:"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 text-sm text-blue-800",children:D().filter(j=>j.id!=="review").map(j=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bt,{className:"w-4 h-4 text-green-600"}),j.title]},j.id))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:ke,className:"flex items-center gap-2 bg-gray-200 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-300 transition-colors",children:[e.jsx(Vm,{className:"w-5 h-5"}),"Preview Resume"]}),e.jsxs("button",{onClick:oe,className:"flex items-center gap-2 bg-blue-100 text-blue-700 px-6 py-3 rounded-xl hover:bg-blue-200 transition-colors",children:[e.jsx(ls,{className:"w-5 h-5"}),"Print Resume"]}),e.jsxs("button",{onClick:we,className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-3 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all shadow-lg",children:[e.jsx(ls,{className:"w-5 h-5"}),"Download PDF"]})]})]});case"achievements":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Achievements & Impact"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Highlight your key professional achievements and measurable impact."}),u.achievements.map((j,_)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["Achievement ",_+1]}),u.achievements.length>1&&e.jsx("button",{onClick:()=>L("achievements",_),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Achievement Title"}),e.jsx("input",{type:"text",value:j.title,onChange:A=>M("achievements",_,"title",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Reduced Production Bugs by 85%"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization"}),e.jsx("input",{type:"text",value:j.organization,onChange:A=>M("achievements",_,"organization",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"TechCorp Inc."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year"}),e.jsx("input",{type:"text",value:j.year,onChange:A=>M("achievements",_,"year",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"2023"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:j.description,onChange:A=>M("achievements",_,"description",A.target.value),rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Implemented comprehensive testing strategy that reduced production bugs by 85% and improved customer satisfaction"})]})]})]},_)),e.jsxs("button",{onClick:()=>I("achievements",{title:"",organization:"",year:"",description:""}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Achievement"]})]});case"certifications":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Certifications"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"List your professional certifications and credentials."}),u.certifications.map((j,_)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["Certification ",_+1]}),u.certifications.length>1&&e.jsx("button",{onClick:()=>L("certifications",_),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Certification Name"}),e.jsx("input",{type:"text",value:j.name,onChange:A=>M("certifications",_,"name",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ISTQB Foundation Level"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Organization"}),e.jsx("input",{type:"text",value:j.organization,onChange:A=>M("certifications",_,"organization",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ISTQB"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year"}),e.jsx("input",{type:"text",value:j.year,onChange:A=>M("certifications",_,"year",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"2023"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Credential ID"}),e.jsx("input",{type:"text",value:j.credentialId,onChange:A=>M("certifications",_,"credentialId",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"ISTQB-FL-12345"})]})]})]},_)),e.jsxs("button",{onClick:()=>I("certifications",{name:"",organization:"",year:"",credentialId:""}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Certification"]})]});case"education":return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Education"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"List your educational background and qualifications."}),u.education.map((j,_)=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl mb-4 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900",children:["Education ",_+1]}),u.education.length>1&&e.jsx("button",{onClick:()=>L("education",_),className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Degree"}),e.jsx("input",{type:"text",value:j.degree,onChange:A=>M("education",_,"degree",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Bachelor of Computer Science"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"University/Institution"}),e.jsx("input",{type:"text",value:j.university,onChange:A=>M("education",_,"university",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Stanford University"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year"}),e.jsx("input",{type:"text",value:j.year,onChange:A=>M("education",_,"year",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"2020"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"GPA (optional)"}),e.jsx("input",{type:"text",value:j.gpa,onChange:A=>M("education",_,"gpa",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"3.8/4.0"})]})]})]},_)),e.jsxs("button",{onClick:()=>I("education",{degree:"",university:"",year:"",gpa:""}),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Add Education"]})]});default:return e.jsx("div",{children:"Section not implemented yet"})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[e.jsx("div",{className:"fixed top-20 left-4 sm:left-6 z-50",children:e.jsxs("button",{onClick:o,className:"group flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2 sm:py-2.5 bg-white/90 backdrop-blur-sm border border-gray-200/50 rounded-xl shadow-lg hover:shadow-xl hover:bg-white transition-all duration-200 hover:scale-105",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gray-100 group-hover:bg-gray-200 rounded-lg flex items-center justify-center transition-colors",children:e.jsx(rr,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-gray-600 group-hover:-translate-x-0.5 transition-transform duration-200"})}),e.jsx("span",{className:"font-medium text-sm sm:text-base text-gray-700 group-hover:text-gray-900 transition-colors",children:"Back"})]})}),e.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-between h-16",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200 group z-10",children:[e.jsx(rr,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform duration-200"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-700 rounded-lg flex items-center justify-center",children:e.jsx($n,{className:"w-5 h-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Enhanced QA Resume Builder"})]})]})})})}),e.jsx("div",{className:"bg-white border-b",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",n+1," of ",D().length]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round((n+1)/D().length*100),"% Complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 h-2 rounded-full transition-all duration-300",style:{width:`${(n+1)/D().length*100}%`}})})]})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 sticky top-8",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Resume Sections"}),e.jsx("div",{className:"space-y-2 overflow-y-auto pr-4 resume-sidebar-scroll",style:{maxHeight:"calc(100vh - 280px)"},children:D().map((ee,B)=>{const j=ee.icon,_=n===B,A=n>B;return e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all ${_?"bg-blue-600 text-white shadow-lg":A?"bg-blue-50 text-blue-700 hover:bg-blue-100":"text-gray-600 hover:bg-gray-100"}`,onClick:()=>i(B),children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${_?"bg-white/20":A?"bg-blue-100":"bg-gray-200"}`,children:e.jsx(j,{className:`w-4 h-4 ${_?"text-white":A?"text-blue-600":"text-gray-500"}`})}),e.jsx("div",{className:"flex-1",children:e.jsx("span",{className:"font-medium text-sm block",children:ee.title})}),A&&e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})]},ee.id)})})]})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-300px)] pr-4",children:de()}),e.jsxs("div",{className:"flex justify-between mt-6 pt-6 border-t border-gray-200",children:[e.jsxs("button",{onClick:()=>i(Math.max(0,n-1)),disabled:n===0,className:"flex items-center gap-2 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 disabled:opacity-50 transition-all",children:[e.jsx(rr,{className:"w-4 h-4"}),"Previous"]}),n<D().length-1?e.jsx("button",{onClick:()=>i(n+1),className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-6 py-3 rounded-xl font-semibold hover:from-blue-700 hover:to-blue-800 transition-all",children:"Next"}):null]})]})})]})})]})};class xv{constructor(){this.batchQueue=[],this.batchSize=10,this.flushInterval=15e3,this.isEnabled=!1,this.userCache=null,this.userCacheTime=0,this.sessionId=this.generateSessionId()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}async getCurrentUser(){if(!this.userCache||Date.now()-this.userCacheTime>3e5)try{const{data:{user:s}}=await G.auth.getUser();this.userCache=s,this.userCacheTime=Date.now()}catch{this.userCache=null}return this.userCache}async initializeSession(){await this.getCurrentUser()&&this.trackEvent("login","authentication",{login_method:"magic_link",is_new_session:!0})}async trackEvent(s,n,i={}){if(!this.isEnabled||!G)return;const c=`${s}_${n}`,l=Date.now();if(!(this.lastEventTime&&this.lastEventTime[c]&&l-this.lastEventTime[c]<1e4)){this.lastEventTime||(this.lastEventTime={}),this.lastEventTime[c]=l;try{const u=await this.getCurrentUser(),f={user_id:u?.id||null,email:u?.email||"anonymous",session_id:this.sessionId,event_type:s,event_category:n,properties:{...i,timestamp:new Date().toISOString()},device_info:{viewport:`${window.innerWidth}x${window.innerHeight}`,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone}};this.batchQueue.push(f),this.batchQueue.length>=this.batchSize&&await this.flush()}catch(u){console.warn("Analytics tracking failed:",u)}}}async trackAuthEvent(s,n=!0,i={}){if(G)try{const c=await this.getCurrentUser(),l={user_id:c?.id||null,email:c?.email||i.email||"unknown",event_type:s,success:n,failure_reason:i.failure_reason||null,ip_address:null,user_agent:navigator.userAgent,device_fingerprint:this.generateDeviceFingerprint(),location_country:null,location_city:null,risk_score:this.calculateRiskScore(i),...i};await G.from("auth_events").insert([l])}catch(c){console.warn("Auth event tracking failed:",c)}}async trackFeatureUsage(s,n,i=0,c=!1){if(G)try{const l=await this.getCurrentUser();if(!l)return;const{data:u}=await G.from("feature_usage").select("*").eq("user_id",l.id).eq("feature_name",s).single();u?await G.from("feature_usage").update({usage_count:u.usage_count+1,last_used:new Date().toISOString(),total_time_spent:u.total_time_spent+i,completion_rate:c?100:u.completion_rate}).eq("id",u.id):await G.from("feature_usage").insert([{user_id:l.id,feature_name:s,feature_category:n,usage_count:1,total_time_spent:i,completion_rate:c?100:0}])}catch(l){console.warn("Feature usage tracking failed:",l)}}generateDeviceFingerprint(){const s=document.createElement("canvas"),n=s.getContext("2d");return n.textBaseline="top",n.font="14px Arial",n.fillText("Device fingerprint",2,2),btoa(JSON.stringify({canvas:s.toDataURL(),screen:`${screen.width}x${screen.height}`,timezone:new Date().getTimezoneOffset(),language:navigator.language,platform:navigator.platform,plugins:Array.from(navigator.plugins).map(i=>i.name).join(",")})).substr(0,50)}calculateRiskScore(s){let n=0;return s.multiple_attempts&&(n+=30),s.unusual_location&&(n+=25),s.new_device&&(n+=15),s.vpn_detected&&(n+=20),s.rapid_requests&&(n+=35),Math.min(n,100)}async flush(){if(this.batchQueue.length===0)return;const s=[...this.batchQueue];this.batchQueue=[];try{if(!G)return;const{error:n}=await G.from("user_analytics").insert(s);n&&n.code!=="PGRST106"&&console.warn("Analytics batch failed:",n)}catch(n){console.warn("Analytics flush error:",n)}}startBatchProcessor(){setInterval(()=>{this.batchQueue.length>0&&this.flush()},this.flushInterval)}async updateUserCohort(s,n){if(G)try{await G.from("user_cohorts").update({...n,updated_at:new Date().toISOString()}).eq("user_id",s)}catch(i){console.warn("Cohort update failed:",i)}}}const qe=new xv,Bt={signup:(o,s="magic_link")=>qe.trackAuthEvent("signup",!0,{email:o,method:s}),loginAttempt:(o,s=!0,n=null)=>qe.trackAuthEvent("login_success",s,{email:o,failure_reason:n}),magicLinkSent:o=>qe.trackAuthEvent("magic_link_sent",!0,{email:o}),magicLinkClicked:o=>qe.trackAuthEvent("magic_link_clicked",!0,{email:o}),emailVerified:o=>qe.trackAuthEvent("email_verified",!0,{email:o}),logout:()=>qe.trackEvent("logout","authentication"),profileUpdate:o=>qe.trackEvent("profile_update","user_management",{changes:o}),subscriptionChange:(o,s)=>qe.trackEvent("subscription_change","conversion",{from:o,to:s}),resumeBuilder:{create:o=>qe.trackFeatureUsage("resume_create","resume_builder",0,!1),edit:(o,s)=>qe.trackFeatureUsage("resume_edit","resume_builder",s,!1),download:o=>{qe.trackFeatureUsage("resume_download","resume_builder",0,!0),qe.trackEvent("feature_usage","engagement",{feature:"resume_download",format:o})}},boards:{create:o=>qe.trackFeatureUsage("board_create","boards",0,!0),pin:o=>qe.trackFeatureUsage("board_pin","boards",0,!0),view:(o,s)=>qe.trackFeatureUsage("board_view","boards",s,!1)},community:{postCreate:o=>{qe.trackFeatureUsage("community_post","community",0,!0),qe.trackEvent("feature_usage","engagement",{feature:"community_post",category:o})},like:o=>qe.trackFeatureUsage("community_like","community",0,!0),comment:o=>qe.trackFeatureUsage("community_comment","community",0,!0)},events:{view:(o,s)=>qe.trackFeatureUsage("event_view","events",s,!1),register:o=>{qe.trackFeatureUsage("event_register","events",0,!0),qe.trackEvent("feature_usage","conversion",{feature:"event_register",event_id:o})}},pageView:(o,s=0)=>qe.trackEvent("feature_usage","engagement",{page:o,time_spent:s}),error:(o,s)=>qe.trackEvent("error","engagement",{error_type:o,message:s})};let Vc=Date.now(),Hc=window.location.pathname;window.addEventListener("beforeunload",()=>{const o=Math.round((Date.now()-Vc)/1e3);Bt.pageView(Hc,o)});const yv=history.pushState;history.pushState=function(...o){const s=Math.round((Date.now()-Vc)/1e3);Bt.pageView(Hc,s),yv.apply(history,o),Hc=window.location.pathname,Vc=Date.now()};const Nf=N.createContext({}),Po=()=>{try{const o=N.useContext(Nf);return o||(console.warn("useAuth called outside AuthProvider, returning default values"),{user:null,isVerified:!1,loading:!1,authStatus:null,signOut:()=>{}})}catch(o){return console.error("useAuth error:",o),{user:null,isVerified:!1,loading:!1,authStatus:null,signOut:()=>{}}}},vv=({children:o})=>{const[s,n]=N.useState(null),[i,c]=N.useState(!0),[l,u]=N.useState(null);N.useEffect(()=>{let k=!0;(async()=>{k&&await f()})();let I;const L=()=>{I||(I=setTimeout(()=>{k&&Rt.isAuthenticated()&&Rt.extendSession(),I=null},3e4))},M=["mousedown","keypress","scroll"];M.forEach(R=>{document.addEventListener(R,L,{passive:!0})});const U=setInterval(()=>{if(!k)return;const R=Rt.getAuthStatus();R.isAuthenticated!==l?.isAuthenticated&&(u(R),g(R))},6e5);return()=>{k=!1,M.forEach(R=>{document.removeEventListener(R,L)}),clearInterval(U),I&&clearTimeout(I)}},[]);const f=async()=>{try{const k=Rt.getAuthStatus();if(k.isAuthenticated){console.log(" Custom auth session found:",k.email),u(k),g(k);try{Bt.loginAttempt(k.email,!0)}catch(E){console.warn("Analytics tracking failed:",E)}c(!1);return}if(G){const{data:{user:E}}=await G.auth.getUser();if(E){console.log(" Supabase auth session found:",E.email),n(E),await p(E);try{Bt.loginAttempt(E.email,!0),E.email_confirmed_at&&Bt.emailVerified(E.email)}catch(I){console.warn("Analytics tracking failed:",I)}}}}catch(k){console.error("Auth initialization error:",k),n(null),u(null)}finally{c(!1)}},g=k=>{try{if(k.isAuthenticated&&k.email){const E={id:k.deviceId||"custom_auth_user",email:k.email,email_confirmed_at:k.isAuthenticated?new Date().toISOString():null,user_metadata:{name:k.email.split("@")[0]}};n(E)}else n(null)}catch(E){console.error("Error updating user state:",E),n(null)}},p=async k=>{try{if(!G)return;const{error:E}=await G.from("users").upsert({id:k.id,email:k.email,name:k.user_metadata?.name||k.email.split("@")[0],is_verified:!!k.email_confirmed_at,updated_at:new Date().toISOString()},{onConflict:"id"});E?console.warn("Error creating user profile:",E):console.log(" User profile created/updated:",k.email)}catch(E){console.warn("Error in createUserProfile:",E)}},y=async()=>{try{if(s?.email||l?.email)try{Bt.logout()}catch(k){console.warn("Analytics tracking failed:",k)}Rt.clearSession(),G&&await G.auth.signOut(),n(null),u(null),console.log(" User signed out successfully")}catch(k){console.error("Sign out error:",k)}},v=s?.email_confirmed_at!=null||l?.isAuthenticated,w={user:s,isVerified:v,loading:i,authStatus:l,signOut:y};return e.jsx(Nf.Provider,{value:w,children:o})},kf=({isOpen:o,onClose:s})=>{const[n,i]=N.useState("selection"),[c,l]=N.useState("user@example.com"),[u,f]=N.useState(!1),[g,p]=N.useState(null),[y,v]=N.useState("details"),[w,k]=N.useState(null),[E,I]=N.useState({name:"",phone:"",transactionId:""}),[L,M]=N.useState(!1),[U,R]=N.useState({}),[D,te]=N.useState(!1),{user:re,isVerified:ae,loading:be}=Po();N.useEffect(()=>{try{o&&le();const j=A=>{try{l(A.detail.userEmail),i("ai-builder")}catch(z){console.error("Navigate to AI error:",z)}},_=A=>{try{l(A.detail.userEmail),i("qa-builder")}catch(z){console.error("Navigate to QA error:",z)}};return window.addEventListener("navigate-to-ai-builder",j),window.addEventListener("navigate-to-qa-builder",_),()=>{window.removeEventListener("navigate-to-ai-builder",j),window.removeEventListener("navigate-to-qa-builder",_)}}catch(j){console.error("ResumeBuilderRouter useEffect error:",j),te(!0)}},[o]);const V=()=>{i("selection")},le=async()=>{try{if(!G){console.warn("Supabase not configured, using default payment config"),k({monthly_price:99,upi_id:"testingvala@paytm"});return}const{data:j}=await G.from("payment_config").select("*").eq("id",1).single();k(j||{monthly_price:99,upi_id:"testingvala@paytm"})}catch(j){console.error("Error loading payment config:",j),k({monthly_price:99,upi_id:"testingvala@paytm"})}},we=j=>{const _={};return E.name.trim()||(_.name="Name is required"),E.phone.trim()||(_.phone="Phone is required"),R(_),Object.keys(_).length===0},ke=async()=>{if(!E.transactionId.trim()){H.error("Please enter transaction ID");return}M(!0);try{if(!G){H.error("Database not configured. Please contact support.");return}const{error:j}=await G.from("payment_requests").insert({user_name:E.name,user_email:re?.email||c,email:re?.email||c,user_phone:E.phone,transaction_id:E.transactionId});if(j){H.error(`Error: ${j.message}`);return}H.success("Payment submitted successfully!"),v("success")}catch(j){console.error("Payment submission error:",j),H.error("Submission failed. Please try again.")}finally{M(!1)}},oe=()=>{i("selection"),f(!1),p(null),v("details"),I({name:"",phone:"",transactionId:""}),R({}),s()},de=()=>{i("selection"),v("details"),I({name:"",phone:"",transactionId:""}),R({})},ee=j=>{try{if(j==="ai-payment"){if(!re||!ae){p("ai-payment"),f(!0);return}l(re.email),i("ai-payment");return}if(!re||!ae){p(j),f(!0);return}l(re.email),i(j)}catch(_){console.error("Builder access error:",_),H.error("Failed to access resume builder. Please try again."),te(!0)}},B=()=>{try{f(!1),g&&re&&ae&&(l(re.email),i(g),p(null))}catch(j){console.error("Auth success handling error:",j),H.error("Authentication successful, but failed to proceed. Please try again."),te(!0)}};if(N.useEffect(()=>{try{re&&ae&&g&&(l(re.email),i(g),p(null),f(!1))}catch(j){console.error("Auth status check error:",j),te(!0)}},[re,ae,g]),D)return e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[10000] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Xe,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"We encountered an error loading the resume builder."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>te(!1),className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"Try Again"}),e.jsx("button",{onClick:s,className:"flex-1 bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Close"})]})]})});if(!o)return null;if(n==="ai-builder")return e.jsx("div",{className:"fixed inset-0 bg-white z-[10000]",children:e.jsx(av,{onBack:V,userEmail:c})});if(n==="ai-payment")return e.jsxs("div",{className:"fixed inset-0 bg-white z-[10000]",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:de,className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200 group",children:[e.jsx(rr,{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform duration-200"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(Us,{className:"w-5 h-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"AI Resume Builder"})]})]}),e.jsx("button",{onClick:oe,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Re,{className:"w-5 h-5 text-gray-500 hover:text-gray-700"})})]})})}),e.jsx("div",{className:"flex-1 bg-gradient-to-br from-purple-50 to-pink-50 overflow-y-auto",children:e.jsxs("div",{className:"max-w-lg mx-auto px-4 py-6",children:[e.jsx("div",{className:"flex items-center justify-center mb-6",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`flex items-center justify-center w-7 h-7 rounded-full text-xs font-medium ${y==="details"?"bg-purple-600 text-white":"bg-purple-100 text-purple-600"}`,children:"1"}),e.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),e.jsx("div",{className:`flex items-center justify-center w-7 h-7 rounded-full text-xs font-medium ${y==="payment"?"bg-purple-600 text-white":["payment","confirm","success"].includes(y)?"bg-purple-100 text-purple-600":"bg-gray-200 text-gray-500"}`,children:"2"}),e.jsx("div",{className:"w-12 h-0.5 bg-gray-300"}),e.jsx("div",{className:`flex items-center justify-center w-7 h-7 rounded-full text-xs font-medium ${["confirm","success"].includes(y)?"bg-purple-600 text-white":"bg-gray-200 text-gray-500"}`,children:"3"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[y==="details"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(hs,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Your Details"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"We need some basic information"})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(hs,{className:"w-4 h-4"}),"Full Name *"]}),e.jsx("input",{type:"text",value:E.name,onChange:j=>I({...E,name:j.target.value}),className:`w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:border-transparent transition-all ${U.name?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-purple-500"}`,placeholder:"Enter your full name"}),U.name&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-3 h-3"}),U.name]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Fa,{className:"w-4 h-4"}),"Email Address"]}),e.jsx("input",{type:"email",value:re?.email||c,disabled:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Xm,{className:"w-4 h-4"}),"Phone Number *"]}),e.jsx("input",{type:"tel",value:E.phone,onChange:j=>I({...E,phone:j.target.value}),className:`w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:border-transparent transition-all ${U.phone?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-purple-500"}`,placeholder:"Enter your phone number"}),U.phone&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-3 h-3"}),U.phone]})]})]}),e.jsxs("button",{onClick:()=>{we()&&v("payment")},className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-lg font-bold hover:from-purple-700 hover:to-pink-700 transition-all duration-300 shadow-lg flex items-center justify-center gap-2",children:["Continue to Payment",e.jsx(zm,{className:"w-4 h-4"})]})]}),y==="payment"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(Ac,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Complete Payment"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Secure payment via UPI"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-xl p-4 mb-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-900 mb-1",children:["",w?.monthly_price||99]}),e.jsx("div",{className:"text-purple-700 font-medium",children:"Monthly subscription"}),e.jsx("div",{className:"text-purple-600 text-xs mt-1",children:"Unlimited AI generations  Cancel anytime"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 mb-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-3 text-center",children:"Pay via UPI"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[e.jsx("span",{className:"font-mono bg-white px-3 py-2 rounded-lg border border-gray-200 shadow-sm text-sm",children:w?.upi_id||"testingvala@paytm"}),e.jsx("button",{onClick:()=>{navigator.clipboard.writeText(w?.upi_id||"testingvala@paytm"),H.success("UPI ID copied!")},className:"p-2 text-purple-600 hover:text-purple-800 hover:bg-purple-50 rounded-lg transition-all border border-purple-200",title:"Copy UPI ID",children:e.jsx(ed,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx("div",{className:"bg-white p-3 rounded-xl border border-gray-200 shadow-sm",children:e.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=upi://pay?pa=${w?.upi_id||"testingvala@paytm"}&pn=TestingVala&am=${w?.monthly_price||99}&cu=INR&tn=AI Resume Builder Premium`,alt:"UPI QR Code",className:"w-24 h-24"})})}),e.jsx("p",{className:"text-center text-gray-600 text-xs",children:"Scan QR code with any UPI app"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>v("details"),className:"flex-1 bg-gray-100 text-gray-700 py-2.5 rounded-lg font-medium hover:bg-gray-200 transition-all flex items-center justify-center gap-2",children:[e.jsx(rr,{className:"w-4 h-4"}),"Back"]}),e.jsxs("button",{onClick:()=>v("confirm"),className:"flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white py-2.5 rounded-lg font-medium hover:from-green-700 hover:to-green-800 transition-all flex items-center justify-center gap-2",children:[e.jsx(bt,{className:"w-4 h-4"}),"Payment Done"]})]})]}),y==="confirm"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:e.jsx(bt,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-1",children:"Confirm Payment"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Enter your transaction details"})]}),e.jsxs("div",{className:"space-y-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ac,{className:"w-4 h-4"}),"Transaction ID *"]}),e.jsx("input",{type:"text",value:E.transactionId,onChange:j=>I({...E,transactionId:j.target.value}),className:`w-full px-3 py-2.5 border rounded-lg focus:ring-2 focus:border-transparent transition-all ${U.transactionId?"border-red-300 focus:ring-red-500":"border-gray-300 focus:ring-green-500"}`,placeholder:"Enter UPI transaction ID"}),U.transactionId&&e.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-3 h-3"}),U.transactionId]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1 text-sm",children:"Verification Process:"}),e.jsx("p",{className:"text-xs",children:"Payment verified within 24 hours. You'll receive email confirmation once approved."})]})]})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>v("payment"),className:"flex-1 bg-gray-100 text-gray-700 py-2.5 rounded-lg font-medium hover:bg-gray-200 transition-all flex items-center justify-center gap-2",children:[e.jsx(rr,{className:"w-4 h-4"}),"Back"]}),e.jsx("button",{type:"button",onClick:ke,disabled:L,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2.5 rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 transition-all flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:L?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(zs,{className:"w-4 h-4"}),"Submit & Get Access"]})})]})]}),y==="success"&&e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:e.jsx(bt,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:" Payment Submitted!"}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Thank you! Your payment request has been submitted successfully."}),e.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"text-green-800",children:[e.jsxs("p",{className:"font-medium mb-3 flex items-center justify-center gap-2 text-sm",children:[e.jsx(qt,{className:"w-4 h-4"}),"What happens next?"]}),e.jsxs("div",{className:"space-y-2 text-left text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),e.jsx("span",{children:"Admin will verify payment within 24 hours"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),e.jsx("span",{children:"AI Resume Builder access will be activated"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full flex-shrink-0"}),e.jsx("span",{children:"You'll receive an email confirmation"})]})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-blue-800 text-xs",children:[e.jsx("strong",{children:"Transaction ID:"})," ",E.transactionId]})}),e.jsx("button",{onClick:de,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2.5 rounded-lg font-medium hover:from-purple-700 hover:to-pink-700 transition-all duration-300 shadow-lg",children:"Back to Resume Builders"})]})]})]})})]});if(n==="qa-builder")return e.jsx("div",{className:"fixed inset-0 bg-white z-[10000]",children:e.jsx(pv,{onBack:V,userEmail:c})});try{return e.jsxs("div",{className:"fixed inset-0 bg-white z-[10000]",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:oe,className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-all duration-200 group",children:[e.jsx("svg",{className:"w-5 h-5 group-hover:-translate-x-0.5 transition-transform duration-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsx("div",{className:"w-px h-6 bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(cs,{className:"w-5 h-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Resume Builder"})]})]}),e.jsx("button",{onClick:oe,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Re,{className:"w-5 h-5 text-gray-500 hover:text-gray-700"})})]})})}),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Choose Your Resume Builder"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Select the perfect tool to create your professional resume"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100 hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Us,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"AI Resume Builder"}),e.jsxs("p",{className:"text-purple-600 font-semibold",children:["AI-Powered  ",w?.monthly_price||99,"/month"]})]}),e.jsx("div",{className:"space-y-3 mb-8",children:["Paste job description  Get tailored resume","AI content generation","ATS optimization","Industry keywords","Unlimited generations"].map((j,_)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(bt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:j})]},_))}),e.jsxs("button",{onClick:()=>ee("ai-payment"),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-xl font-bold text-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-300 shadow-lg flex items-center justify-center gap-3 relative",children:[e.jsx(Us,{className:"w-6 h-6"}),"Try AI Builder"]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100 hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Ic,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"QA Resume Builder"}),e.jsx("p",{className:"text-blue-600 font-semibold",children:"QA Professionals  Free"})]}),e.jsx("div",{className:"space-y-3 mb-8",children:["Publications & Open Source sections","Professional Memberships (ISTQB, etc.)","Portfolio & Case Studies","Patents & Innovations","Advanced QA-specific templates"].map((j,_)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(bt,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:j})]},_))}),e.jsxs("button",{onClick:()=>ee("qa-builder"),className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-4 rounded-xl font-bold text-lg hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-lg flex items-center justify-center gap-3 relative",children:[e.jsx(Ic,{className:"w-6 h-6"}),"QA Resume Builder"]})]})]}),(!re||!ae)&&e.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-200 rounded-xl p-6 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx($n,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Email Verification Required"}),e.jsx("p",{className:"text-blue-700 mb-4",children:"To create and save your resume, please verify your email address. We'll send you a magic link for instant access."}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-blue-600",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:"Secure & Private"}),e.jsx("span",{children:""}),e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:"No Spam"}),e.jsx("span",{children:""}),e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:"Instant Access"})]})]})]})}),e.jsx(Eo,{isOpen:u,onClose:()=>{f(!1),p(null)},onSuccess:B,action:"resume"})]})}catch(j){return console.error("ResumeBuilderRouter render error:",j),te(!0),null}},Ua=({isOpen:o,onClose:s,onConfirm:n,title:i,message:c,confirmText:l="Confirm",cancelText:u="Cancel",type:f="warning",itemName:g="",itemDescription:p=""})=>{if(Ln(o),!o)return null;const y=()=>{switch(f){case"danger":return e.jsx(us,{className:"w-6 h-6 text-red-600"});case"info":return e.jsx(Xe,{className:"w-6 h-6 text-blue-600"});default:return e.jsx(wp,{className:"w-6 h-6 text-orange-600"})}},v=()=>{switch(f){case"danger":return"bg-red-100";case"info":return"bg-blue-100";default:return"bg-orange-100"}},w=()=>{switch(f){case"danger":return"bg-red-600 hover:bg-red-700 text-white";case"info":return"bg-blue-600 hover:bg-blue-700 text-white";default:return"bg-orange-600 hover:bg-orange-700 text-white"}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`w-12 h-12 ${v()} rounded-full flex items-center justify-center`,children:y()}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i}),e.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-gray-700 mb-3",children:c}),g&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:g}),p&&e.jsx("p",{className:"text-sm text-gray-600",children:p})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:u}),e.jsx("button",{onClick:n,className:`flex-1 px-4 py-2 rounded-lg transition-colors font-medium ${w()}`,children:l})]})]})})},bv=({userEmail:o,onCreateNew:s,onEditResume:n,isOpen:i,onClose:c})=>{const[l,u]=N.useState([]),[f,g]=N.useState(!0),[p,y]=N.useState(""),[v,w]=N.useState("all"),[k,E]=N.useState("updated_at"),[I,L]=N.useState(null),[M,U]=N.useState(!1),[R,D]=N.useState(!1),[te,re]=N.useState(!1),[ae,be]=N.useState(new Set),[V,le]=N.useState(!1),[we,ke]=N.useState(null);N.useEffect(()=>{oe(),de()},[o]);const oe=async()=>{try{g(!0);const Q=await ev(o);u(Q)}catch(Q){console.error("Error loading resumes:",Q),H.error("Failed to load resumes")}finally{g(!1)}},de=async()=>{try{const Q=await Nm(o);le(!!Q)}catch(Q){console.error("Error checking drafts:",Q)}},ee=async(Q,he)=>{const Ce=l.find(Ee=>Ee.id===Q);Ce&&ke(Ce)},B=async()=>{if(we)try{await bf(we.id),u(l.filter(Q=>Q.id!==we.id)),ke(null),H.success("Resume deleted successfully")}catch(Q){console.error("Error deleting resume:",Q),H.error("Failed to delete resume")}},j=async Q=>{try{const he={...Q,title:`${Q.title} (Copy)`,status:"draft",is_public:!1,public_slug:null,user_email:o};delete he.id,delete he.created_at,delete he.updated_at,s(he),H.success("Resume duplicated successfully")}catch(he){console.error("Error duplicating resume:",he),H.error("Failed to duplicate resume")}},_=async(Q,he="view")=>{try{const Ce={shared_by:o,share_type:he,expires_at:new Date(Date.now()+2592e6).toISOString()},Ee=await tv(Q,Ce),Le=`${window.location.origin}/resume/shared/${Ee.access_token}`;await navigator.clipboard.writeText(Le),H.success("Share link copied to clipboard!"),U(!1)}catch(Ce){console.error("Error sharing resume:",Ce),H.error("Failed to share resume")}},A=async()=>{try{const Q=await Nm(o);Q&&(n(Q),H.success("Draft restored successfully"))}catch(Q){console.error("Error restoring draft:",Q),H.error("Failed to restore draft")}},z=async()=>{try{await rv(o),le(!1),H.success("Draft deleted successfully")}catch(Q){console.error("Error deleting draft:",Q),H.error("Failed to delete draft")}},S=l.filter(Q=>{const he=Q.title.toLowerCase().includes(p.toLowerCase())||Q.resume_data?.personal?.name?.toLowerCase().includes(p.toLowerCase()),Ce=v==="all"||Q.status===v;return he&&Ce}).sort((Q,he)=>{switch(k){case"title":return Q.title.localeCompare(he.title);case"created_at":return new Date(he.created_at)-new Date(Q.created_at);case"status":return Q.status.localeCompare(he.status);default:return new Date(he.updated_at)-new Date(Q.updated_at)}}),$=Q=>{const he=new Set(ae);he.has(Q)?he.delete(Q):he.add(Q),be(he)},se=Q=>{switch(Q){case"published":return"bg-green-100 text-green-800";case"draft":return"bg-yellow-100 text-yellow-800";case"archived":return"bg-gray-100 text-gray-800";default:return"bg-blue-100 text-blue-800"}},xe=Q=>{switch(Q){case"published":return e.jsx(lt,{className:"w-4 h-4"});case"draft":return e.jsx(Qh,{className:"w-4 h-4"});case"archived":return e.jsx(jp,{className:"w-4 h-4"});default:return e.jsx(cs,{className:"w-4 h-4"})}};return f?e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Zm,{className:"w-8 h-8 animate-spin text-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your resumes..."})]})}):i?e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-7xl h-[90vh] flex flex-col overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-900 via-blue-800 to-blue-900 text-white p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx(Qm,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Resume Management"}),e.jsx("p",{className:"text-sm text-blue-100",children:"Manage your professional resumes and drafts"})]})]}),e.jsx("button",{onClick:c,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Re,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:e.jsx(cs,{className:"w-6 h-6 text-white"})}),"Resume Management"]}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Manage your professional resumes, drafts, and sharing settings"})]}),e.jsxs("div",{className:"flex gap-3",children:[V&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:A,className:"bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors flex items-center gap-2",children:[e.jsx(qt,{className:"w-4 h-4"}),"Restore Draft"]}),e.jsx("button",{onClick:z,className:"bg-gray-500 text-white px-3 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:e.jsx(us,{className:"w-4 h-4"})})]}),e.jsxs("button",{onClick:()=>s(),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx(Ke,{className:"w-5 h-5"}),"Create New Resume"]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(qa,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search resumes by title or name...",value:p,onChange:Q=>y(Q.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("select",{value:v,onChange:Q=>w(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"draft",children:"Drafts"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]}),e.jsxs("select",{value:k,onChange:Q=>E(Q.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"updated_at",children:"Last Modified"}),e.jsx("option",{value:"created_at",children:"Date Created"}),e.jsx("option",{value:"title",children:"Title"}),e.jsx("option",{value:"status",children:"Status"})]})]})]})}),S.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(cs,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:l.length===0?"No resumes yet":"No resumes match your search"}),e.jsx("p",{className:"text-gray-600 mb-6",children:l.length===0?"Create your first professional resume to get started":"Try adjusting your search or filter criteria"}),l.length===0&&e.jsxs("button",{onClick:()=>s(),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 mx-auto",children:[e.jsx(Ke,{className:"w-5 h-5"}),"Create Your First Resume"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(Q=>{const he=Wc(Q.resume_data),Ce=ae.has(Q.id),Ee=sv(Q.resume_data);return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-1",children:Q.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Q.resume_data?.personal?.name||"Unnamed Resume"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${se(Q.status)}`,children:[xe(Q.status),Q.status.charAt(0).toUpperCase()+Q.status.slice(1)]}),Q.is_public&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(lt,{className:"w-3 h-3"}),"Public"]})]})]}),e.jsx("button",{onClick:()=>$(Q.id),className:"p-1 hover:bg-gray-100 rounded-md transition-colors",children:Ce?e.jsx(ko,{className:"w-5 h-5"}):e.jsx(Sp,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[e.jsx("span",{children:"Completeness"}),e.jsxs("span",{children:[he,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${he>=80?"bg-green-500":he>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${he}%`}})})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ut,{className:"w-3 h-3"}),"Updated ",new Date(Q.updated_at).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(hs,{className:"w-3 h-3"}),Ee.sections," sections completed"]})]}),Ce&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Template:"}),e.jsx("p",{className:"font-medium",children:Q.template?.name||"Custom"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Created:"}),e.jsx("p",{className:"font-medium",children:new Date(Q.created_at).toLocaleDateString()})]}),Q.stats&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Views:"}),e.jsx("p",{className:"font-medium",children:Q.stats.view_count||0})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Downloads:"}),e.jsx("p",{className:"font-medium",children:Q.stats.download_count||0})]})]})]})})]}),e.jsx("div",{className:"px-6 pb-6",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>n(Q),className:"flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-sm font-medium",children:[e.jsx(Qh,{className:"w-4 h-4"}),"Edit"]}),e.jsx("button",{onClick:()=>{L(Q),U(!0)},className:"bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:e.jsx(_o,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>j(Q),className:"bg-gray-100 text-gray-700 py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center",children:e.jsx(ed,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>ee(Q.id,Q.title),className:"bg-red-100 text-red-700 py-2 px-3 rounded-lg hover:bg-red-200 transition-colors flex items-center justify-center",children:e.jsx(us,{className:"w-4 h-4"})})]})})]},Q.id)})}),M&&I&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Share Resume"}),e.jsx("button",{onClick:()=>U(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:I.title}),e.jsx("p",{className:"text-sm text-gray-600",children:"Choose how you want to share this resume"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>_(I.id,"view"),className:"w-full p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Vm,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"View Only"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Recipients can view but not edit"})]})]})}),e.jsx("button",{onClick:()=>_(I.id,"comment"),className:"w-full p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors text-left",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(hr,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Comment Access"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Recipients can view and add comments"})]})]})})]})]})]})})}),l.length>0&&e.jsxs("div",{className:"mt-8 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Resume Portfolio"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Resumes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.filter(Q=>Q.status==="published").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Published"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:l.filter(Q=>Q.status==="draft").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Drafts"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[Math.round(l.reduce((Q,he)=>Q+Wc(he.resume_data),0)/l.length)||0,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Avg. Complete"})]})]})]}),e.jsx(Ua,{isOpen:!!we,onClose:()=>ke(null),onConfirm:B,title:"Delete Resume",message:"Are you sure you want to delete this resume? This action cannot be undone and all associated data will be permanently removed.",confirmText:"Delete Resume",cancelText:"Cancel",type:"danger",itemName:we?.title,itemDescription:`Created on ${we?new Date(we.created_at).toLocaleDateString():""}  ${we?.status||"Unknown status"}`})]})]})}):null},dd=({isOpen:o,onClose:s,contestData:n})=>{Ln(o);const[i,c]=N.useState({fullName:"",email:"",mobile:"",experience:"",title:"",description:"",impact:"",consent:!1,attachmentFile:null}),[l,u]=N.useState(!1),[f,g]=N.useState({}),p=()=>{const w={};return i.fullName.trim()||(w.fullName="Full name is required"),i.email.trim()?/\S+@\S+\.\S+/.test(i.email)||(w.email="Invalid email format"):w.email="Email is required",i.experience.trim()||(w.experience="Experience is required"),i.title.trim()||(w.title="Technique title is required"),i.description.trim()||(w.description="Description is required"),i.impact.trim()||(w.impact="Impact/Benefits is required"),i.consent||(w.consent="You must agree to the terms"),g(w),Object.keys(w).length===0},y=async w=>{if(w.preventDefault(),!p()){H.error("Please fill in all required fields");return}u(!0);try{let k=null;if(i.attachmentFile&&G)try{const U=i.attachmentFile.name.split(".").pop(),D=`contest-attachments/${`contest-${Date.now()}-${Math.random().toString(36).substring(2)}.${U}`}`,{error:te}=await G.storage.from("testingvala-bucket").upload(D,i.attachmentFile);if(!te){const{data:{publicUrl:re}}=G.storage.from("testingvala-bucket").getPublicUrl(D);k=re}}catch(U){console.warn("File upload failed:",U)}if(!G){const U={name:i.fullName,email:i.email,mobile:i.mobile,company:"Not provided",role:"QA Professional",experience_years:i.experience,contest_title:n?.theme||"Advanced Testing Methodologies",technique_title:i.title,technique_description:i.description,impact_benefits:i.impact,submission_text:`Title: ${i.title}

Description: ${i.description}

Impact/Benefits: ${i.impact}`,submission_file_url:k,status:"pending",created_at:new Date().toISOString(),winner_rank:null,winner_announcement_timestamp:null},R=JSON.parse(localStorage.getItem("contest_submissions")||"[]"),D={id:Date.now(),...U,created_at:new Date().toISOString(),winner_rank:null,winner_announcement_timestamp:null};R.push(D),localStorage.setItem("contest_submissions",JSON.stringify(R)),console.log("Demo submission:",D),H.success(" Contest submission successful! (Demo mode)"),c({fullName:"",email:"",mobile:"",experience:"",title:"",description:"",impact:"",consent:!1,attachmentFile:null}),s();return}const E={name:i.fullName,email:i.email,mobile:i.mobile,company:"Not provided",role:"QA Professional",experience_years:i.experience,contest_title:n?.theme||"Advanced Testing Methodologies",technique_title:i.title,technique_description:i.description,impact_benefits:i.impact,submission_text:`Title: ${i.title}

Description: ${i.description}

Impact/Benefits: ${i.impact}`,submission_file_url:k,status:"pending",created_at:new Date().toISOString(),winner_rank:null,winner_announcement_timestamp:null},{data:I,error:L}=await G.from("contest_submissions").insert([E]).select(),M=JSON.parse(localStorage.getItem("contest_submissions")||"[]");if(M.push({id:Date.now(),...E,created_at:new Date().toISOString(),winner_rank:null,winner_announcement_timestamp:null}),localStorage.setItem("contest_submissions",JSON.stringify(M)),L){console.error("Submission error:",L);const U=JSON.parse(localStorage.getItem("contest_submissions")||"[]"),R={id:Date.now(),...E,created_at:new Date().toISOString(),winner_rank:null,winner_announcement_timestamp:null};U.push(R),localStorage.setItem("contest_submissions",JSON.stringify(U)),console.log("Submission saved locally:",R),H.success(" Contest submission received! We'll review your entry soon."),c({fullName:"",email:"",mobile:"",experience:"",title:"",description:"",impact:"",consent:!1,attachmentFile:null}),s();return}H.success(" Contest submission successful! We'll review your entry and get back to you soon."),c({fullName:"",email:"",mobile:"",experience:"",title:"",description:"",impact:"",consent:!1,attachmentFile:null}),s()}catch(k){console.error("Submission error:",k),H.error("Failed to submit entry. Please try again.")}finally{u(!1)}},v=(w,k)=>{c(E=>({...E,[w]:k})),f[w]&&g(E=>({...E,[w]:""}))};return o?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[9999] flex items-start justify-center p-4 pt-32",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[75vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 px-6 py-4 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx(pt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Contest Submission"}),e.jsx("p",{className:"text-blue-100 text-sm",children:n?.theme||"Advanced Testing Methodologies"})]})]}),e.jsx("button",{onClick:s,className:"p-2 hover:bg-white/20 rounded-lg transition-colors",children:e.jsx(Re,{className:"w-5 h-5 text-white"})})]})}),e.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-blue-200",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Testing Excellence Contest - Share Your Smart Techniques!"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Showcase your QA expertise! Share your innovative tips, tricks, or methodologies that make testing processes faster, smarter, or more efficient. The best entries will be featured and win exciting prizes!"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-700",children:[e.jsx(qt,{className:"w-4 h-4"}),e.jsxs("span",{children:["Deadline: ",new Date().toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(hs,{className:"w-5 h-5 text-blue-600"}),"Personal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Full Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:i.fullName,onChange:w=>v("fullName",w.target.value),className:`w-full px-3 sm:px-4 py-2 sm:py-3 border rounded-lg sm:rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base ${f.fullName?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Full name"}),f.fullName&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),f.fullName]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Email Address ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",value:i.email,onChange:w=>v("email",w.target.value),className:`w-full px-3 sm:px-4 py-2 sm:py-3 border rounded-lg sm:rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base ${f.email?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Email"}),f.email&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),f.email]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Mobile Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"tel",value:i.mobile,onChange:w=>v("mobile",w.target.value),className:`w-full px-3 sm:px-4 py-2 sm:py-3 border rounded-lg sm:rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base ${f.mobile?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Mobile"}),f.mobile&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),f.mobile]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Years of Experience in Testing ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:i.experience,onChange:w=>v("experience",w.target.value),className:`w-full px-3 sm:px-4 py-2 sm:py-3 border rounded-lg sm:rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base ${f.experience?"border-red-300 bg-red-50":"border-gray-300"}`,children:[e.jsx("option",{value:"",children:"Experience"}),e.jsx("option",{value:"0-1",children:"0-1 years"}),e.jsx("option",{value:"2-3",children:"2-3 years"}),e.jsx("option",{value:"4-5",children:"4-5 years"}),e.jsx("option",{value:"6-8",children:"6-8 years"}),e.jsx("option",{value:"9-12",children:"9-12 years"}),e.jsx("option",{value:"13+",children:"13+ years"})]}),f.experience&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),f.experience]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(cs,{className:"w-5 h-5 text-blue-600"}),"Your Testing Innovation"]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Title of your Technique/Hack/Method ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:i.title,onChange:w=>v("title",w.target.value),className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent ${f.title?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"e.g., AI-Powered Test Case Generation, Smart Automation Framework"}),f.title&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),f.title]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Detailed Description of your Technique ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:i.description,onChange:w=>v("description",w.target.value),rows:5,className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none ${f.description?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Provide a comprehensive explanation of your testing technique, methodology, or innovation. Include implementation steps, tools used, and any unique approaches..."}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[i.description.length,"/1000 characters"]}),f.description&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),f.description]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Impact/Benefits of the Technique ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:i.impact,onChange:w=>v("impact",w.target.value),rows:4,className:`w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none ${f.impact?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Describe the measurable impact and benefits. Include metrics like time saved, efficiency improvements, defect reduction, cost savings, etc..."}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[i.impact.length,"/500 characters"]}),f.impact&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),f.impact]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supporting Document (Optional)"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 text-center hover:border-blue-400 transition-colors",children:i.attachmentFile?e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(Ep,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900",children:i.attachmentFile.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(i.attachmentFile.size/1024/1024).toFixed(2)," MB"]})]}),e.jsx("button",{type:"button",onClick:()=>v("attachmentFile",null),className:"p-1 text-red-500 hover:bg-red-50 rounded",children:e.jsx(Re,{className:"w-4 h-4"})})]}):e.jsxs("div",{children:[e.jsx(Jh,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Upload screenshots, diagrams, or documentation"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"PDF, DOC, PNG, JPG up to 10MB"}),e.jsx("input",{type:"file",accept:".pdf,.doc,.docx,.png,.jpg,.jpeg,.gif,.zip",onChange:w=>{const k=w.target.files[0];k&&k.size<=10*1024*1024?v("attachmentFile",k):H.error("File size must be less than 10MB")},className:"hidden",id:"file-upload"}),e.jsxs("label",{htmlFor:"file-upload",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 cursor-pointer transition-colors",children:[e.jsx(Jh,{className:"w-4 h-4"}),"Choose File"]})]})}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Optional: Upload supporting materials like screenshots, architecture diagrams, or documentation"})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"checkbox",id:"consent",checked:i.consent,onChange:w=>v("consent",w.target.checked),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("label",{htmlFor:"consent",className:"text-sm text-gray-700 cursor-pointer",children:[e.jsx("span",{className:"font-medium",children:"Consent & Rules"})," ",e.jsx("span",{className:"text-red-500",children:"*"}),e.jsx("p",{className:"mt-1 text-gray-600",children:"I confirm that my submission is original work, and I agree to the contest rules and the use of my idea for feature purposes. I understand that TestingVala may showcase winning entries on the platform and social media channels."})]}),f.consent&&e.jsxs("p",{className:"text-red-500 text-sm mt-1 flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),f.consent]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 pt-4",children:[e.jsx("button",{type:"button",onClick:s,className:"w-full sm:flex-1 px-4 sm:px-6 py-2 sm:py-3 border border-gray-300 text-gray-700 rounded-lg sm:rounded-xl font-medium hover:bg-gray-50 transition-colors text-sm sm:text-base",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:l,className:"w-full sm:flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-4 sm:px-6 py-2 sm:py-3 rounded-lg sm:rounded-xl font-semibold hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 flex items-center justify-center gap-2 text-sm sm:text-base",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bt,{className:"w-5 h-5"}),"Submit Entry"]})})]})]})]})}):null},wv=()=>{const[o,s]=N.useState(!1),[n,i]=N.useState(!1),[c,l]=N.useState(!1),[u,f]=N.useState(!1),[g,p]=N.useState(!1),[y,v]=N.useState(null),{user:w,isVerified:k}=Po(),E=(D=null)=>{v(D),f(!1),l(!0)},I=D=>{v(D),f(!1),l(!0)},L=()=>{s(!o)},M=(D="/",te=null,re)=>{re&&re.preventDefault&&re.preventDefault();const ae=D||"/";if(ae==="/"){window.history.pushState({},"","/"),window.dispatchEvent(new PopStateEvent("popstate")),te&&setTimeout(()=>{const V=document.getElementById(te);if(V){const ke=V.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:ke,behavior:"smooth"})}},100);return}const be=te?`${ae}#${te}`:ae;window.location.href=be},U=()=>{p(!0)},R=e.jsx("header",{"data-debug-header":"true",className:"bg-black/95 backdrop-blur-sm border-b border-gray-800 fixed top-0 left-0 w-full z-[99999] shadow-lg pointer-events-auto",style:{borderWidth:"1px"},children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 z-50",children:e.jsx("a",{href:"/",onClick:D=>{D.preventDefault(),window.history.pushState({},"","/"),window.dispatchEvent(new PopStateEvent("popstate"))},"aria-label":"Go to homepage",className:"flex items-center bg-white px-3 py-1 rounded-md shadow-md ml-3",children:e.jsx(Qp,{iconSize:36,textSize:16})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pl-36",children:e.jsxs("div",{className:"flex justify-end items-center h-16",children:[e.jsxs("nav",{className:"flex items-center space-x-8",children:[e.jsx("a",{href:"/",onClick:D=>M("/",null,D),className:"text-gray-300 hover:text-white font-medium transition-colors duration-200",children:"Home"}),e.jsx("a",{href:"/#contest",onClick:D=>M("/","contest",D),className:"text-gray-300 hover:text-white font-medium transition-colors duration-200",children:"Contest"}),e.jsx("a",{href:"/#winners",onClick:D=>{D.preventDefault(),window.history.pushState({},"","/"),window.dispatchEvent(new PopStateEvent("popstate")),setTimeout(()=>{const te=document.querySelector('[data-section="winners"]')||document.getElementById("winners");if(te){const be=te.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:be,behavior:"smooth"})}},200)},className:"text-gray-300 hover:text-white font-medium transition-colors duration-200",children:"Winners"}),e.jsx("a",{href:"/#community",onClick:D=>M("/","community",D),className:"text-gray-300 hover:text-white font-medium transition-colors duration-200",children:"Community"}),e.jsx("a",{href:"/#about",onClick:D=>M("/","about",D),className:"text-gray-300 hover:text-white font-medium transition-colors duration-200",children:"About"}),e.jsx("a",{href:"/#contact",onClick:D=>M("/","contact",D),className:"text-gray-300 hover:text-white font-medium transition-colors duration-200",children:"Contact"}),e.jsxs("a",{href:"/boards",onClick:D=>{D.preventDefault(),k?window.location.href="/boards":i(!0)},className:"text-gray-300 hover:text-white font-medium transition-all duration-200 flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-800",title:k?"Manage your boards":"Sign in to access boards",children:[e.jsx(zt,{className:"w-4 h-4"}),"My Boards"]}),e.jsxs("button",{onClick:U,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-medium hover:bg-blue-700 hover:shadow-lg transition-all duration-200 flex items-center gap-2 border border-blue-500",children:[e.jsx(pt,{className:"w-4 h-4"}),"Join Contest"]})]}),e.jsx("button",{className:"md:hidden p-2 rounded-md text-gray-300 hover:text-white hover:bg-gray-800 transition-colors duration-200",onClick:L,children:o?e.jsx(Re,{className:"w-6 h-6"}):e.jsx(Fp,{className:"w-6 h-6"})})]})}),o&&e.jsx("div",{className:"md:hidden border-t border-gray-800 py-4 mt-16",children:e.jsxs("nav",{className:"flex flex-col space-y-4 px-4",children:[e.jsx("a",{href:"/",onClick:D=>M("/",null,D),className:"text-gray-300 hover:text-white font-medium transition-colors duration-200",children:"Home"}),e.jsx("a",{href:"/#contest",onClick:D=>M("/","contest",D),className:"text-gray-300 hover:text-white font-medium transition-colors duration-200",children:"Contest"}),e.jsx("a",{href:"/#winners",onClick:D=>{D.preventDefault(),window.history.pushState({},"","/"),window.dispatchEvent(new PopStateEvent("popstate")),setTimeout(()=>{const te=document.querySelector('[data-section="winners"]')||document.getElementById("winners");if(te){const be=te.getBoundingClientRect().top+window.pageYOffset-80;window.scrollTo({top:be,behavior:"smooth"})}},200)},className:"text-gray-300 hover:text-white font-medium transition-colors duration-200",children:"Winners"}),e.jsx("a",{href:"/#community",onClick:D=>M("/","community",D),className:"text-gray-300 hover:text-white font-medium transition-colors duration-200",children:"Community"}),e.jsx("a",{href:"/#about",onClick:D=>M("/","about",D),className:"text-gray-300 hover:text-white font-medium transition-colors duration-200",children:"About"}),e.jsx("a",{href:"/#contact",onClick:D=>M("/","contact",D),className:"text-gray-300 hover:text-white font-medium transition-colors duration-200",children:"Contact"}),e.jsxs("button",{onClick:()=>{!w||!k?i(!0):l(!0)},className:"text-gray-300 hover:text-white font-medium transition-all duration-200 flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-800 w-full text-left",children:[e.jsx(cs,{className:"w-4 h-4"}),"AI Resume Builder"]}),k&&e.jsxs("button",{onClick:()=>f(!0),className:"text-gray-300 hover:text-white font-medium transition-all duration-200 flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-800 w-full text-left",children:[e.jsx(Qm,{className:"w-4 h-4"}),"Manage Resumes"]}),e.jsxs("a",{href:"/boards",onClick:D=>{D.preventDefault(),k?window.location.href="/boards":i(!0)},className:"text-gray-300 hover:text-white font-medium transition-all duration-200 flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-800",children:[e.jsx(zt,{className:"w-4 h-4"}),"My Boards"]}),e.jsxs("button",{onClick:U,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 hover:shadow-lg transition-all duration-200 flex items-center justify-center gap-2 border border-blue-500",children:[e.jsx(pt,{className:"w-4 h-4"})," Join Contest"]})]})})]})});return typeof document<"u"?e.jsxs(e.Fragment,{children:[yp.createPortal(R,document.body),n&&e.jsx(Eo,{isOpen:n,onClose:()=>i(!1),onSuccess:()=>{i(!1),w&&k&&(window.location.pathname==="/boards"||window.location.hash.includes("boards")?window.location.href="/boards":l(!0))},action:window.location.pathname==="/boards"?"boards":"resume"}),c&&e.jsx(kf,{isOpen:c,onClose:()=>{l(!1),v(null)}}),u&&k&&e.jsx(bv,{userEmail:w?.email,onCreateNew:E,onEditResume:I,isOpen:u,onClose:()=>f(!1)}),e.jsx(dd,{isOpen:g,onClose:()=>p(!1),contestData:{theme:"Advanced Testing Methodologies",deadline:new Date().toISOString().split("T")[0]}})]}):e.jsx(e.Fragment,{children:R})},jv=({data:o})=>{const[s,n]=N.useState(!1),[i,c]=N.useState(!1),[l,u]=N.useState(!1),{user:f,isVerified:g}=Po(),y=o||{headline:"Win Big with Your Testing Expertise",subtitle:"Show off your QA skills in our monthly contest! Share your best testing hacks, automation tricks, and innovative approaches."},v=()=>{u(!0)},w=()=>{if(!f||!g){c(!0);return}n(!0)},k=()=>{c(!1),f&&g&&n(!0)};return e.jsxs("section",{id:"home",className:"relative bg-gradient-to-br from-white via-gray-50 to-gray-100 py-8",children:[e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"font-extrabold text-gray-900 mb-4 leading-tight text-3xl sm:text-4xl md:text-5xl lg:text-6xl",children:y.headline||"Win Big with Your Testing Expertise"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-700 max-w-md sm:max-w-2xl mx-auto mb-6 leading-relaxed px-2",children:y.subtitle||"Show off your QA skills in our monthly contest! Share your best testing hacks, automation tricks, and innovative approaches."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center items-center mt-6",children:[e.jsxs("button",{onClick:w,className:"group relative bg-gradient-to-r from-[#0057B7] via-[#0066CC] to-[#004494] text-white px-6 py-3 rounded-xl font-semibold text-base shadow-lg hover:shadow-blue-500/25 transform hover:scale-105 transition-all duration-300 overflow-hidden w-full sm:w-auto min-w-[180px]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative flex items-center justify-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Us,{className:"w-6 h-6 animate-pulse"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-yellow-300 rounded-full animate-ping"})]}),e.jsx("span",{className:"font-extrabold tracking-wide",children:"AI Resume Builder"}),e.jsx(zm,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform duration-300"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-300 to-blue-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]}),e.jsxs("button",{onClick:v,className:"group relative bg-gradient-to-r from-[#0066CC] to-[#004494] text-white px-5 py-3 rounded-xl font-medium text-base shadow-lg hover:shadow-blue-500/25 transform hover:scale-105 transition-all duration-300 overflow-hidden w-full sm:w-auto min-w-[160px]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative flex items-center justify-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(pt,{className:"w-5 h-5 group-hover:rotate-12 transition-transform duration-300"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-300 rounded-full animate-bounce"})]}),e.jsx("span",{className:"font-bold",children:"Join Contest"}),e.jsx(zs,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 text-blue-200 transition-all duration-300"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-300 to-blue-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]}),e.jsxs("button",{onClick:()=>{H(" Coming Soon! Stay tuned for exciting job opportunities.",{duration:3e3,style:{background:"#0057B7",color:"white",fontWeight:"500"}})},className:"group relative bg-gradient-to-r from-[#2563eb] to-[#1d4ed8] text-white px-5 py-3 rounded-xl font-medium text-base shadow-lg hover:shadow-blue-500/25 transform hover:scale-105 transition-all duration-300 overflow-hidden w-full sm:w-auto min-w-[160px]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative flex items-center justify-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qm,{className:"w-5 h-5 group-hover:rotate-12 transition-transform duration-300"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-300 rounded-full animate-pulse"})]}),e.jsx("span",{className:"font-bold",children:"Find Jobs"}),e.jsx(zs,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 text-blue-200 transition-all duration-300"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-300 to-blue-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]}),e.jsxs("button",{onClick:()=>{H(" Coming Soon! Access premium QA insights and resources.",{duration:3e3,style:{background:"#0057B7",color:"white",fontWeight:"500"}})},className:"group relative bg-gradient-to-r from-[#3b82f6] to-[#1e40af] text-white px-5 py-3 rounded-xl font-medium text-base shadow-lg hover:shadow-blue-500/25 transform hover:scale-105 transition-all duration-300 overflow-hidden w-full sm:w-auto min-w-[160px]",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),e.jsxs("div",{className:"relative flex items-center justify-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Xc,{className:"w-5 h-5 group-hover:rotate-12 transition-transform duration-300"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-2 h-2 bg-blue-300 rounded-full animate-bounce"})]}),e.jsx("span",{className:"font-bold",children:"Insight Library"}),e.jsx(Us,{className:"w-4 h-4 opacity-0 group-hover:opacity-100 text-blue-200 transition-all duration-300"})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-300 to-blue-400 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})]})]})}),e.jsx(kf,{isOpen:s,onClose:()=>n(!1)}),e.jsx(Eo,{isOpen:i,onClose:()=>c(!1),onSuccess:k,action:"resume"}),e.jsx(dd,{isOpen:l,onClose:()=>u(!1),contestData:{theme:"Advanced Testing Methodologies",deadline:new Date().toISOString().split("T")[0]}})]})},Nv=({data:o,contestData:s})=>{const[n,i]=N.useState(!1),c={theme:"Advanced Testing Methodologies",deadline:"2025-01-31"},l=s||o||c,u=new Date,f=u.getFullYear(),g=u.getMonth(),p=new Date(f,g,1),y=new Date(f,g+1,0),v=y-u,w=Math.ceil(v/(1e3*60*60*24)),k=()=>w<0?"Contest Ended":w===0?"Final Day":w===1?"1 Day Remaining":`${w} Days Remaining`,E=()=>u<p?"Opening Soon":u>=p&&u<=y?w<=3?"Closing Soon":"Active":"Closed",I=()=>`${["January","February","March","April","May","June","July","August","September","October","November","December"][u.getMonth()]} ${u.getFullYear()} Professional QA Contest`,L=re=>{switch(re?.toLowerCase()){case"active":return"bg-emerald-50 text-emerald-700 border border-emerald-200";case"closing soon":return"bg-amber-50 text-amber-700 border border-amber-200";case"closed":return"bg-slate-50 text-slate-600 border border-slate-200";case"opening soon":return"bg-blue-50 text-blue-700 border border-blue-200";default:return"bg-slate-50 text-slate-600 border border-slate-200"}},M=E(),U=k(),R=I(),D={participants:"2,500+",countries:"45+",submissions:"1,200+",winners:"36"},te=l.stats||D;return e.jsxs(e.Fragment,{children:[e.jsxs("section",{id:"contest",className:"py-16 bg-gradient-to-br from-gray-50 via-white to-orange-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-5",children:[e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-[#FF6600] rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-[#0057B7] rounded-full blur-3xl"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-[#FF6600] to-[#E55A00] text-white px-6 py-3 rounded-full text-sm font-semibold shadow-lg mb-6",children:[e.jsx(pt,{className:"w-5 h-5"}),"Professional Excellence Program"]}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 bg-gradient-to-r from-gray-900 via-[#0057B7] to-[#FF6600] bg-clip-text text-transparent",children:"Monthly QA Excellence Contest"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Join the world's largest QA professional community. Showcase your expertise, learn from industry leaders, and advance your career."})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden mb-16",children:[e.jsx("div",{className:"bg-gradient-to-r from-[#0057B7] to-[#FF6600] px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"text-white mb-6 lg:mb-0",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:R}),e.jsx("p",{className:"text-blue-100 text-lg",children:l.theme||c.theme}),e.jsxs("div",{className:"flex items-center gap-4 mt-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-100",children:[e.jsx(Ut,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:["Ends ",y.toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-blue-100",children:[e.jsx(qt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:U})]})]})]}),e.jsxs("div",{className:"text-center lg:text-right",children:[e.jsx("span",{className:`inline-flex items-center px-6 py-3 rounded-full text-sm font-bold ${L(M)} shadow-lg`,children:M}),e.jsx("button",{type:"button",onClick:M==="Closed"||M==="Opening Soon"?void 0:()=>i(!0),disabled:M==="Closed"||M==="Opening Soon",className:`mt-4 block w-full lg:w-auto px-8 py-4 rounded-xl font-bold text-lg transition-all duration-300 ${M==="Closed"||M==="Opening Soon"?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-white text-[#FF6600] hover:bg-orange-50 shadow-lg hover:shadow-xl transform hover:scale-105"}`,children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(pt,{className:"w-5 h-5"}),M==="Closed"?"Contest Closed":M==="Opening Soon"?"Opening Soon":"Submit Entry"]})})]})]})}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-orange-50 to-red-50 rounded-2xl border border-orange-100",children:[e.jsx("div",{className:"text-3xl font-bold text-[#FF6600] mb-2",children:te.participants}),e.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Active Participants"})]}),e.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl border border-blue-100",children:[e.jsx("div",{className:"text-3xl font-bold text-[#0057B7] mb-2",children:te.countries}),e.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Countries"})]}),e.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-gray-50 to-slate-50 rounded-2xl border border-gray-100",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-700 mb-2",children:te.submissions}),e.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Total Submissions"})]}),e.jsxs("div",{className:"text-center p-6 bg-gradient-to-br from-yellow-50 to-orange-50 rounded-2xl border border-yellow-100",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:te.winners}),e.jsx("div",{className:"text-sm font-medium text-gray-600",children:"Certified Winners"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-orange-50 rounded-2xl p-8 border border-gray-100",children:[e.jsx("h4",{className:"text-xl font-bold text-gray-900 mb-6 text-center",children:"Why Participate?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-[#FF6600] rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(In,{className:"w-6 h-6 text-white"})}),e.jsx("h5",{className:"font-bold text-gray-900 mb-2",children:"Professional Recognition"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get certified and showcase your expertise to employers worldwide"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-[#0057B7] rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(pt,{className:"w-6 h-6 text-white"})}),e.jsx("h5",{className:"font-bold text-gray-900 mb-2",children:"Career Advancement"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Network with industry leaders and accelerate your QA career"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-700 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Ut,{className:"w-6 h-6 text-white"})}),e.jsx("h5",{className:"font-bold text-gray-900 mb-2",children:"Continuous Learning"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Stay updated with latest QA trends and methodologies"})]})]})]})]})]})]})]}),e.jsx(dd,{isOpen:n,onClose:()=>i(!1),contestData:{theme:l.theme||c.theme,deadline:l.deadline||c.deadline}})]})};class kv{constructor(){this.cache=new Map,this.pendingRequests=new Map,this.CACHE_TTL=300*1e3}async request(s,n,i={}){const{force:c=!1}=i;if(!c){const u=this.cache.get(s);if(u&&Date.now()-u.timestamp<this.CACHE_TTL)return u.data}if(this.pendingRequests.has(s))return await this.pendingRequests.get(s);const l=n();this.pendingRequests.set(s,l);try{const u=await l;return this.cache.set(s,{data:u,timestamp:Date.now()}),u}finally{this.pendingRequests.delete(s)}}async getWebsiteContent(){return this.request("website_content",async()=>{if(!G)return{};const{data:s,error:n}=await G.from("website_content").select("content").single();if(n)throw n;return s?.content||{}})}async getForumPosts(){return this.request("forum_posts",async()=>{if(!G)return[];const{data:s,error:n}=await G.from("forum_posts").select(`
          *,
          forum_categories!inner(
            id,
            name,
            slug,
            color
          )
        `).eq("status","active").order("created_at",{ascending:!1}).limit(50);if(n)throw n;return(s||[]).map(i=>({...i,category_name:i.forum_categories?.name||"General"}))})}async getForumCategories(){return this.request("forum_categories",async()=>{if(!G)return console.warn("Supabase not available, returning empty categories"),[];console.log(" Fetching forum categories from database...");const{data:s,error:n}=await G.from("forum_categories").select("*").eq("is_active",!0).order("name");if(n)throw console.error(" Error fetching categories:",n),n;return console.log(" Categories fetched:",s?.length||0,s),s||[]})}async getUpcomingEvents(){return this.request("upcoming_events",async()=>{if(!G)return[];const{data:s,error:n}=await G.from("upcoming_events").select("*").eq("is_active",!0).gte("event_date",new Date().toISOString().split("T")[0]).order("event_date",{ascending:!0}).limit(10);if(n)throw n;return s||[]})}async getContestSubmissions(){return this.request("contest_submissions",async()=>{if(!G)return[];const{data:s,error:n}=await G.from("contest_submissions").select("*").in("winner_rank",[1,2,3]).order("winner_rank");if(n)throw n;return s||[]})}async getUserProfiles(){return this.request("user_profiles",async()=>{if(!G)return[];const{data:s,error:n}=await G.from("user_profiles").select("id, username, full_name, avatar_url, email");if(n)throw n;return s||[]})}clearCache(s=null){if(s)for(const n of this.cache.keys())n.includes(s)&&this.cache.delete(n);else this.cache.clear()}}const Ls=new kv,_f=N.createContext(),_v=({children:o})=>{const[s,n]=N.useState({website:null,posts:[],categories:[],events:[],winners:[],userProfiles:[],loading:!0,error:null}),i=N.useRef(!1);N.useEffect(()=>{if(i.current)return;i.current=!0,(async()=>{try{console.log(" Loading all data in single batch...");const[u,f,g,p,y,v]=await Promise.allSettled([Ls.getWebsiteContent(),Ls.getForumPosts(),Ls.getForumCategories(),Ls.getUpcomingEvents(),Ls.getContestSubmissions(),Ls.getUserProfiles()]),w=g.status==="fulfilled"?g.value:[];console.log(" Categories loaded:",w.length,w),n({website:u.status==="fulfilled"?u.value:{},posts:f.status==="fulfilled"?f.value:[],categories:w,events:p.status==="fulfilled"?p.value:[],winners:y.status==="fulfilled"?y.value:[],userProfiles:v.status==="fulfilled"?v.value:[],loading:!1,error:null}),console.log(" All data loaded successfully"),g.status==="rejected"&&console.error(" Categories failed to load:",g.reason),f.status==="rejected"&&console.error(" Posts failed to load:",f.reason)}catch(u){console.error(" Error loading data:",u),n(f=>({...f,loading:!1,error:u.message}))}})()},[]);const c=()=>{Ls.clearCache(),i.current=!1,n(l=>({...l,loading:!0}))};return e.jsx(_f.Provider,{value:{...s,refreshData:c},children:o})},To=()=>{const o=N.useContext(_f);if(!o)throw new Error("useGlobalData must be used within GlobalDataProvider");return o},Ha=()=>{const{website:o,loading:s}=To();return{data:o,loading:s}},Sv=()=>{const{posts:o,categories:s,userProfiles:n,loading:i}=To();return{posts:o.map(l=>({...l,user_profiles:n.find(u=>u.id===l.user_id)||null})),categories:s,loading:i}},Sf=()=>{const{events:o,loading:s}=To();return{events:o,loading:s}},Cf=()=>{const{winners:o,loading:s}=To();return{winners:o,loading:s}},Cv=async(o,s)=>{const c=document.createElement("canvas");c.width=1200,c.height=900;const l=c.getContext("2d");l.fillStyle="#ffffff",l.fillRect(0,0,1200,900),l.strokeStyle="#e2e8f0",l.lineWidth=4,l.strokeRect(30,30,1140,840),l.strokeStyle="#FF6600",l.lineWidth=3,l.strokeRect(40,40,1120,820),l.fillStyle="#FF6600",l.fillRect(60,60,1080,120),l.fillStyle="#ffffff",l.font="bold 40px sans-serif",l.textAlign="center",l.fillText("CERTIFICATE OF EXCELLENCE",1200/2,130),l.font="bold 22px sans-serif",l.fillText("Quality Assurance Professional Recognition",1200/2,165),l.fillStyle="#1e293b",l.font="normal 24px serif",l.fillText("This is to certify that",1200/2,240),l.fillStyle="#0f172a",l.font="bold 48px serif",l.fillText(o.name.toUpperCase(),1200/2,300),l.fillStyle="#475569",l.font="italic 20px serif",l.fillText(o.title,1200/2,335),l.fillStyle="#1e293b",l.font="normal 22px serif",l.fillText("has achieved",1200/2,390);const u={"1st Place":{title:"1ST PLACE WINNER",color:"#FFD700",emoji:""},"2nd Place":{title:"2ND PLACE WINNER",color:"#C0C0C0",emoji:""},"3rd Place":{title:"3RD PLACE WINNER",color:"#CD7F32",emoji:""}},f=u[s]||u["1st Place"];l.font="60px sans-serif",l.fillText(f.emoji,1200/2,450),l.fillStyle=f.color,l.font="bold 36px sans-serif",l.fillText(f.title,1200/2,500),l.fillStyle="#1e293b",l.font="normal 18px serif",l.fillText("in the TestingVala QA Professional Contest",1200/2,540),l.fillText("for exceptional expertise in Quality Assurance",1200/2,565);const g=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});l.fillStyle="#64748b",l.font="normal 16px sans-serif",l.fillText(`Awarded on ${g}`,1200/2,620);const p=`QA-${s.replace(/\s+/g,"").toUpperCase()}-${Date.now().toString().slice(-6)}`;return l.fillText(`Certificate ID: ${p}`,1200/2,645),l.fillStyle="#0f172a",l.font="bold 18px sans-serif",l.textAlign="left",l.fillText("TestingVala Certification Authority",80,730),l.font="normal 14px sans-serif",l.fillStyle="#64748b",l.fillText("Premier QA Community & Professional Development",80,750),l.strokeStyle="#e2e8f0",l.lineWidth=2,l.strokeRect(1060,700,60,60),l.fillStyle="#94a3b8",l.font="10px sans-serif",l.textAlign="center",l.fillText("Verify at",1090,745),l.fillText("testingvala.com",1090,755),l.fillStyle="#FF6600",l.fillRect(60,800,1080,60),l.fillStyle="#ffffff",l.font="bold 18px sans-serif",l.textAlign="center",l.fillText("www.testingvala.com | info@testingvala.com",1200/2,830),l.font="14px sans-serif",l.fillText("Empowering QA Professionals Worldwide",1200/2,850),c.toDataURL("image/png")},Ev=async(o,s)=>{try{const n=await Cv(o,s),i=document.createElement("a");i.href=n,i.download=`TestingVala_QA_Certificate_${o.name.replace(/\s+/g,"_")}_${s.replace(/\s+/g,"")}.png`,document.body.appendChild(i),i.click(),i.remove(),H.success(" Professional certificate downloaded successfully!")}catch(n){console.error("Failed to generate certificate",n),H.error("Failed to generate certificate")}},Ef=({data:o})=>{const{winners:s,loading:n}=Cf(),[i,c]=N.useState([]),l={stats:{participants:"500+",prizes:"$25,000+",support:"24/7"}};N.useEffect(()=>{if(s&&s.length>0){const p=new Map;s.forEach(v=>{const w=parseInt(v.winner_rank);if(w>=1&&w<=3&&!isNaN(w)){const k={avatar:w===1?"":w===2?"":"",name:v.name||"Anonymous Winner",title:v.role||v.company||"QA Professional",trick:v.technique_description||v.technique_title||"Innovative QA technique",rank:w,email:v.email};p.set(w,k)}});const y=[];for(let v=1;v<=3;v++)p.has(v)&&y.push(p.get(v));c(y)}},[s]);const f=(o||l).stats||l.stats;f?.participants||l.stats.participants,f?.prizes||l.stats.prizes,f?.support||l.stats.support;const g=(p,y)=>{const v={"1st Place":{emoji:"",title:"CHAMPION",subtitle:"Gold Medal Winner",color:"#FFD700"},"2nd Place":{emoji:"",title:"EXCELLENCE",subtitle:"Silver Medal Winner",color:"#C0C0C0"},"3rd Place":{emoji:"",title:"ACHIEVER",subtitle:"Bronze Medal Winner",color:"#CD7F32"}},w=v[y]||v["1st Place"],k=`${w.emoji} QA ${w.title} CERTIFIED ${w.emoji}

 Proud to announce ${p.name} as ${y} Winner
 ${p.title} | TestingVala Contest Winner

 WHAT THIS MEANS:
 Recognized among TOP QA professionals globally
 Validated expertise in Quality Assurance
 Part of elite 1% QA community
 Industry-certified innovation leader

 JOIN THE QA ELITE:
 Monthly skill competitions
 Cash prizes & recognition
 Network with 10,000+ QA experts
 Accelerate your QA career

 Compete & Win: www.testingvala.com
 info@testingvala.com

#QAChampion #TestingExcellence #QualityAssurance #TestAutomation #CareerGrowth #TestingVala #QALeadership #TechCareers`,E=`https://testingvala.com/?utm_source=linkedin&utm_medium=social&utm_campaign=qa_winner&winner=${encodeURIComponent(p.name)}#winners`,I=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(E)}&title=${encodeURIComponent(`${w.emoji} QA ${w.title} - ${p.name}`)}&summary=${encodeURIComponent(k)}`;window.open(I,"_blank")};return e.jsx(e.Fragment,{children:e.jsxs("section",{id:"winners","data-section":"winners",className:"py-16 bg-gradient-to-br from-gray-50 via-white to-orange-50 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-5",children:[e.jsx("div",{className:"absolute top-20 left-20 w-32 h-32 bg-[#FF6600] rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-20 right-20 w-40 h-40 bg-[#0057B7] rounded-full blur-3xl"})]}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("div",{className:"flex items-center justify-center gap-4 mb-6",children:e.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-[#FF6600] to-[#E55A00] text-white px-6 py-3 rounded-full text-sm font-semibold shadow-lg",children:[e.jsx(pt,{className:"w-5 h-5"}),"Hall of Fame"]})}),e.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-6 bg-gradient-to-r from-gray-900 via-[#0057B7] to-[#FF6600] bg-clip-text text-transparent",children:"Previous Winners"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:"Meet the exceptional QA professionals who have won our monthly contests and shared their innovative testing techniques with the community."})]}),n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-2xl shadow-lg border border-gray-100 mb-16",children:[e.jsx(pt,{className:"w-20 h-20 text-gray-300 mx-auto mb-6"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"No Winners Yet"}),e.jsx("p",{className:"text-gray-600 text-lg mb-8 max-w-md mx-auto",children:"Contest winners will be announced here once the judging is complete. Stay tuned!"}),e.jsxs("button",{onClick:()=>{window.location.hash="contest"},className:"bg-gradient-to-r from-[#FF6600] to-[#E55A00] text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-300 flex items-center gap-2 mx-auto",children:[e.jsx(pt,{className:"w-5 h-5"}),"Enter Contest Now"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16",children:i.map((p,y)=>{const v=y+1,w=v===1?"1st Place":v===2?"2nd Place":v===3?"3rd Place":`${v}th Place`,E=(I=>{switch(I){case 1:return{gradient:"from-[#FFD700] via-[#FFA500] to-[#FF6600]",badge:"bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-900 border-yellow-400",icon:e.jsx(Ic,{className:"w-4 h-4"}),cardBg:"bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50",border:"border-yellow-200",medal:"",title:"CHAMPION"};case 2:return{gradient:"from-[#C0C0C0] via-[#A9A9A9] to-[#808080]",badge:"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-900 border-gray-400",icon:e.jsx(Lp,{className:"w-4 h-4"}),cardBg:"bg-gradient-to-br from-gray-50 via-slate-50 to-zinc-50",border:"border-gray-200",medal:"",title:"EXCELLENCE"};case 3:return{gradient:"from-[#CD7F32] via-[#D2691E] to-[#A0522D]",badge:"bg-gradient-to-r from-orange-100 to-amber-100 text-orange-900 border-orange-400",icon:e.jsx(In,{className:"w-4 h-4"}),cardBg:"bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50",border:"border-orange-200",medal:"",title:"ACHIEVER"};default:return{gradient:"from-[#0057B7] to-[#FF6600]",badge:"bg-gradient-to-r from-blue-100 to-orange-100 text-blue-900 border-blue-400",icon:e.jsx(So,{className:"w-4 h-4"}),cardBg:"bg-gradient-to-br from-blue-50 to-orange-50",border:"border-blue-200",medal:"",title:"WINNER"}}})(v);return e.jsxs("div",{className:`group relative ${E.cardBg} rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden border-2 ${E.border} backdrop-blur-sm`,children:[e.jsxs("div",{className:`absolute top-4 right-4 px-3 py-1.5 rounded-full text-xs font-bold border-2 ${E.badge} flex items-center gap-1 shadow-lg z-10`,children:[E.icon,E.title]}),e.jsx("div",{className:"absolute top-4 left-4 text-3xl opacity-20 group-hover:opacity-40 transition-opacity duration-300",children:E.medal}),e.jsxs("div",{className:"relative p-6 text-center",children:[e.jsxs("div",{className:"relative w-20 h-20 mx-auto mb-5",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${E.gradient} rounded-full animate-pulse group-hover:animate-none transition-all duration-500`}),e.jsx("div",{className:"relative w-18 h-18 mx-auto mt-1 rounded-full bg-white flex items-center justify-center text-3xl shadow-xl border-4 border-white",children:p.avatar||E.medal}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1 shadow-lg",children:e.jsx("div",{className:"bg-green-500 text-white rounded-full p-1.5 w-7 h-7 flex items-center justify-center",children:e.jsx(Zc,{className:"w-3 h-3"})})})]}),e.jsxs("div",{className:"mb-5",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 group-hover:text-[#FF6600] transition-colors duration-300",children:p.name}),e.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/80 backdrop-blur-sm px-3 py-1.5 rounded-full text-sm font-semibold text-gray-800 shadow-sm",children:[e.jsx(zs,{className:"w-4 h-4 text-[#FF6600]"}),"QA ",E.title]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2 font-medium",children:p.title})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-4 rounded-xl text-left mb-5 border border-white/60 shadow-sm",children:[e.jsxs("h4",{className:"font-bold text-gray-900 mb-2 flex items-center gap-2 text-sm",children:[e.jsx(pt,{className:"w-4 h-4 text-[#FF6600]"}),"Certified Excellence"]}),e.jsx("p",{className:"text-xs leading-relaxed text-gray-700",children:"Recognized for outstanding QA innovation and professional excellence in quality assurance practices."})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsxs("button",{onClick:()=>g(p,w),className:"flex items-center gap-1 px-3 py-2 bg-[#0A66C2] text-white rounded-lg shadow-sm hover:shadow-md hover:bg-[#004182] transition-all duration-200 text-xs font-medium",children:[e.jsx(td,{className:"w-3 h-3"}),"LinkedIn"]}),e.jsxs("button",{onClick:()=>{const I={"1st Place":{emoji:"",title:"CHAMPION"},"2nd Place":{emoji:"",title:"EXCELLENCE"},"3rd Place":{emoji:"",title:"ACHIEVER"}},L=I[w]||I["1st Place"],M=`${L.emoji} QA ${L.title} CERTIFIED ${L.emoji}

 ${p.name} - ${w} Winner
 ${p.title}
 TestingVala Contest Winner

 Recognized for outstanding QA excellence!

 Join the QA Elite Community:
 Monthly contests with cash prizes
 Network with 10,000+ QA professionals
 Accelerate your QA career

 www.testingvala.com
 info@testingvala.com

#QAChampion #TestingVala #QualityAssurance`,U=`https://wa.me/?text=${encodeURIComponent(M)}`;window.open(U,"_blank")},className:"flex items-center gap-1 px-3 py-2 bg-[#25D366] text-white rounded-lg shadow-sm hover:shadow-md hover:bg-[#1DA851] transition-all duration-200 text-xs font-medium",children:[e.jsx(Km,{className:"w-3 h-3"}),"WhatsApp"]}),e.jsxs("button",{onClick:()=>Ev(p,w),className:"flex items-center gap-1 px-3 py-2 bg-gray-800 text-white rounded-lg shadow-sm hover:shadow-md hover:bg-gray-900 transition-all duration-200 text-xs font-medium",children:[e.jsx(ls,{className:"w-3 h-3"}),"Certificate"]})]})]})]},y)})})]})]})})},Pv=()=>e.jsx("div",{className:"p-6 animate-pulse",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]}),e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-3"}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded-xl w-20"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded-xl w-24"}),e.jsx("div",{className:"h-8 bg-gray-200 rounded-xl w-16"})]})]})]})}),km=({count:o=3})=>e.jsx("div",{className:"divide-y divide-gray-100",children:Array.from({length:o},(s,n)=>e.jsx(Pv,{},n))}),Tv=({post:o,isVisible:s,onLike:n,onComment:i,onShare:c,onPin:l,onSave:u,likeCount:f,commentCount:g,isLiked:p,isPinned:y})=>{const[v,w]=N.useState(!1);return N.useEffect(()=>{const k=()=>{const E=document.getElementById(`post-${o.id}`);if(E){const I=E.getBoundingClientRect();w(I.bottom<100)}};if(s)return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[s,o.id]),!s||!v?null:e.jsxs("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 z-40 bg-white/95 backdrop-blur-sm border border-gray-200 rounded-2xl shadow-xl px-4 py-2 flex items-center space-x-1 transition-all duration-300",children:[e.jsxs("button",{onClick:()=>n(o.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 ${p?"bg-red-50 text-red-700 border border-red-200":"text-gray-600 hover:bg-red-50 hover:text-red-600 border border-transparent hover:border-red-200"}`,children:[e.jsx(Bs,{className:`w-4 h-4 ${p?"fill-red-500 text-red-500":""}`}),e.jsx("span",{className:"tabular-nums",children:f})]}),e.jsxs("button",{onClick:()=>i(o.id),className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-sm text-gray-600 hover:bg-blue-50 hover:text-blue-700 border border-transparent hover:border-blue-200 transition-all duration-200",children:[e.jsx(hr,{className:"w-4 h-4"}),e.jsx("span",{className:"tabular-nums",children:g})]}),e.jsx("button",{onClick:()=>c(o.id),className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-sm text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 border border-transparent hover:border-emerald-200 transition-all duration-200",children:e.jsx(_o,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>l(o),className:`flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-sm transition-all duration-200 ${y?"bg-amber-50 text-amber-700 border border-amber-200":"text-gray-600 hover:bg-amber-50 hover:text-amber-600 border border-transparent hover:border-amber-200"}`,children:e.jsx(Pn,{className:`w-4 h-4 ${y?"fill-amber-500 text-amber-500":""}`})}),e.jsx("button",{onClick:()=>u(o.id),className:"flex items-center gap-2 px-4 py-2 rounded-xl font-medium text-sm text-gray-600 hover:bg-violet-50 hover:text-violet-600 border border-transparent hover:border-violet-200 transition-all duration-200",children:e.jsx(zt,{className:"w-4 h-4"})})]})},Pf=({value:o,onChange:s,placeholder:n="Write a comment...",className:i="",onSubmit:c,disabled:l=!1})=>{const[u,f]=N.useState(!1),[g,p]=N.useState([]),[y,v]=N.useState(""),[w,k]=N.useState(0),E=N.useRef(null),I=async R=>{if(!G||R.length<2){p([]);return}try{const{data:D,error:te}=await G.from("user_profiles").select("username, full_name, email").or(`username.ilike.%${R}%,full_name.ilike.%${R}%,email.ilike.%${R}%`).limit(5);!te&&D&&p(D)}catch(D){console.error("Error searching users:",D)}},L=R=>{const D=R.target.value,te=R.target.selectionStart;s(D),k(te);const ae=D.slice(0,te).match(/@(\w*)$/);if(ae){const be=ae[1];v(be),f(!0),I(be)}else f(!1),p([])},M=R=>{const D=o.slice(0,w),te=o.slice(w),re=D.match(/@(\w*)$/);if(re){const ae=D.slice(0,re.index),be=`@${R.username||R.full_name||R.email.split("@")[0]}`,V=ae+be+" "+te;s(V),f(!1),setTimeout(()=>{if(E.current){const le=ae.length+be.length+1;E.current.focus(),E.current.setSelectionRange(le,le)}},0)}},U=R=>{R.key==="Enter"&&!R.shiftKey&&c&&(R.preventDefault(),c())};return N.useEffect(()=>{const R=D=>{E.current&&!E.current.contains(D.target)&&f(!1)};return document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[]),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{ref:E,value:o,onChange:L,onKeyDown:U,placeholder:n,disabled:l,className:`${i} resize-none`,rows:3}),u&&g.length>0&&e.jsxs("div",{className:"absolute bottom-full left-0 mb-1 bg-white border border-gray-200 rounded-lg shadow-lg max-w-xs w-full z-20",children:[e.jsx("div",{className:"p-2 text-xs text-gray-500 border-b",children:"Mention someone"}),g.map((R,D)=>e.jsxs("button",{onClick:()=>M(R),className:"w-full text-left p-3 hover:bg-gray-50 flex items-center gap-3 transition-colors",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-medium",children:(R.username||R.full_name||R.email).charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:R.full_name||R.username||R.email.split("@")[0]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["@",R.username||R.email.split("@")[0]]})]})]},D))]})]})},yo=o=>{const s=new Date,n=new Date(o),i=Math.floor((s-n)/1e3);return i<60?"just now":i<3600?`${Math.floor(i/60)}m ago`:i<86400?`${Math.floor(i/3600)}h ago`:i<2592e3?`${Math.floor(i/86400)}d ago`:i<31536e3?`${Math.floor(i/2592e3)}mo ago`:`${Math.floor(i/31536e3)}y ago`},Av=({comments:o=[],onAddComment:s,onDeleteComment:n,onReplyToComment:i,authUser:c,isCommentOwner:l})=>{const[u,f]=N.useState(null),[g,p]=N.useState(""),[y,v]=N.useState(new Set),w=I=>{v(L=>{const M=new Set(L);return M.has(I)?M.delete(I):M.add(I),M})},k=async I=>{g.trim()&&(await i(I,g),p(""),f(null))},E=(I,L=0)=>{const M=I.replies&&I.replies.length>0,U=y.has(I.id);return e.jsx("div",{className:`${L>0?"ml-8 border-l-2 border-gray-100 pl-4":""}`,children:e.jsxs("div",{className:"flex gap-3 group",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-gray-600 font-medium text-xs",children:(I.author_name||"User").charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"bg-gray-50 rounded-2xl px-4 py-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm",children:I.author_name||"Anonymous"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:yo(I.created_at)}),l(I)&&e.jsx("button",{onClick:()=>n(I.id),className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-red-600 transition-all",children:e.jsx(us,{className:"w-3 h-3"})})]})]}),e.jsx("div",{className:"text-gray-700 text-sm leading-relaxed",children:I.content})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 ml-4",children:[c&&L<3&&e.jsxs("button",{onClick:()=>f(u===I.id?null:I.id),className:"text-xs text-gray-500 hover:text-blue-600 transition-colors flex items-center gap-1",children:[e.jsx(Bp,{className:"w-3 h-3"}),"Reply"]}),M&&e.jsxs("button",{onClick:()=>w(I.id),className:"text-xs text-gray-500 hover:text-blue-600 transition-colors flex items-center gap-1",children:[e.jsx(hr,{className:"w-3 h-3"}),U?"Hide":"Show"," ",I.replies.length," ",I.replies.length===1?"reply":"replies"]})]}),u===I.id&&c&&e.jsx("div",{className:"mt-3 ml-4",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 font-medium text-xs",children:c.email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Pf,{value:g,onChange:p,placeholder:`Reply to ${I.author_name}...`,className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 text-sm",onSubmit:()=>k(I.id)}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>f(null),className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-800",children:"Cancel"}),e.jsx("button",{onClick:()=>k(I.id),disabled:!g.trim(),className:"px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 disabled:opacity-50",children:"Reply"})]})]})]})}),M&&U&&e.jsx("div",{className:"mt-4 space-y-3",children:I.replies.map(D=>E(D,L+1))})]})]})},I.id)};return e.jsx("div",{className:"space-y-4",children:o.length===0?e.jsx("div",{className:"text-center py-6 text-gray-500 text-sm",children:"No comments yet. Be the first to comment!"}):o.map(I=>E(I))})},Iv=({className:o="w-5 h-5"})=>e.jsx("svg",{className:o,viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})}),Rv=({className:o="w-5 h-5"})=>e.jsx("svg",{className:o,viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),$v=({className:o="w-5 h-5"})=>e.jsx("svg",{className:o,viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),Dv=({className:o="w-5 h-5"})=>e.jsx("svg",{className:o,viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.465 3.488"})}),Ov=({className:o="w-5 h-5"})=>e.jsxs("svg",{className:o,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[e.jsx("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),e.jsx("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]}),Lv=({categories:o,selectedCategory:s,onCategoryChange:n,required:i=!1})=>{const[c,l]=N.useState(!1),[u,f]=N.useState(""),g=N.useRef(null);N.useEffect(()=>{const w=k=>{g.current&&!g.current.contains(k.target)&&l(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const p=o.filter(w=>w.name.toLowerCase().includes(u.toLowerCase())),y=s&&o.find(w=>w.id===s)?.name||"Select a category",v=w=>{const k=w.name.toLowerCase();return k.includes("automation")||k.includes("auto")?"":k.includes("manual")?"":k.includes("api")?"":k.includes("performance")||k.includes("load")?"":k.includes("security")?"":k.includes("mobile")?"":k.includes("interview")||k.includes("career")?"":k.includes("certification")||k.includes("course")?"":k.includes("beginner")||k.includes("fresher")?"":k.includes("tool")||k.includes("management")?"":k.includes("devops")||k.includes("ci/cd")?"":k.includes("bug")||k.includes("tracking")?"":k.includes("ai")||k.includes("artificial")?"":k.includes("job")||k.includes("opening")?"":k.includes("contest")||k.includes("challenge")?"":k.includes("practice")||k.includes("process")?"":k.includes("help")||k.includes("support")?"":k.includes("event")||k.includes("meetup")?"":""};return e.jsxs("div",{className:"relative",ref:g,children:[e.jsxs("button",{type:"button",onClick:()=>l(!c),className:`flex items-center justify-between w-full px-4 py-3 bg-white border rounded-lg transition-all duration-200 ${s?"border-[#FF6600] ring-2 ring-[#FF6600]/20":"border-gray-300 hover:border-[#FF6600] focus:ring-2 focus:ring-[#FF6600] focus:border-transparent"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ef,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:`truncate ${s?"text-gray-900 font-medium":"text-gray-500"}`,children:y}),i&&!s&&e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(ko,{className:`w-4 h-4 text-gray-500 transition-transform duration-200 ${c?"rotate-180":""}`})]}),c&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-xl z-50 max-h-80 overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b border-gray-100",children:e.jsxs("div",{className:"relative",children:[e.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search categories...",value:u,onChange:w=>f(w.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-md focus:ring-2 focus:ring-[#FF6600] focus:border-transparent text-sm"})]})}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[p.map(w=>{const k=s===w.id;return e.jsxs("button",{type:"button",onClick:()=>{n(w.id),l(!1),f("")},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors flex items-center gap-3 ${k?"bg-[#FF6600] text-white hover:bg-[#E55A00]":"text-gray-700"}`,children:[e.jsx("span",{className:"text-lg",children:v(w)}),e.jsx("span",{className:"font-medium truncate flex-1",children:w.name}),k&&e.jsx(Zc,{className:"w-4 h-4 flex-shrink-0"})]},w.id)}),p.length===0&&u&&e.jsxs("div",{className:"px-4 py-6 text-center text-gray-500 text-sm",children:['No categories found matching "',u,'"']})]})]})]})},Fv=({value:o,onChange:s,placeholder:n="Write your content..."})=>{const[i,c]=N.useState(!1),l=N.useRef(null),u=(p,y="")=>{const v=l.current,w=v.selectionStart,k=v.selectionEnd,E=o.substring(w,k),I=o.substring(0,w)+p+E+y+o.substring(k);s(I),setTimeout(()=>{v.focus(),v.setSelectionRange(w+p.length,w+p.length+E.length)},0)},f=p=>{switch(p){case"bold":u("**","**");break;case"italic":u("*","*");break;case"code":u("`","`");break;case"codeblock":u("\n```\n","\n```\n");break;case"link":u("[","](url)");break;case"list":u(`
- `,"");break;case"orderedlist":u(`
1. `,"");break;case"quote":u(`
> `,"");break}},g=p=>p.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`(.*?)`/g,'<code class="bg-gray-100 px-1 py-0.5 rounded text-sm">$1</code>').replace(/```([\s\S]*?)```/g,'<pre class="bg-gray-100 p-3 rounded-lg overflow-x-auto"><code>$1</code></pre>').replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2" class="text-blue-600 hover:underline" target="_blank" rel="noopener noreferrer">$1</a>').replace(/^- (.+)$/gm,'<li class="ml-4">$1</li>').replace(/^(\d+)\. (.+)$/gm,'<li class="ml-4">$2</li>').replace(/^> (.+)$/gm,'<blockquote class="border-l-4 border-gray-300 pl-4 italic text-gray-600">$1</blockquote>').replace(/\n/g,"<br>");return e.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-1 p-2 bg-gray-50 border-b border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>f("bold"),className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Bold",children:e.jsx(_p,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>f("italic"),className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Italic",children:e.jsx(Ip,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>f("code"),className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Inline Code",children:e.jsx(Wm,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),e.jsx("button",{type:"button",onClick:()=>f("link"),className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Link",children:e.jsx(Rp,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>f("list"),className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Bullet List",children:e.jsx(Dp,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>f("orderedlist"),className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Numbered List",children:e.jsx($p,{className:"w-4 h-4"})}),e.jsx("button",{type:"button",onClick:()=>f("quote"),className:"p-2 hover:bg-gray-200 rounded transition-colors",title:"Quote",children:e.jsx(Up,{className:"w-4 h-4"})}),e.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),e.jsx("button",{type:"button",onClick:()=>f("codeblock"),className:"px-3 py-1 text-xs bg-gray-200 hover:bg-gray-300 rounded transition-colors",title:"Code Block",children:"```"}),e.jsx("div",{className:"ml-auto flex items-center gap-2",children:e.jsx("button",{type:"button",onClick:()=>c(!i),className:`px-3 py-1 text-xs rounded transition-colors ${i?"bg-blue-100 text-blue-700":"bg-gray-200 hover:bg-gray-300"}`,children:i?"Edit":"Preview"})})]}),e.jsx("div",{className:"min-h-[200px]",children:i?e.jsx("div",{className:"p-4 prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:g(o)}}):e.jsx("textarea",{ref:l,value:o,onChange:p=>s(p.target.value),placeholder:n,className:"w-full h-48 p-4 border-0 resize-none focus:outline-none"})}),e.jsx("div",{className:"px-4 py-2 bg-gray-50 border-t border-gray-200 text-xs text-gray-600",children:e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsx("span",{children:"**bold**"}),e.jsx("span",{children:"*italic*"}),e.jsx("span",{children:"`code`"}),e.jsx("span",{children:"[link](url)"}),e.jsx("span",{children:"- list"}),e.jsx("span",{children:"1. numbered"}),e.jsx("span",{children:"> quote"})]})})]})},Mv=({isOpen:o,onClose:s,categories:n=[],onPostCreated:i})=>{const[c,l]=N.useState({title:"",content:"",category_id:"",image_url:"",is_anonymous:!1,author_name:"",experience_years:""}),[u,f]=N.useState(!1),[g,p]=N.useState(!1),[y,v]=N.useState([]),[w,k]=N.useState(null),[E,I]=N.useState(!0),[L,M]=N.useState(""),[U,R]=N.useState(!1),[D,te]=N.useState(!1),[re,ae]=N.useState(!1);Ln(o),N.useEffect(()=>{let oe=!0;const de=async()=>{if(!G){I(!1),v([]);return}try{if(n.length===0){const{data:j,error:_}=await G.from("forum_categories").select("*").eq("is_active",!0).order("name");if(!_&&j&&j.length>0)v(j),console.log("Loaded categories directly:",j);else{console.warn("No categories found, will load from database");const{data:A,error:z}=await G.from("forum_categories").select("*").order("name");!z&&A&&A.length>0?(v(A),console.log("Loaded all categories:",A)):(console.error("Failed to load categories:",z),v([]))}}const{data:ee}=await G.auth.getUser();oe&&(k(ee?.user||null),ee?.user&&l(j=>j.author_name===""?{...j,author_name:ee.user.email?.split("@")[0]||""}:j));const{data:{subscription:B}}=G.auth.onAuthStateChange((j,_)=>{k(_?.user||null),_?.user&&l(A=>A.author_name===""?{...A,author_name:_.user.email?.split("@")[0]||""}:A)});de._sub=B}catch(ee){console.error("Auth init error:",ee)}finally{I(!1)}};return de(),()=>{oe=!1;try{de._sub&&de._sub.unsubscribe()}catch{}}},[n]);const be=oe=>{try{localStorage.setItem("last_post_error",JSON.stringify({time:new Date().toISOString(),error:oe}))}catch(de){console.debug("persist last post error failed",de?.message||de)}},V=async oe=>{if(oe.preventDefault(),!c.title.trim()||!c.content.trim()||!c.category_id){H.error("Please fill in all required fields");return}if(!G){H.error("Database connection required to create posts");return}try{f(!0);const{data:de}=await G.auth.getUser(),ee=de?.user||null;if(!ee){te(!0);return}const B=c.category_id,j=n.length>0?n:y;if(console.log("Debug - Selected category_id:",B),console.log("Debug - Available categories:",j),!B){H.error("Please select a category"),f(!1);return}const _=j.find($=>$.id===B);if(!_&&j.length>0){console.error("Category not found in available categories"),H.error("Please select a valid category"),f(!1);return}if(j.length===0&&!B){H.error("Please wait for categories to load or contact support"),f(!1);return}console.log("Debug - Using category:",_),console.log("Debug - Inserting post with category_id:",B);const{data:A,error:z}=await G.from("forum_posts").insert([{title:c.title.trim(),content:c.content.trim(),category_id:B,user_id:ee.id,author_name:c.is_anonymous?"Anonymous":c.author_name||ee.email?.split("@")[0]||"User",image_url:c.image_url||null,status:"active"}]).select();if(z)throw z;console.log(" Post created successfully in database"),H.success("Post created successfully!");const S=j.find($=>$.id===B)?.name||"Unknown";try{Bt.community.postCreate(S)}catch($){console.warn("Analytics tracking failed:",$)}if(l({title:"",content:"",category_id:"",image_url:"",is_anonymous:!1,author_name:"",experience_years:""}),i){console.log(" Triggering post refresh...");try{i()}catch($){console.warn("Post refresh failed:",$)}}setTimeout(()=>{try{s&&s()}catch($){console.warn("Modal close failed:",$)}},100)}catch(de){console.error("Error creating post:",de),be(de);const ee=de?.message||de?.error||de?.details||String(de)||"Failed to create post. Please try again.";H.error(ee)}finally{f(!1)}},le=async oe=>{if(oe){if(!oe.type.startsWith("image/")){H.error("Please select a valid image file");return}if(oe.size>5*1024*1024){H.error("File size must be less than 5MB");return}if(!G){H.error("Backend not configured");return}try{p(!0);const de=Date.now(),ee=Math.random().toString(36).substring(2,15),B=oe.name.split(".").pop().toLowerCase(),_=`forum-images/${`forum-${de}-${ee}.${B}`}`,{data:A,error:z}=await G.storage.from("testingvala-bucket").upload(_,oe,{cacheControl:"3600",upsert:!1});if(z)throw z;const{data:S}=G.storage.from("testingvala-bucket").getPublicUrl(_);l($=>({...$,image_url:S.publicUrl})),H.success("Image uploaded successfully!")}catch(de){console.error("Error uploading image:",de),H.error("Failed to upload image. Please try again.")}finally{p(!1)}}},we=async()=>{if(!L)return H.error("Please enter your email");try{R(!0);const oe=await fetch("/api/send-magic-link",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:L.trim().toLowerCase(),deviceId:"create-post-modal"})}),de=await oe.json();if(!oe.ok)throw new Error(de.error||"Failed to send magic link");ae(!0),H.success("Magic link sent  check your email");try{Bt.magicLinkSent(L.trim().toLowerCase())}catch(ee){console.warn("Analytics tracking failed:",ee)}}catch(oe){console.error("Magic link error:",oe),H.error(oe.message||"Failed to send magic link")}finally{R(!1)}},ke=async()=>{try{const{error:oe}=await G.auth.signInWithOAuth({provider:"github"});oe&&H.error(oe.message)}catch(oe){console.error("OAuth error:",oe),H.error("Failed to start GitHub login")}};return o?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-start sm:items-center justify-center z-50 p-4 overflow-hidden",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg max-w-xl w-full max-h-[90vh] sm:max-h-[85vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 bg-gradient-to-r from-[#FF6600] to-[#E55A00]",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Share Your QA Expertise"}),e.jsx("p",{className:"text-orange-100 text-sm mt-1",children:"Help the community learn from your experience"})]}),e.jsx("button",{onClick:s,className:"text-orange-200 hover:text-white transition-colors p-1 rounded-full hover:bg-white/10",children:e.jsx(Re,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-4 overflow-y-auto flex-1",style:{overscrollBehavior:"contain"},children:E?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-brand mx-auto mb-4"}),e.jsx("div",{className:"text-gray-600",children:"Checking authentication..."})]}):(!w||D)&&G?e.jsx("div",{children:re?e.jsxs("div",{className:"text-center py-6",children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Magic link sent"}),e.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Please verify your email and start posting your blogs. Learn more, grow more!"}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>{te(!1),s&&s()},className:"px-4 py-2 bg-brand text-white rounded-lg",children:"Close"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("h4",{className:"text-lg font-semibold mb-2",children:"Sign in to create a post"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"You need to sign in to submit posts. Choose a sign-in method below."}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsx("input",{type:"email",placeholder:"Your email",value:L,onChange:oe=>{M(oe.target.value)},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand focus:border-transparent"}),L.trim()!==""&&e.jsx("div",{className:"text-sm text-[#0f172a]",children:"Verify your email to start posting and inspire others!"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:we,className:"flex-1 bg-brand text-white px-4 py-3 rounded-lg",disabled:U,children:U?"Sending...":"Send"}),e.jsx("button",{onClick:ke,className:"flex-1 bg-gray-800 text-white px-4 py-3 rounded-lg",children:"Sign in with GitHub"})]})]}),e.jsx("div",{className:"text-sm text-gray-500",children:"After signing in you'll be able to submit your post. Close this dialog and continue once authenticated."})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("form",{id:"create-post-form",onSubmit:V,className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-orange-50 p-4 rounded-xl border border-blue-200",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Author Identity"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"anonymous",checked:c.is_anonymous,onChange:oe=>l(de=>({...de,is_anonymous:oe.target.checked})),className:"w-4 h-4 text-[#FF6600] bg-gray-100 border-gray-300 rounded focus:ring-[#FF6600] focus:ring-2"}),e.jsx("label",{htmlFor:"anonymous",className:"text-sm font-medium text-gray-700",children:"Post anonymously"})]}),!c.is_anonymous&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Display Name"}),e.jsx("input",{type:"text",value:c.author_name,onChange:oe=>l(de=>({...de,author_name:oe.target.value})),placeholder:"How should your name appear?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF6600] focus:border-transparent text-sm",maxLength:50})]}),!c.is_anonymous&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years of Experience (Optional)"}),e.jsxs("select",{value:c.experience_years||"",onChange:oe=>l(de=>({...de,experience_years:oe.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF6600] focus:border-transparent text-sm",children:[e.jsx("option",{value:"",children:"Select experience"}),e.jsx("option",{value:"0-1",children:"0-1 years (Fresher)"}),e.jsx("option",{value:"1-3",children:"1-3 years (Junior)"}),e.jsx("option",{value:"3-5",children:"3-5 years (Mid-level)"}),e.jsx("option",{value:"5-8",children:"5-8 years (Senior)"}),e.jsx("option",{value:"8-12",children:"8-12 years (Lead)"}),e.jsx("option",{value:"12+",children:"12+ years (Expert)"})]})]}),e.jsx("div",{className:"text-xs text-gray-600 bg-white p-2 rounded border",children:c.is_anonymous?e.jsx("span",{className:"text-orange-600",children:' Your post will appear as "Anonymous" - your identity will be completely hidden'}):e.jsxs("span",{className:"text-blue-600",children:[' Your post will show as "',c.author_name||w?.email?.split("@")[0]||"Your Name",'"',c.experience_years?` (${c.experience_years} experience)`:""]})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(()=>{const oe=n.length>0?n:y;return oe.length===0?e.jsx("div",{className:"text-red-600 text-sm py-2",children:"No categories available. Please contact an administrator to set up forum categories."}):e.jsx(Lv,{categories:oe,selectedCategory:c.category_id,onCategoryChange:de=>l(ee=>({...ee,category_id:de})),required:!0})})()]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Post Title *"}),e.jsx("input",{type:"text",value:c.title,onChange:oe=>l(de=>({...de,title:oe.target.value})),placeholder:"What's your QA insight or question?",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF6600] focus:border-transparent",maxLength:100,required:!0}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c.title.length,"/100 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Post Content *"}),e.jsx(Fv,{value:c.content,onChange:oe=>l(de=>({...de,content:oe})),placeholder:"Share your testing experience, ask questions, or discuss QA best practices...\\n\\nTips:\\n Be specific and detailed\\n Include examples when possible\\n Ask clear, focused questions\\n Share what you've tried\\n\\nUse markdown for formatting: **bold**, *italic*, `code`, [links](url)"}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c.content.length,"/2000 characters"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Image (Optional)"}),e.jsxs("div",{className:"space-y-3",children:[c.image_url&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:c.image_url,alt:"Post preview",className:"w-full h-32 object-cover rounded-lg border border-gray-300"}),e.jsx("button",{type:"button",onClick:()=>l(oe=>({...oe,image_url:""})),className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",children:e.jsx(Re,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 transition-colors bg-white",children:[e.jsx(Tp,{className:"w-4 h-4 text-[#FF6600]"}),e.jsx("span",{className:"text-sm font-medium",children:"Choose Image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:oe=>{const de=oe.target.files?.[0];de&&le(de)},className:"hidden"})]}),g&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-[#FF6600]"}),"Uploading..."]})]}),e.jsx("div",{className:"text-xs text-gray-500",children:" Screenshots, diagrams, or code examples help illustrate your point"})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 left-0 right-0 bg-white p-4 border-t border-gray-200 flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-gray-500",children:" Posts are published immediately"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",form:"create-post-form",disabled:u,className:"px-6 py-2 bg-[#FF6600] text-white rounded-lg font-medium hover:bg-[#E55A00] transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shadow-sm",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(qp,{className:"w-4 h-4"}),"Publish Post"]})})]})]})]})})]})}):null},Uv=({isOpen:o,onClose:s,post:n,user:i})=>{const[c,l]=N.useState([]),[u,f]=N.useState(""),[g,p]=N.useState(!1),[y,v]=N.useState(""),[w,k]=N.useState(""),[E,I]=N.useState(!1),[L,M]=N.useState(!1),[U,R]=N.useState(null);if(Ln(o),!i?.id||!i?.email_confirmed_at||!n?.id)return null;N.useEffect(()=>{o&&i?.email_confirmed_at&&c.length===0&&D()},[o,i,c.length]);const D=async()=>{if(!G){l([]);return}try{R(null);const{data:V,error:le}=await G.from("user_boards").select("*").eq("user_id",i.id).order("created_at",{ascending:!1});if(le){if(le.code==="PGRST116"||le.message?.includes('relation "user_boards" does not exist')){R("Boards feature not set up");return}throw le}l(V||[])}catch(V){console.error("Error loading boards:",V),R("Failed to load boards")}},te=async()=>{if(!y.trim()){H.error("Board name is required");return}M(!0);try{const{data:V,error:le}=await G.from("user_boards").insert({user_id:i.id,name:y.trim(),description:w.trim()||null,is_private:E}).select().single();if(le)throw le;l(we=>[V,...we]),f(V.id),p(!1),v(""),k(""),I(!1),H.success("Board created successfully!",{duration:3e3,style:{background:"#F0FDF4",color:"#166534",border:"1px solid #BBF7D0"}})}catch(V){console.error("Error creating board:",V),H.error("Failed to create board. Please try again.",{duration:4e3,style:{background:"#FEF2F2",color:"#DC2626",border:"1px solid #FECACA"}})}finally{M(!1)}},re=async(V,le)=>{try{const{data:we,error:ke}=await G.from("board_pins").select("id").eq("board_id",V).eq("post_id",le).single();if(ke&&ke.code!=="PGRST116")throw ke;return we}catch(we){if(we.code==="PGRST116")return null;throw we}},ae=async(V,le)=>{const we=le.title||le.post_title||"Untitled Post",ke=le.content||le.post_content||le.description||"No content available",oe=le.user_profiles?.full_name||le.user_profiles?.username||le.author_name||le.author||"Anonymous",de=le.category_name||le.forum_categories?.name||le.category||"General",ee=le.image_url||le.post_image_url||le.imageUrl||le.image||null,B={board_id:V,post_id:String(le.id||`post_${Date.now()}`),post_title:we.trim()||"Untitled Post",post_content:ke.trim()||"No content available",post_author:oe.trim()||"Anonymous",post_category:de.trim()||"General",post_image_url:ee};console.log("Inserting save data:",B);const{error:j}=await G.from("board_pins").insert(B);if(j)throw j},be=async()=>{if(!u){H.error("Please select a board");return}if(!n?.id){H.error("Invalid post data");return}if(!n.title&&!n.content){H.error("Post appears to be empty");return}M(!0);try{if(await re(u,n.id)){const we=c.find(ke=>ke.id===u)?.name||"this board";H.error(`This content is already saved to ${we}`,{duration:4e3,style:{background:"#FEF2F2",color:"#DC2626",border:"1px solid #FECACA"}}),M(!1);return}await ae(u,n);const le=c.find(we=>we.id===u)?.name||"board";H.success(`Successfully saved to ${le}!`,{duration:3e3,style:{background:"#F0FDF4",color:"#166534",border:"1px solid #BBF7D0"}}),setTimeout(()=>{D()},500),s()}catch(V){console.error("Error saving post:",V),H.error("Failed to save post. Please try again.",{duration:4e3,style:{background:"#FEF2F2",color:"#DC2626",border:"1px solid #FECACA"}})}finally{M(!1)}};return o?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100000] p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] flex flex-col relative z-[100001]",children:[e.jsx("div",{className:"flex-shrink-0 p-6 border-b border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[e.jsx(zt,{className:"w-5 h-5 text-blue-600"}),"Save Post"]}),e.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(Re,{className:"w-5 h-5"})})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2 text-sm leading-tight",children:e.jsx("span",{className:"block line-clamp-1",title:n?.title||"Untitled Post",children:n?.title||"Untitled Post"})}),e.jsx("div",{className:"text-xs text-gray-600 mb-2",children:e.jsx("p",{className:"line-clamp-2 leading-relaxed break-words",title:n?.content||n?.description||n?.post_content||"No content available",children:(()=>{const V=n?.content||n?.description||n?.post_content||"No content available";return V.length>80?V.substring(0,80)+"...":V})()})}),e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full truncate max-w-[80px]",title:n?.category_name||n?.forum_categories?.name||"General",children:n?.category_name||n?.forum_categories?.name||"General"})})]}),g?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Board Name *"}),e.jsx("input",{type:"text",value:y,onChange:V=>v(V.target.value),placeholder:"e.g., Testing Resources",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm",maxLength:40})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Description (Optional)"}),e.jsx("textarea",{value:w,onChange:V=>k(V.target.value),placeholder:"Brief description...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-sm",rows:2,maxLength:100})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"private-board",checked:E,onChange:V=>I(V.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500 flex-shrink-0"}),e.jsxs("label",{htmlFor:"private-board",className:"text-sm text-gray-700 flex items-center gap-2",children:[E?e.jsx(Ar,{className:"w-4 h-4 flex-shrink-0"}):e.jsx(lt,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:"Make this board private"})]})]}),e.jsx("div",{className:`p-2.5 rounded-lg border ${E?"bg-orange-50 border-orange-200":"bg-blue-50 border-blue-200"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[E?e.jsx(Ar,{className:"w-3.5 h-3.5 text-orange-600 mt-0.5 flex-shrink-0"}):e.jsx(lt,{className:"w-3.5 h-3.5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs flex-1 min-w-0",children:[e.jsx("p",{className:`font-medium mb-0.5 ${E?"text-orange-800":"text-blue-800"}`,children:E?"Private":"Public"}),e.jsx("p",{className:`leading-relaxed line-clamp-2 ${E?"text-orange-700":"text-blue-700"}`,children:E?"Only you can see this board.":"All users can view this board."})]})]})})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-3",children:"Choose Board"}),c.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(zt,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No boards yet. Create your first board below!"})]}):e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2 -mr-2",children:c.map(V=>e.jsxs("label",{className:"flex items-start p-2.5 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[e.jsx("input",{type:"radio",name:"board",value:V.id,checked:u===V.id,onChange:le=>f(le.target.value),className:"w-4 h-4 text-blue-600 border-gray-300 focus:ring-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"ml-2.5 flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[e.jsx("span",{className:"font-medium text-gray-900 text-sm line-clamp-1",title:V.name,children:V.name}),V.is_private?e.jsx(Ar,{className:"w-3 h-3 text-gray-500 flex-shrink-0"}):e.jsx(lt,{className:"w-3 h-3 text-gray-500 flex-shrink-0"})]}),V.description&&e.jsx("p",{className:"text-xs text-gray-500 line-clamp-1 break-words",title:V.description,children:V.description.length>50?V.description.substring(0,50)+"...":V.description})]})]},V.id))})]}),U&&e.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Xe,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-red-600 mb-1",children:"Error"}),e.jsx("p",{className:"text-sm text-red-600 break-words",children:U}),U.includes("not set up")&&e.jsx("p",{className:"text-xs text-red-500 mt-2",children:"Please run the database setup script first."})]})]})}),e.jsxs("button",{onClick:()=>p(!0),disabled:L,className:"w-full mb-4 p-3 border-2 border-dashed border-blue-300 rounded-lg text-blue-600 hover:border-blue-500 hover:bg-blue-50 transition-all duration-200 flex items-center justify-center gap-2 font-medium disabled:opacity-50 text-sm",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Create New Board"]})]})]}),!g&&e.jsx("div",{className:"flex-shrink-0 p-6 border-t border-gray-100 bg-gray-50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:s,className:"flex-1 px-6 py-3 text-gray-700 border border-gray-300 rounded-xl hover:bg-gray-50 transition-all duration-200 font-medium",children:"Cancel"}),e.jsx("button",{onClick:be,disabled:!u||L,className:"flex-1 px-6 py-3 bg-[#0057B7] text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium shadow-lg hover:shadow-xl",children:L?e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"truncate",children:"Saving..."})]}):e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Save Post"})]})})]})}),g&&e.jsx("div",{className:"flex-shrink-0 p-6 border-t border-gray-100 bg-gray-50",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{p(!1),v(""),k(""),I(!1)},disabled:L,className:"flex-1 px-4 py-3 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 font-medium",children:"Back"}),e.jsx("button",{onClick:te,disabled:!y.trim()||L,className:"flex-1 px-4 py-3 bg-[#0057B7] text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2 font-medium",children:L?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"truncate",children:"Creating..."})]}):e.jsx("span",{className:"truncate",children:"Create Board"})})]})})]})}):null},Bv=({categories:o,selectedCategory:s,onCategoryChange:n})=>{const[i,c]=N.useState(!1),[l,u]=N.useState(""),f=N.useRef(null);N.useEffect(()=>{const y=v=>{f.current&&!f.current.contains(v.target)&&c(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const g=o.filter(y=>y.name.toLowerCase().includes(l.toLowerCase())),p=s==="all"?"All Categories":o.find(y=>y.id===s)?.name||"Select Category";return e.jsxs("div",{className:"relative",ref:f,children:[e.jsxs("button",{onClick:()=>c(!i),className:"flex items-center justify-between w-full px-4 py-3 bg-white border border-gray-300 rounded-lg hover:border-[#FF6600] focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all duration-200 min-w-[200px]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ef,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-700 font-medium truncate",children:p})]}),e.jsx(ko,{className:`w-4 h-4 text-gray-500 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-80 overflow-hidden",children:[e.jsx("div",{className:"p-3 border-b border-gray-100",children:e.jsxs("div",{className:"relative",children:[e.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search categories...",value:l,onChange:y=>u(y.target.value),className:"w-full pl-9 pr-3 py-2 border border-gray-200 rounded-md focus:ring-2 focus:ring-[#FF6600] focus:border-transparent text-sm"})]})}),e.jsxs("div",{className:"max-h-60 overflow-y-auto",children:[e.jsx("button",{onClick:()=>{n("all"),c(!1),u("")},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors ${s==="all"?"bg-[#FF6600] text-white hover:bg-[#E55A00]":"text-gray-700"}`,children:e.jsx("span",{className:"font-medium",children:"All Categories"})}),g.map(y=>{const v=s===y.id;return e.jsx("button",{onClick:()=>{n(y.id),c(!1),u("")},className:`w-full px-4 py-3 text-left hover:bg-gray-50 transition-colors ${v?"bg-[#FF6600] text-white hover:bg-[#E55A00]":"text-gray-700"}`,children:e.jsx("span",{className:"font-medium truncate",children:y.name})},y.id)}),g.length===0&&l&&e.jsxs("div",{className:"px-4 py-6 text-center text-gray-500 text-sm",children:['No categories found matching "',l,'"']})]})]})]})},zv=({filterType:o,onFilterChange:s,authUser:n})=>{const[i,c]=N.useState(!1),l=N.useRef(null),u=[{value:"recent",label:"Recent",icon:qt,description:"Latest posts first"},{value:"trending",label:"Trending",icon:xo,description:"Popular this week"},{value:"hot",label:"Hot Today",icon:zs,description:"Most active today"},...n?[{value:"my-posts",label:"My Posts",icon:hs,description:"Posts you created"}]:[]],f=u.find(p=>p.value===o);N.useEffect(()=>{const p=y=>{l.current&&!l.current.contains(y.target)&&c(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const g=p=>{s(p),c(!1)};return e.jsxs("div",{className:"relative",ref:l,children:[e.jsxs("button",{onClick:()=>c(!i),className:"flex items-center gap-3 px-4 py-3 bg-white border border-gray-300 rounded-lg hover:border-[#FF6600] focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all duration-200 min-w-[160px]",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[f&&e.jsx(f.icon,{className:"w-4 h-4 text-[#FF6600]"}),e.jsx("span",{className:"font-medium text-gray-900",children:f?.label})]}),e.jsx(ko,{className:`w-4 h-4 text-gray-500 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-50 overflow-hidden",children:u.map(p=>e.jsxs("button",{onClick:()=>g(p.value),className:`w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-150 ${o===p.value?"bg-[#FF6600]/5 border-r-2 border-[#FF6600]":""}`,children:[e.jsx(p.icon,{className:`w-4 h-4 ${o===p.value?"text-[#FF6600]":"text-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`font-medium ${o===p.value?"text-[#FF6600]":"text-gray-900"}`,children:p.label}),e.jsx("div",{className:"text-xs text-gray-500",children:p.description})]}),o===p.value&&e.jsx("div",{className:"w-2 h-2 bg-[#FF6600] rounded-full"})]},p.value))})]})},_m=({postId:o,initialDbCount:s})=>{const[n,i]=N.useState(s||0),[c,l]=N.useState(!1),[u,f]=N.useState(!1),g=async()=>{if(!u){f(!0);try{c?(i(p=>Math.max(0,p-1)),l(!1)):(i(p=>p+1),l(!0))}catch(p){console.error("Like error:",p)}finally{f(!1)}}};return e.jsxs("button",{onClick:g,disabled:u,className:`group flex items-center gap-2.5 px-5 py-2.5 rounded-xl font-medium text-sm transition-all duration-200 ${c?"bg-red-50 text-red-700 border border-red-200 shadow-sm":"text-gray-600 hover:bg-red-50 hover:text-red-600 border border-transparent hover:border-red-200"}`,children:[e.jsx(Bs,{className:`w-4 h-4 transition-all duration-200 ${c?"fill-red-500 text-red-500 scale-110":"group-hover:scale-110"}`}),e.jsx("span",{className:"font-semibold tabular-nums",children:n}),e.jsxs("span",{className:"hidden sm:inline",children:["Like",n!==1?"s":""]})]})},Sm=({content:o,postId:s,expandedPosts:n,setExpandedPosts:i})=>{const c=n.has(s),l=280;if(!o||o.trim().length===0)return e.jsx("p",{className:"text-gray-500 italic mb-3",children:"No content available"});const u=o.length>l,f=u&&!c?o.slice(0,l).trim():o,g=()=>{i(p=>{const y=new Set(p);return c?y.delete(s):y.add(s),y})};return e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"text-gray-700 leading-relaxed transition-all duration-300",style:{display:u&&!c?"-webkit-box":"block",WebkitLineClamp:u&&!c?3:"unset",WebkitBoxOrient:"vertical",overflow:u&&!c?"hidden":"visible",lineHeight:"1.6"},children:[f,u&&!c&&e.jsx("span",{className:"text-gray-400",children:"..."})]}),u&&e.jsx("button",{onClick:g,className:"mt-2 text-[#0057B7] hover:text-[#FF6600] font-semibold text-sm transition-all duration-200 flex items-center gap-1.5 group bg-blue-50 hover:bg-orange-50 px-3 py-1.5 rounded-full border border-blue-200 hover:border-orange-200",children:c?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Show less"}),e.jsx("svg",{className:"w-3.5 h-3.5 transform rotate-180 group-hover:-translate-y-0.5 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 9l-7 7-7-7"})})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Read more"}),e.jsx("svg",{className:"w-3.5 h-3.5 group-hover:translate-y-0.5 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M19 9l-7 7-7-7"})})]})})]})},qv=()=>{N.useMemo(()=>{try{const b=localStorage.getItem("force_clear_posts"),W=localStorage.getItem("posts_cleared_by_admin");if(b&&(localStorage.removeItem("local_forum_posts"),localStorage.removeItem("force_clear_posts"),console.log("Force cleared localStorage posts")),W){const X=parseInt(W);Date.now()-X<1440*60*1e3&&(localStorage.removeItem("local_forum_posts"),localStorage.removeItem("posts_cleared_by_admin"),console.log("Admin cleared localStorage posts"))}}catch(b){console.warn("Cleanup error:",b)}},[]);const{data:o}=Ha(),{posts:s,categories:n,loading:i}=Sv(),{winners:c}=Cf(),{events:l,loading:u}=Sf(),[f,g]=N.useState(!1),[p,y]=N.useState(!1),[v,w]=N.useState([]),[k,E]=N.useState("all"),[I,L]=N.useState(""),[M,U]=N.useState(!1),[R,D]=N.useState([]),[te,re]=N.useState(!1),[ae,be]=N.useState(!0),[V,le]=N.useState(null),[we,ke]=N.useState(!1),[oe,de]=N.useState("comment"),[ee,B]=N.useState(null),[j,_]=N.useState(""),[A,z]=N.useState({}),[S,$]=N.useState(new Set),[se,xe]=N.useState(null),[Q,he]=N.useState(""),[Ce,Ee]=N.useState({}),[Le,ct]=N.useState({}),[Wt,gs]=N.useState({}),[ps,Fn]=N.useState(""),[Ao,Qa]=N.useState(null),[Ga,Io]=N.useState(null),[Vt,sr]=N.useState(null),[nr,Rr]=N.useState(null),[Ws,xs]=N.useState(null),[$r,ys]=N.useState(null),[ar,Dr]=N.useState(null),[fr,Or]=N.useState(null),[Vs,Ja]=N.useState({}),[Mn,Un]=N.useState(0);Ln($r||Ws||Vt);const[Ht,Hs]=N.useState("recent"),[Qt,Bn]=N.useState("feed"),[wt,vs]=N.useState(new Set),[gr,pr]=N.useState(null),[zn,qn]=N.useState(new Set),[Ka,Wn]=N.useState(null),[Vn,Hn]=N.useState(new Map),[Qn,xr]=N.useState(!1);N.useEffect(()=>{let b=!0,W=null;(async()=>W||(W=(async()=>{try{const Ne=localStorage.getItem("force_clear_posts"),Ae=localStorage.getItem("posts_cleared_by_admin");if((Ne||Ae&&Date.now()-parseInt(Ae)<1440*60*1e3)&&(localStorage.removeItem("local_forum_posts"),localStorage.removeItem("force_clear_posts"),Ae&&Date.now()-parseInt(Ae)<1440*60*1e3&&localStorage.removeItem("posts_cleared_by_admin")),n.length===0&&!i&&G)try{const{data:ie,error:_e}=await G.from("forum_categories").select("*").order("name");!_e&&ie&&ie.length>0?(w(ie),console.log("Loaded fallback categories:",ie)):(console.warn("No categories found in database"),w([]))}catch(ie){console.error("Error loading categories:",ie),w([])}b&&await Ya()}catch(Ne){console.error("Component initialization error:",Ne)}})(),W))();const fe=Ne=>{const Ae=Ne.detail.postId;js(Ae)};return window.addEventListener("highlightPost",fe),()=>{b=!1,W=null,window.removeEventListener("highlightPost",fe)}},[n,i]),N.useCallback(async()=>{},[]);const Gn=async()=>{V?.email&&vs(new Set)},yr=async b=>{if(!V){B(b.id),de("pin"),ke(!0);return}wt.has(b.id)?(vs(X=>{const fe=new Set(X);return fe.delete(b.id),fe}),H.success("Post unpinned!")):(vs(X=>new Set([...X,b.id])),H.success("Post pinned!"))},Ya=async()=>{try{const{data:{user:b}}=await G.auth.getUser();le(b),!b&&Ht==="my-posts"&&Hs("recent"),b?(Gn(),Lr(),Do()):Lr()}catch(b){console.error("Auth check error:",b)}},Lr=async()=>{if(!V?.email){try{const b=JSON.parse(localStorage.getItem("guest_likes")||"[]"),W=JSON.parse(localStorage.getItem("guest_like_counts")||"{}");$(new Set(b)),Ja(W)}catch{$(new Set),Ja({})}return}try{const{data:b,error:W}=await G.from("post_likes").select("post_id").eq("user_email",V.email);if(W)throw W;const X=new Set((b||[]).map(fe=>fe.post_id));$(X)}catch(b){console.error("Error loading user likes:",b),$(new Set)}},Qs=b=>{let W=[...b];if(I&&I.trim()){const Ae=I.toLowerCase();W=W.filter(ie=>ie.title?.toLowerCase().includes(Ae)||ie.content?.toLowerCase().includes(Ae))}k&&k!=="all"&&(W=W.filter(Ae=>Ae.category_id===k));const X=new Date,fe=new Date(X.getTime()-1440*60*1e3),Ne=new Date(X.getTime()-10080*60*1e3);switch(Ht){case"recent":W=W.sort((_e,$e)=>new Date($e.created_at)-new Date(_e.created_at));break;case"trending":const Ae=W.filter(_e=>new Date(_e.created_at)>=Ne),ie=W.filter(_e=>new Date(_e.created_at)<Ne).sort((_e,$e)=>new Date($e.created_at)-new Date(_e.created_at));Ae.sort((_e,$e)=>{const jt=(_e.likes_count||0)+(_e.replies_count||0);return($e.likes_count||0)+($e.replies_count||0)-jt}),W=[...Ae,...ie];break;case"hot":W=W.filter(_e=>new Date(_e.created_at)>=fe).sort((_e,$e)=>{const jt=(_e.likes_count||0)+(_e.replies_count||0);return($e.likes_count||0)+($e.replies_count||0)-jt});break;case"my-posts":V?W=W.filter(_e=>bs(_e)).sort((_e,$e)=>new Date($e.created_at)-new Date(_e.created_at)):W=[];break;default:W=W.sort((_e,$e)=>new Date($e.created_at)-new Date(_e.created_at));break}return W},Gs=()=>{ke(!1),Ya(),oe==="comment"&&ee?z(b=>({...b,[ee]:!0})):oe==="save"&&ee&&setTimeout(()=>{Rr(ee)},500),H.success("Successfully verified! You can now participate in discussions.")},bs=b=>V?!!(b.user_id===V.id||b.user_profiles?.email===V.email||b.author_name===V.email?.split("@")[0]||b.id?.startsWith("local-")&&b.user_profiles?.email===V.email||b.id?.startsWith("local-")&&!b.user_profiles?.email&&V.email):!1,[Ro,$o]=N.useState(null),Do=async()=>{if(V?.id)try{const{data:b,error:W}=await G.from("user_profiles").select("is_admin").eq("id",V.id).single();if(W){console.warn("user_profiles table not found, using email-based admin check");return}$o(b)}catch(b){console.warn("Error loading user profile, using fallback admin check:",b)}},ir=b=>["admin@testingvala.com","owner@testingvala.com"].includes(b),ws=()=>Ro?.is_admin||ir(V?.email),Jn=b=>V?bs(b)||ws():!1,Xa=b=>V?bs(b)||ws():!1,Za=b=>{xe(b.id),he(b.content),Ee({})},ei=async b=>{if(!Q.trim()){H.error("Post content cannot be empty");return}try{if(G){const{error:W}=await G.from("forum_posts").update({content:Q.trim(),updated_at:new Date().toISOString()}).eq("id",b);if(W)throw W}if(b.startsWith("local-")){const X=JSON.parse(localStorage.getItem("local_forum_posts")||"[]").map(fe=>fe.id===b?{...fe,content:Q.trim()}:fe);localStorage.setItem("local_forum_posts",JSON.stringify(X))}D(W=>W.map(X=>X.id===b?{...X,content:Q.trim()}:X)),xe(null),he(""),H.success("Post updated successfully!")}catch(W){console.error("Error updating post:",W),H.error("Failed to update post")}},ti=async b=>{const W=R.find(X=>X.id===b);ys(W)},ri=async b=>{try{if(b.startsWith("local-")){const X=JSON.parse(localStorage.getItem("local_forum_posts")||"[]").filter(fe=>fe.id!==b);localStorage.setItem("local_forum_posts",JSON.stringify(X))}else if(G){const{error:W}=await G.from("forum_posts").delete().eq("id",b);W&&console.error("Database delete error:",W)}D(W=>W.filter(X=>X.id!==b)),ys(null),H.success("Post deleted successfully!")}catch(W){console.error("Error deleting post:",W),D(X=>X.filter(fe=>fe.id!==b)),ys(null),H.success("Post removed from view")}},Kn=async b=>{if(!j.trim()){H.error("Please enter a comment");return}try{const W={id:`comment-${Date.now()}`,content:j.trim(),author_name:V.email.split("@")[0],user_email:V.email,created_at:new Date().toISOString(),replies:[]};if(G)try{const X=await addPostComment(b,j.trim(),V.email);X&&(W.id=X.id,W.author_name=X.author_name)}catch(X){console.warn("Failed to save comment to database, using local comment:",X)}gs(X=>({...X,[b]:[...X[b]||[],W]})),D(X=>X.map(fe=>fe.id===b?{...fe,replies_count:(fe.replies_count||0)+1}:fe)),_("");try{Bt.community.comment(b)}catch(X){console.warn("Analytics tracking failed:",X)}H.success("Comment added!")}catch(W){console.error("Error adding comment:",W),H.error("Failed to add comment")}},Oo=async(b,W)=>{if(!ps.trim()){H.error("Please enter a reply");return}const X={id:`reply-${W}-${Date.now()}`,text:ps.trim(),author:V.email,authorName:V.email.split("@")[0],createdAt:new Date().toISOString()};gs(fe=>({...fe,[b]:fe[b].map(Ne=>Ne.id===W?{...Ne,replies:[...Ne.replies,X]}:Ne)})),Fn(""),Qa(null),H.success("Reply added!")},We=b=>V&&(b.user_email===V.email||b.author===V.email),Lo=(b,W)=>{const X=Wt[b]?.find(fe=>fe.id===W);X&&Dr({postId:b,commentId:W,comment:X})},Yn=()=>{if(!ar)return;const{postId:b,commentId:W}=ar;gs(X=>({...X,[b]:X[b].filter(fe=>fe.id!==W)})),D(X=>X.map(fe=>fe.id===b?{...fe,replies_count:Math.max(0,(fe.replies_count||0)-1)}:fe)),Dr(null),H.success("Comment deleted!")},si=()=>{if(!fr)return;const{postId:b,commentId:W,replyId:X}=fr;gs(fe=>({...fe,[b]:fe[b].map(Ne=>Ne.id===W?{...Ne,replies:Ne.replies.filter(Ae=>Ae.id!==X)}:Ne)})),Or(null),H.success("Reply deleted!")},Ve=N.useMemo(()=>!s||s.length===0?[]:Qs(s),[s,k,Ht,I,V]);N.useEffect(()=>{const b=new Map;Ve.forEach((W,X)=>{b.set(W.id,X)}),Hn(b)},[Ve]);const js=N.useCallback(b=>{const W=Vn.get(b);if(W===void 0)return!1;xr(!0);const X=20,fe=Math.max(0,W-5),Ne=Math.min(Ve.length,fe+X);return requestAnimationFrame(()=>{D(Ve.slice(fe,Ne)),be(Ne<Ve.length),requestAnimationFrame(()=>{pr(b);const Ae=document.getElementById(`post-${b}`);Ae?(Ae.scrollIntoView({behavior:"smooth",block:"center"}),setTimeout(()=>{pr(null),xr(!1)},2e3)):xr(!1)})}),!0},[Vn,Ve]);N.useEffect(()=>{if(Ve.length===0){D([]),be(!1);return}const b=window.location.hash;if(b.startsWith("#community-post-")){const W=b.replace("#community-post-","");js(W)||(D(Ve.slice(0,5)),be(Ve.length>5))}else D(Ve.slice(0,5)),be(Ve.length>5)},[Ve,js]),N.useEffect(()=>{if(!l||l.length<=1)return;const b=setInterval(()=>{Un(W=>(W+1)%l.length)},4e3);return()=>clearInterval(b)},[l]),N.useEffect(()=>{const b=()=>{const W=window.innerHeight;R.forEach(X=>{const fe=document.getElementById(`post-${X.id}`);if(fe){const Ne=fe.getBoundingClientRect();Ne.top<W*.3&&Ne.bottom>W*.7&&Ne.bottom<100?Wn(X.id):Ne.top>W*.3&&Wn(null)}})};return window.addEventListener("scroll",b,{passive:!0}),()=>window.removeEventListener("scroll",b)},[R]),N.useEffect(()=>{const b=X=>{if(console.log("Posts updated by admin:",X.detail),X.detail?.action==="clearAll"||X.detail?.action==="forceReset")localStorage.removeItem("local_forum_posts"),localStorage.removeItem("posts_cleared_by_admin"),D([]),be(!1);else if(X.detail?.deletedPostId){const fe=X.detail.deletedPostId;D(Ne=>Ne.filter(Ae=>Ae.id!==fe))}},W=X=>{if(console.log("localStorage changed, refreshing local posts...",X),localStorage.getItem("force_clear_posts")){localStorage.removeItem("force_clear_posts"),localStorage.removeItem("local_forum_posts"),D([]),be(!1);return}const Ne=JSON.parse(localStorage.getItem("local_forum_posts")||"[]"),Ae=new Set(Ne.map(ie=>ie.id));D(ie=>ie.filter(_e=>!_e.id?.startsWith("local-")||Ae.has(_e.id)))};return window.addEventListener("storage",W),window.addEventListener("postsUpdated",b),()=>{window.removeEventListener("storage",W),window.removeEventListener("postsUpdated",b)}},[]);const ni=N.useCallback(()=>{window.location.reload()},[]),Js=N.useCallback(()=>{te||!ae||Qn||(re(!0),requestAnimationFrame(()=>{const b=R.length,W=Ve.slice(b,b+5);D(X=>[...X,...W]),be(b+5<Ve.length),re(!1)}))},[te,ae,R.length,Ve,Qn]);return e.jsx("section",{id:"community",className:"bg-gradient-to-br from-gray-50 via-white to-orange-50 pt-2 pb-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-primary text-white px-4 py-2 rounded-full text-sm font-semibold mb-3 shadow-lg",children:[e.jsx(hr,{className:"w-4 h-4"}),"Community Hub"]}),V&&ws()&&e.jsx("div",{className:"inline-flex items-center gap-2 bg-red-100 text-red-800 px-3 py-1 rounded-full text-xs font-medium mb-2",children:" Admin Mode Active"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2 bg-gradient-to-r from-gray-900 via-[#0057B7] to-[#FF6600] bg-clip-text text-transparent",children:"QA Professional Network"}),e.jsx("p",{className:"text-base text-gray-600 max-w-xl mx-auto",children:"Connect. Share. Grow."})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search posts and discussions...",value:I,onChange:b=>L(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),Qt==="feed"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hm,{className:"w-5 h-5 text-gray-500"}),e.jsx(zv,{filterType:Ht,onFilterChange:Hs,authUser:V})]}),Qt==="feed"&&e.jsx(Bv,{categories:n.length>0?n:v,selectedCategory:k,onCategoryChange:E}),e.jsxs("button",{onClick:()=>{if(!V){de("pin"),ke(!0);return}Bn(Qt==="pinned"?"feed":"pinned")},className:`px-6 py-3 rounded-lg font-semibold transition-all duration-200 flex items-center gap-2 ${Qt==="pinned"?"bg-[#FF6600] text-white shadow-md":"text-gray-600 hover:text-[#FF6600] hover:bg-orange-50 border border-gray-300"}`,children:[Qt==="pinned"?e.jsx(hr,{className:"w-5 h-5"}):e.jsx(Pn,{className:"w-5 h-5"}),Qt==="pinned"?"All Posts":`Pinned (${wt.size})`]}),e.jsxs("button",{onClick:()=>{U(!0)},className:"bg-[#FF6600] text-white px-6 py-3 rounded-lg font-semibold hover:bg-[#E55A00] transition-colors duration-200 flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:scale-105",children:[e.jsx(Ke,{className:"w-5 h-5"}),"Create Post"]})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:"flex-1 bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:Qt==="pinned"?e.jsx("div",{children:wt.size===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Pinned Posts"}),e.jsx("p",{className:"text-gray-600",children:"Pin posts from the feed to save them here for quick access!"}),e.jsx("div",{className:"mt-6",children:e.jsx("p",{className:"text-sm text-gray-500",children:"No posts pinned yet"})})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:R.filter(b=>wt.has(b.id)).map(b=>e.jsx("div",{className:"p-6 transition-all duration-500 hover:bg-gray-50 bg-amber-50/30 border-l-4 border-amber-400",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:b.user_profiles?.avatar_url?e.jsx("img",{src:b.user_profiles.avatar_url,alt:b.user_profiles.username||b.author_name,className:"w-10 h-10 rounded-md object-cover"}):e.jsx("div",{className:"w-10 h-10 rounded-md bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 font-medium text-sm",children:(b.author_name||b.user_profiles?.username||"User").charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("div",{className:"flex items-start gap-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Pn,{className:"w-4 h-4 text-amber-600 fill-amber-500"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:b.author_name||b.user_profiles?.full_name||b.user_profiles?.username||"Anonymous"}),e.jsx("span",{className:"px-2 py-0.5 bg-amber-100 text-amber-700 text-xs rounded-md font-medium",children:"Pinned"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{children:yo(b.created_at)}),e.jsx("span",{children:""}),e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded-md font-medium",children:b.category_name})]})]})})}),e.jsx("h3",{className:"text-lg font-semibold mb-3 mt-2 text-gray-900",children:b.title}),b.image_url&&e.jsx("div",{className:"mb-3 group",children:e.jsxs("div",{className:"relative inline-block cursor-pointer rounded-lg overflow-hidden border border-gray-200 bg-gray-50 hover:shadow-md transition-all duration-200",onClick:()=>xs(b.image_url),children:[e.jsx("img",{src:b.image_url,alt:"Post image",className:"max-w-sm h-auto max-h-80 object-cover block",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-200 flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Click to expand"})})]})}),e.jsx(Sm,{content:b.content,postId:b.id,expandedPosts:zn,setExpandedPosts:qn}),e.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(_m,{postId:b.id,initialDbCount:b.likes_count}),e.jsxs("span",{className:"text-sm text-gray-500",children:[(Wt[b.id]||[]).length," comments"]})]}),e.jsxs("button",{onClick:()=>yr(b),className:"text-amber-600 hover:text-amber-700 text-sm font-medium flex items-center gap-1",children:[e.jsx(Pn,{className:"w-4 h-4 fill-amber-500"}),"Unpin"]})]})})]})]})},b.id))})}):e.jsxs("div",{children:[i?e.jsx(km,{count:5}):R.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(hr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:Ht==="my-posts"&&!V?"Sign in to view your posts":Ht==="my-posts"?"No posts found":"No Posts Found"}),e.jsx("p",{className:"text-gray-600",children:Ht==="my-posts"&&!V?"Please sign in to see posts you've created.":Ht==="my-posts"?"You haven't created any posts yet. Create your first post!":"Be the first to start a discussion in this category!"}),Ht==="my-posts"&&!V&&e.jsx("button",{onClick:()=>{de("create"),ke(!0)},className:"mt-4 bg-[#FF6600] text-white px-6 py-2 rounded-lg font-semibold hover:bg-[#E55A00] transition-colors",children:"Sign In"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:R.map(b=>e.jsxs("div",{id:`post-${b.id}`,className:`p-6 transition-all duration-500 ${gr===b.id?"bg-gradient-to-r from-blue-50 to-orange-50 border-2 border-blue-300 rounded-lg shadow-lg transform scale-[1.02]":"hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:b.user_profiles?.avatar_url?e.jsx("img",{src:b.user_profiles.avatar_url,alt:b.user_profiles.username||b.author_name,className:"w-10 h-10 rounded-md object-cover"}):e.jsx("div",{className:"w-10 h-10 rounded-md bg-gray-200 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 font-medium text-sm",children:(b.author_name||b.user_profiles?.username||"User").charAt(0).toUpperCase()})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex items-start gap-3",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:b.author_name||b.user_profiles?.full_name||b.user_profiles?.username||"Anonymous"}),b.experience_years&&e.jsxs("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-md font-medium",children:[b.experience_years," exp"]}),ir(b.user_profiles?.email)&&e.jsx("span",{className:"px-2 py-0.5 bg-red-100 text-red-700 text-xs rounded-md font-medium",children:"Admin"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("span",{children:yo(b.created_at)}),e.jsx("span",{children:""}),e.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 rounded-md font-medium",children:b.category_name})]})]})}),(Xa(b)||Jn(b))&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>Ee(W=>({...W,[b.id]:!W[b.id]})),className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(Ym,{className:"w-4 h-4"})}),Ce[b.id]&&e.jsxs("div",{className:"absolute right-0 top-8 bg-white border border-gray-200 rounded-lg shadow-lg z-10 min-w-[120px]",children:[Xa(b)&&e.jsxs("button",{onClick:()=>Za(b),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[e.jsx(Mp,{className:"w-3 h-3"}),"Edit"]}),Jn(b)&&e.jsxs("button",{onClick:()=>ti(b.id),className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[e.jsx(us,{className:"w-3 h-3"}),ws()?"Admin Delete":"Delete"]})]})]})]}),e.jsx("h3",{className:`text-xl font-bold mb-3 mt-2 hover:text-[#FF6600] transition-colors cursor-pointer ${gr===b.id?"text-blue-700":"text-gray-900"}`,children:b.title}),b.image_url&&e.jsx("div",{className:"mb-3 group",children:e.jsxs("div",{className:"relative inline-block cursor-pointer rounded-lg overflow-hidden border border-gray-200 bg-gray-50 hover:shadow-md transition-all duration-200",onClick:()=>xs(b.image_url),children:[e.jsx("img",{src:b.image_url,alt:"Post image",className:"max-w-sm h-auto max-h-80 object-cover block",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-200 flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black bg-opacity-50 text-white px-3 py-1 rounded-full text-sm font-medium",children:"Click to expand"})})]})}),se===b.id?e.jsxs("div",{className:"mb-3",children:[e.jsx("textarea",{value:Q,onChange:W=>he(W.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:4}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{onClick:()=>ei(b.id),className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors",children:"Save"}),e.jsx("button",{onClick:()=>xe(null),className:"px-4 py-2 text-gray-600 text-sm hover:text-gray-800 transition-colors",children:"Cancel"})]})]}):e.jsx(Sm,{content:b.content,postId:b.id,expandedPosts:zn,setExpandedPosts:qn}),e.jsx("div",{className:"mt-6 pt-5 border-t border-gray-200",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(_m,{postId:b.id,initialDbCount:b.likes_count||0}),e.jsxs("button",{onClick:()=>ct(W=>({...W,[b.id]:!W[b.id]})),className:"group flex items-center gap-2.5 px-5 py-2.5 rounded-xl font-medium text-sm text-gray-600 hover:bg-blue-50 hover:text-blue-700 border border-transparent hover:border-blue-200 transition-all duration-200",children:[e.jsx(hr,{className:"w-4 h-4 group-hover:text-blue-600 transition-colors"}),e.jsx("span",{className:"font-semibold tabular-nums",children:(Wt[b.id]||[]).length}),e.jsxs("span",{className:"hidden sm:inline",children:["Comment",(Wt[b.id]||[]).length!==1?"s":""]})]}),e.jsxs("button",{onClick:()=>sr(b.id),className:"group flex items-center gap-2.5 px-5 py-2.5 rounded-xl font-medium text-sm text-gray-600 hover:bg-emerald-50 hover:text-emerald-700 border border-transparent hover:border-emerald-200 transition-all duration-200",children:[e.jsx(_o,{className:"w-4 h-4 group-hover:text-emerald-600 transition-colors"}),e.jsx("span",{className:"hidden sm:inline",children:"Share"})]}),e.jsxs("button",{onClick:()=>yr(b),className:`group relative flex items-center gap-2.5 px-5 py-2.5 rounded-xl font-medium text-sm transition-all duration-200 ${wt.has(b.id)?"bg-amber-50 text-amber-700 border border-amber-200 shadow-sm":"text-gray-600 hover:bg-amber-50 hover:text-amber-600 border border-transparent hover:border-amber-200"}`,title:wt.has(b.id)?"Unpin from collection":"Pin to collection",children:[e.jsx(Pn,{className:`w-4 h-4 transition-all duration-200 ${wt.has(b.id)?"fill-amber-500 text-amber-500 rotate-12":"group-hover:rotate-12"}`}),e.jsx("span",{className:"hidden sm:inline",children:wt.has(b.id)?"Pinned":"Pin"}),wt.has(b.id)&&e.jsx("div",{className:"absolute -top-0.5 -right-0.5 w-2 h-2 bg-amber-500 rounded-full ring-2 ring-white"})]}),e.jsxs("button",{onClick:()=>{V?Rr(b.id):(B(b.id),de("save"),ke(!0))},className:"group flex items-center gap-2.5 px-5 py-2.5 rounded-xl font-medium text-sm text-gray-600 hover:bg-violet-50 hover:text-violet-600 border border-transparent hover:border-violet-200 transition-all duration-200",title:"Save post",children:[e.jsx(zt,{className:"w-4 h-4 group-hover:-rotate-6 transition-all duration-200"}),e.jsx("span",{className:"hidden sm:inline",children:"Save"})]})]})})})]})]}),Le[b.id]&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[V?e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-md flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-gray-600 font-medium text-xs",children:V.email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(Pf,{value:j,onChange:_,placeholder:"Write a comment... Use @username to mention someone",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF6600] focus:border-transparent resize-none text-sm",onSubmit:()=>Kn(b.id)}),e.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[e.jsx("button",{onClick:()=>ct(W=>({...W,[b.id]:!1})),className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:()=>Kn(b.id),disabled:!j.trim(),className:"px-4 py-1.5 bg-[#FF6600] text-white text-sm rounded-lg hover:bg-[#E55A00] disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Comment"})]})]})]})}):e.jsx("div",{className:"mb-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(hr,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"Join the conversation!"}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Sign in to add your comment and engage with the community."})]}),e.jsx("button",{onClick:()=>{B(b.id),de("comment"),ke(!0)},className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Sign In"})]})}),e.jsx(Av,{comments:Wt[b.id]||[],onAddComment:W=>Kn(b.id),onDeleteComment:W=>Lo(b.id,W),onReplyToComment:(W,X)=>Oo(b.id,W),authUser:V,isCommentOwner:We})]})]},b.id))}),ae&&R.length>0&&e.jsx("div",{className:"text-center py-6 border-t border-gray-100",children:e.jsx("button",{onClick:Js,disabled:te,className:"bg-[#FF6600] text-white px-8 py-3 rounded-lg font-semibold hover:bg-[#E55A00] transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 mx-auto shadow-lg hover:shadow-xl transform hover:scale-105",children:te?e.jsx(km,{count:1}):e.jsxs(e.Fragment,{children:[e.jsx(xo,{className:"w-5 h-5"}),"Load More Posts"]})})}),R.map(b=>e.jsx(Tv,{post:b,isVisible:Ka===b.id,onLike:()=>{},onComment:()=>ct(W=>({...W,[b.id]:!W[b.id]})),onShare:()=>sr(b.id),onPin:()=>yr(b),onSave:()=>Rr(b.id),likeCount:b.likes_count||0,commentCount:(Wt[b.id]||[]).length,isLiked:S.has(b.id),isPinned:wt.has(b.id)},`sticky-${b.id}`))]})}),e.jsxs("div",{className:"lg:w-80 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-red-500 to-orange-500 px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xo,{className:"w-4 h-4 text-white"}),e.jsx("h3",{className:"text-sm font-bold text-white",children:"Hot Today"})]})}),e.jsxs("div",{className:"divide-y divide-gray-100",children:[Ve.filter(b=>{const W=new Date,X=new Date(b.created_at);return W.toDateString()===X.toDateString()}).sort((b,W)=>(W.likes_count||0)+(W.replies_count||0)-(b.likes_count||0)-(b.replies_count||0)).slice(0,5).map((b,W)=>e.jsx("div",{className:"group cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>js(b.id),children:e.jsxs("div",{className:"flex items-start gap-3 p-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 text-center",children:e.jsxs("span",{className:"text-xs font-bold text-orange-500",children:["#",W+1]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 group-hover:text-orange-600 line-clamp-2 mb-1",children:b.title}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Bs,{className:"w-3 h-3 text-red-400"}),b.likes_count||0]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hr,{className:"w-3 h-3 text-blue-400"}),b.replies_count||0]}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-gray-600",children:b.category_name})]})]})]})},b.id)),Ve.filter(b=>{const W=new Date,X=new Date(b.created_at);return W.toDateString()===X.toDateString()}).length===0&&e.jsx("div",{className:"text-center py-6 text-gray-500 text-sm",children:"No hot posts today"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xo,{className:"w-4 h-4 text-white"}),e.jsx("h3",{className:"text-sm font-bold text-white",children:"Trending This Week"})]})}),e.jsx("div",{className:"divide-y divide-gray-100",children:Ve.filter(b=>{const W=new Date(Date.now()-6048e5);return new Date(b.created_at)>=W}).sort((b,W)=>(W.likes_count||0)+(W.replies_count||0)-(b.likes_count||0)-(b.replies_count||0)).slice(0,5).map((b,W)=>e.jsx("div",{className:"group cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>js(b.id),children:e.jsxs("div",{className:"flex items-start gap-3 p-3",children:[e.jsx("div",{className:"flex-shrink-0 w-6 text-center",children:e.jsxs("span",{className:"text-xs font-bold text-blue-500",children:["#",W+1]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 group-hover:text-blue-600 line-clamp-2 mb-1",children:b.title}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Bs,{className:"w-3 h-3 text-red-400"}),b.likes_count||0]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hr,{className:"w-3 h-3 text-blue-400"}),b.replies_count||0]}),e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("span",{className:"text-gray-600",children:yo(b.created_at)})]})]})]})},b.id))})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-teal-500 rounded-lg flex items-center justify-center",children:e.jsx(Ut,{className:"w-4 h-4 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Upcoming Events"})]}),e.jsxs("div",{className:"relative",children:[u?e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Loading events..."})]}):l&&l.length>0?e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"flex transition-transform duration-500 ease-in-out",style:{transform:`translateX(-${Mn*100}%)`},children:l.map((b,W)=>{const X=new Date(b.event_date),fe=_e=>{try{if(!_e)return"Time TBD";const[$e,jt]=_e.split(":"),Fr=parseInt($e),vr=Fr>=12?"PM":"AM";return`${Fr%12||12}:${jt} ${vr}`}catch{return"Time TBD"}},Ne=_e=>({workshop:"",masterclass:"",seminar:"",conference:"",webinar:""})[_e?.toLowerCase()]||"",Ae=_e=>{const $e={workshop:"bg-purple-100 text-purple-800 border-purple-200",masterclass:"bg-blue-100 text-blue-800 border-blue-200",seminar:"bg-green-100 text-green-800 border-green-200",conference:"bg-orange-100 text-orange-800 border-orange-200",webinar:"bg-indigo-100 text-indigo-800 border-indigo-200",default:"bg-gray-100 text-gray-800 border-gray-200"};return $e[_e?.toLowerCase()]||$e.default},ie=b.capacity?Math.round((b.registered_count||0)/b.capacity*100):0;return e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden hover:shadow-2xl transition-all duration-300 group flex-shrink-0 w-full",children:[e.jsxs("div",{className:"relative h-32 bg-gradient-to-br from-[#0057B7] to-[#004494] overflow-hidden",children:[b.image_url?e.jsx("img",{src:b.image_url,alt:b.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx("div",{className:"text-4xl",children:Ne(b.event_type)})}),b.featured&&e.jsxs("div",{className:"absolute top-2 left-2 bg-primary text-white px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[e.jsx(So,{className:"w-2 h-2"}),"Featured"]}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold border ${Ae(b.event_type)}`,children:(b.event_type||"event").toUpperCase()})}),e.jsx("div",{className:"absolute bottom-2 right-2 bg-white/90 backdrop-blur-sm rounded-lg px-2 py-1",children:e.jsx("div",{className:"text-sm font-bold text-primary",children:b.price||"Free"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-base font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:b.title}),e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2 text-sm",children:b.short_description||b.description}),b.speaker&&e.jsxs("div",{className:"flex items-center gap-2 mb-3 p-2 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"w-6 h-6 bg-primary rounded-full flex items-center justify-center text-white font-bold text-xs",children:b.speaker.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 text-xs",children:b.speaker}),e.jsx("div",{className:"text-gray-600 text-xs",children:b.speaker_title})]})]}),e.jsxs("div",{className:"space-y-1 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(Ut,{className:"w-3 h-3 text-primary"}),e.jsx("span",{children:X.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(qt,{className:"w-3 h-3 text-primary"}),e.jsxs("span",{children:[fe(b.event_time),"  ",b.duration_minutes||120," min"]})]}),b.location&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(rd,{className:"w-3 h-3 text-primary"}),e.jsx("span",{children:b.location})]}),b.capacity&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(sd,{className:"w-3 h-3 text-primary"}),e.jsxs("span",{children:[b.registered_count||0,"/",b.capacity," (",ie,"% Full)"]})]})]}),e.jsxs("a",{href:b.registration_link||b.event_url||"#",target:"_blank",rel:"noopener noreferrer",className:"w-full btn-primary py-2 px-3 rounded-lg font-semibold flex items-center justify-center gap-2 group-hover:shadow-lg text-sm",children:[e.jsx(Cp,{className:"w-3 h-3"}),"Register - ",b.price||"Free",e.jsx(za,{className:"w-3 h-3"})]})]})]},b.id)})}),l.length>1&&e.jsx("div",{className:"flex justify-center gap-1.5 mt-3",children:l.map((b,W)=>e.jsx("button",{onClick:()=>Un(W),className:`w-1.5 h-1.5 rounded-full transition-all duration-300 hover:scale-125 ${W===Mn?"bg-green-500 w-4":"bg-gray-300 hover:bg-gray-400"}`},W))})]}):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(Ut,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No upcoming events"})]}),l&&l.length>3&&e.jsx("div",{className:"text-center py-2",children:e.jsxs("button",{className:"text-sm text-[#0057B7] hover:text-[#FF6600] font-medium transition-colors flex items-center gap-1 mx-auto group",children:[e.jsx("span",{children:"View all events"}),e.jsx(Ut,{className:"w-3 h-3 group-hover:rotate-12 transition-transform"})]})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-lg flex items-center justify-center",children:e.jsx(pt,{className:"w-4 h-4 text-white"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Winners Spotlight"})]}),e.jsxs("div",{className:"space-y-4",children:[(c&&c.length>0?c.filter(b=>b.winner_rank>=1&&b.winner_rank<=3).sort((b,W)=>b.winner_rank-W.winner_rank).map(b=>({name:b.name||"Anonymous Winner",title:b.role||b.company||"QA Professional",trick:b.technique_description||b.technique_title||"Innovative QA technique",avatar:b.winner_rank===1?"":b.winner_rank===2?"":"",place:b.winner_rank,email:b.email})):[{name:"Sarah Chen",title:"Senior QA Engineer at Microsoft",trick:"AI-Powered Test Case Generation using GPT-4 for automated test scenario creation",avatar:"",place:1},{name:"Mike Rodriguez",title:"Lead Test Automation Engineer",trick:"Cross-Browser Testing Automation with Selenium Grid and Docker containers",avatar:"",place:2},{name:"Emma Thompson",title:"QA Manager at Amazon",trick:"Performance Testing Optimization using JMeter and AWS CloudWatch integration",avatar:"",place:3}]).map((b,W)=>{const fe=(Ne=>{switch(Ne){case 1:return{gradient:"from-[#FFD700] via-[#FFA500] to-[#FF6600]",badge:"bg-gradient-to-r from-yellow-100 to-orange-100 text-yellow-900 border-yellow-400",cardBg:"bg-gradient-to-br from-yellow-50 via-orange-50 to-red-50",border:"border-yellow-200",medal:"",title:"CHAMPION"};case 2:return{gradient:"from-[#C0C0C0] via-[#A9A9A9] to-[#808080]",badge:"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-900 border-gray-400",cardBg:"bg-gradient-to-br from-gray-50 via-slate-50 to-zinc-50",border:"border-gray-200",medal:"",title:"EXCELLENCE"};case 3:return{gradient:"from-[#CD7F32] via-[#D2691E] to-[#A0522D]",badge:"bg-gradient-to-r from-orange-100 to-amber-100 text-orange-900 border-orange-400",cardBg:"bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50",border:"border-orange-200",medal:"",title:"ACHIEVER"}}})(b.place);return!c&&W===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#FF6600] mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Loading winners..."})]},"loading"):e.jsxs("div",{className:`group relative ${fe.cardBg} rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-1 overflow-hidden border-2 ${fe.border} backdrop-blur-sm`,children:[e.jsxs("div",{className:`absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-bold border-2 ${fe.badge} flex items-center gap-1 shadow-lg z-10`,children:[e.jsx(pt,{className:"w-3 h-3"}),fe.title]}),e.jsx("div",{className:"absolute top-3 left-3 text-2xl opacity-20 group-hover:opacity-40 transition-opacity duration-300",children:fe.medal}),e.jsxs("div",{className:"relative p-4",children:[e.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-4",children:[e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${fe.gradient} rounded-full animate-pulse group-hover:animate-none transition-all duration-500`}),e.jsx("div",{className:"relative w-14 h-14 mx-auto mt-1 rounded-full bg-white flex items-center justify-center text-2xl shadow-xl border-4 border-white",children:b.avatar}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1 shadow-lg",children:e.jsx("div",{className:"bg-green-500 text-white rounded-full p-1 w-5 h-5 flex items-center justify-center",children:e.jsx(Zc,{className:"w-3 h-3"})})})]}),e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-1 group-hover:text-[#FF6600] transition-colors duration-300",children:b.name}),e.jsxs("div",{className:"inline-flex items-center gap-1 bg-white/80 backdrop-blur-sm px-2 py-1 rounded-full text-xs font-semibold text-gray-800 shadow-sm mb-1",children:[e.jsx(zs,{className:"w-3 h-3 text-[#FF6600]"}),"QA ",fe.title]}),e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:b.title})]}),e.jsxs("div",{className:"bg-white/70 backdrop-blur-sm p-3 rounded-xl text-left mb-4 border border-white/60 shadow-sm",children:[e.jsxs("h4",{className:"font-bold text-gray-900 mb-1 flex items-center gap-1 text-xs",children:[e.jsx(pt,{className:"w-3 h-3 text-[#FF6600]"}),"Winning Innovation"]}),e.jsx("p",{className:"text-xs leading-relaxed text-gray-700 line-clamp-3",children:b.trick})]}),e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("button",{onClick:()=>{const Ne=`${b.place===1?"1st":b.place===2?"2nd":"3rd"} Place`,ie={"1st Place":{emoji:"",title:"CHAMPION"},"2nd Place":{emoji:"",title:"EXCELLENCE"},"3rd Place":{emoji:"",title:"ACHIEVER"}}[Ne],_e=`${ie.emoji} QA ${ie.title} CERTIFIED ${ie.emoji}

 ${b.name} - ${Ne} Winner
 ${b.title}
 TestingVala Contest Winner

 ACHIEVEMENT HIGHLIGHTS:
 TOP 1% QA Professional Recognition
 Industry-Validated Expertise
 Elite QA Community Member

 Join the QA Elite: www.testingvala.com
 info@testingvala.com

#QAChampion #TestingVala #QualityAssurance`,$e=`https://testingvala.com/?utm_source=linkedin&utm_medium=social&utm_campaign=qa_winner&winner=${encodeURIComponent(b.name)}#winners`,jt=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent($e)}&title=${encodeURIComponent(`${ie.emoji} QA ${ie.title} - ${b.name}`)}&summary=${encodeURIComponent(_e)}`;window.open(jt,"_blank")},className:"flex items-center gap-1 px-2 py-1.5 bg-[#0A66C2] text-white rounded-lg shadow-sm hover:shadow-md hover:bg-[#004182] transition-all duration-200 text-xs font-medium",children:e.jsx(td,{className:"w-3 h-3"})}),e.jsx("button",{onClick:()=>{const Ne=`${b.place===1?"1st":b.place===2?"2nd":"3rd"} Place`,ie={"1st Place":{emoji:"",title:"CHAMPION"},"2nd Place":{emoji:"",title:"EXCELLENCE"},"3rd Place":{emoji:"",title:"ACHIEVER"}}[Ne],_e=`${ie.emoji} QA ${ie.title} CERTIFIED ${ie.emoji}

 ${b.name} - ${Ne} Winner
 ${b.title}
 TestingVala Contest Winner

 Recognized for outstanding QA excellence!

 Join the QA Elite Community:
 Monthly contests with cash prizes
 Network with 10,000+ QA professionals
 Accelerate your QA career

 www.testingvala.com
 info@testingvala.com

#QAChampion #TestingVala #QualityAssurance`,$e=`https://wa.me/?text=${encodeURIComponent(_e)}`;window.open($e,"_blank")},className:"flex items-center gap-1 px-2 py-1.5 bg-[#25D366] text-white rounded-lg shadow-sm hover:shadow-md hover:bg-[#1DA851] transition-all duration-200 text-xs font-medium",children:e.jsx(Km,{className:"w-3 h-3"})}),e.jsx("button",{onClick:async()=>{const Ne=`${b.place===1?"1st":b.place===2?"2nd":"3rd"} Place`;try{const Ae=document.createElement("canvas");Ae.width=1200,Ae.height=900;const ie=Ae.getContext("2d");ie.fillStyle="#ffffff",ie.fillRect(0,0,1200,900),ie.strokeStyle="#e2e8f0",ie.lineWidth=4,ie.strokeRect(30,30,1140,840),ie.strokeStyle="#FF6600",ie.lineWidth=3,ie.strokeRect(40,40,1120,820),ie.fillStyle="#FF6600",ie.fillRect(60,60,1080,120),ie.fillStyle="#ffffff",ie.font="bold 40px sans-serif",ie.textAlign="center",ie.fillText("CERTIFICATE OF EXCELLENCE",600,130),ie.font="bold 22px sans-serif",ie.fillText("Quality Assurance Professional Recognition",600,165),ie.fillStyle="#1e293b",ie.font="normal 24px serif",ie.fillText("This is to certify that",600,240),ie.fillStyle="#0f172a",ie.font="bold 48px serif",ie.fillText(b.name.toUpperCase(),600,300),ie.fillStyle="#475569",ie.font="italic 20px serif",ie.fillText(b.title,600,335);const $e={"1st Place":{title:"1ST PLACE WINNER",emoji:""},"2nd Place":{title:"2ND PLACE WINNER",emoji:""},"3rd Place":{title:"3RD PLACE WINNER",emoji:""}}[Ne];ie.font="60px sans-serif",ie.fillText($e.emoji,600,450),ie.fillStyle="#FFD700",ie.font="bold 36px sans-serif",ie.fillText($e.title,600,500),ie.fillStyle="#1e293b",ie.font="normal 18px serif",ie.fillText("in the TestingVala QA Professional Contest",600,540),ie.fillText("for exceptional expertise in Quality Assurance",600,565);const jt=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});ie.fillStyle="#64748b",ie.font="normal 16px sans-serif",ie.fillText(`Awarded on ${jt}`,600,620),ie.fillStyle="#FF6600",ie.fillRect(60,800,1080,60),ie.fillStyle="#ffffff",ie.font="bold 18px sans-serif",ie.fillText("www.testingvala.com | info@testingvala.com",600,835);const Fr=Ae.toDataURL("image/png"),vr=document.createElement("a");vr.href=Fr,vr.download=`TestingVala_Certificate_${b.name.replace(/\s+/g,"_")}_${Ne.replace(/\s+/g,"")}.png`,document.body.appendChild(vr),vr.click(),vr.remove(),H.success(" Professional certificate downloaded!")}catch{H.error("Failed to generate certificate")}},className:"flex items-center gap-1 px-2 py-1.5 bg-gray-800 text-white rounded-lg shadow-sm hover:shadow-md hover:bg-gray-900 transition-all duration-200 text-xs font-medium",children:e.jsx(ls,{className:"w-3 h-3"})})]})]})]},W)}),e.jsx("div",{className:"text-center py-2",children:e.jsxs("button",{onClick:()=>{const b=document.getElementById("winners");b&&b.scrollIntoView({behavior:"smooth"})},className:"text-sm text-[#0057B7] hover:text-[#FF6600] font-medium transition-colors flex items-center gap-1 mx-auto group",children:[e.jsx("span",{children:"View all winners"}),e.jsx(pt,{className:"w-3 h-3 group-hover:rotate-12 transition-transform"})]})})]})]})]})]}),e.jsx("div",{className:"mt-8 lg:hidden",children:e.jsx(Ef,{data:{winners:o?.winners||[],stats:o?.hero?.stats||{}}})}),M&&e.jsx(Mv,{isOpen:M,onClose:()=>U(!1),categories:n.length>0?n:v,onPostCreated:ni}),we&&e.jsx(Eo,{isOpen:we,onClose:()=>ke(!1),onSuccess:Gs,action:oe}),nr&&e.jsx(Uv,{isOpen:!!nr,onClose:()=>Rr(null),post:R.find(b=>b.id===nr),user:V}),$r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-hidden",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(us,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delete Post"}),e.jsx("p",{className:"text-sm text-gray-600",children:"This action cannot be undone"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-1 line-clamp-1",children:$r.title}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:$r.content})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>ys(null),className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:"Cancel"}),e.jsx("button",{onClick:()=>ri($r.id),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium",children:"Delete Post"})]})]})}),Ws&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4 overflow-hidden",onClick:()=>xs(null),children:e.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[e.jsx("button",{onClick:()=>xs(null),className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors",children:e.jsx(Re,{className:"w-8 h-8"})}),e.jsx("img",{src:Ws,alt:"Expanded view",className:"max-w-full max-h-full object-contain rounded-lg",onClick:b=>b.stopPropagation()})]})}),Vt&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-hidden",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Share Post"}),e.jsx("button",{onClick:()=>sr(null),className:"p-2 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>{const b=R.find(fe=>fe.id===Vt),W=`${window.location.origin}/community/post/${b.id}`,X=`${b.title} - Join the discussion on TestingVala`;window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(X)}&url=${encodeURIComponent(W)}`,"_blank")},className:"w-full flex items-center gap-3 p-4 bg-[#1DA1F2] text-white rounded-lg hover:bg-[#1a91da] transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsx(Iv,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Share on Twitter"})]}),e.jsxs("button",{onClick:()=>{const b=`${window.location.origin}/community/post/${Vt}`;window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(b)}`,"_blank")},className:"w-full flex items-center gap-3 p-4 bg-[#1877F2] text-white rounded-lg hover:bg-[#166fe5] transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsx(Rv,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Share on Facebook"})]}),e.jsxs("button",{onClick:()=>{const b=`${window.location.origin}/community/post/${Vt}`;window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(b)}`,"_blank")},className:"w-full flex items-center gap-3 p-4 bg-[#0A66C2] text-white rounded-lg hover:bg-[#095bb5] transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsx($v,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Share on LinkedIn"})]}),e.jsxs("button",{onClick:()=>{const b=R.find(fe=>fe.id===Vt),W=`${window.location.origin}/community/post/${b.id}`,X=`${b.title} - Join the discussion on TestingVala`;window.open(`https://wa.me/?text=${encodeURIComponent(`${X} ${W}`)}`,"_blank")},className:"w-full flex items-center gap-3 p-4 bg-[#25D366] text-white rounded-lg hover:bg-[#22c55e] transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsx(Dv,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Share on WhatsApp"})]}),e.jsx("div",{className:"border-t border-gray-200 my-4"}),e.jsxs("button",{onClick:async()=>{try{const b=`${window.location.origin}/community/post/${Vt}`;await navigator.clipboard.writeText(b),H.success("Link copied to clipboard!"),sr(null)}catch{H.error("Failed to copy link")}},className:"w-full flex items-center gap-3 p-4 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-all duration-200 shadow-sm hover:shadow-md",children:[e.jsx(Ov,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Copy Link"})]})]})]})}),e.jsx(Ua,{isOpen:!!ar,onClose:()=>Dr(null),onConfirm:Yn,title:"Delete Comment",message:"Are you sure you want to delete this comment?",confirmText:"Delete Comment",cancelText:"Cancel",type:"danger",itemName:ar?.comment?.content?.substring(0,50)+(ar?.comment?.content?.length>50?"...":""),itemDescription:`By ${ar?.comment?.author_name||"Anonymous"}`}),e.jsx(Ua,{isOpen:!!fr,onClose:()=>Or(null),onConfirm:si,title:"Delete Reply",message:"Are you sure you want to delete this reply?",confirmText:"Delete Reply",cancelText:"Cancel",type:"danger",itemName:fr?.reply?.text?.substring(0,50)+(fr?.reply?.text?.length>50?"...":""),itemDescription:`By ${fr?.reply?.authorName||"Anonymous"}`})]})})},Wv=({data:o})=>{const{data:s}=Ha(),n={title:"About TestingVala",subtitle:"Empowering QA Excellence Worldwide",description:"TestingVala is the premier global platform for quality assurance professionals, fostering innovation, knowledge sharing, and career advancement through cutting-edge resources, competitive challenges, and a thriving community of testing experts.",mission:"To revolutionize the QA industry by creating the world's most comprehensive platform for testing professionals to learn, compete, and excel in their careers.",features:["Advanced Testing Methodologies","Industry-Leading Best Practices","Professional Certification Programs","Global Networking Opportunities"],achievements:["Recognized as Top QA Platform 2024","Featured in 50+ Industry Publications","Trusted by Fortune 500 Companies","Award-Winning Community Platform"]},i={...n,...s?.about,...o};return i.features=Array.isArray(i.features)?i.features:n.features,i.achievements=Array.isArray(i.achievements)?i.achievements:n.achievements,e.jsx("section",{id:"about",className:"py-12 bg-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-3",children:i.title}),e.jsx("p",{className:"text-lg text-[#FF6600] font-semibold mb-3",children:i.subtitle}),e.jsx("p",{className:"text-gray-700 max-w-4xl mx-auto",children:i.description})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-12",children:[e.jsxs("div",{className:"bg-white border-2 border-[#0057B7] rounded p-5",children:[e.jsx("div",{className:"w-12 h-12 bg-[#0057B7] rounded flex items-center justify-center mb-3",children:e.jsx($a,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-[#0057B7] mb-2",children:"Our Mission"}),e.jsx("p",{className:"text-gray-700 text-sm",children:i.mission})]}),e.jsxs("div",{className:"bg-white border-2 border-[#FF6600] rounded p-5",children:[e.jsx("div",{className:"w-12 h-12 bg-[#FF6600] rounded flex items-center justify-center mb-3",children:e.jsx(So,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-xl font-bold text-[#FF6600] mb-2",children:"Our Vision"}),e.jsx("p",{className:"text-gray-700 text-sm",children:"To become the global standard for QA excellence, where every testing professional can access world-class resources and advance their career through innovation."})]})]}),e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Our Core Values"}),e.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto text-sm",children:"The principles that guide our commitment to the QA community"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{icon:$n,title:"Quality First",desc:"Excellence in everything we deliver",color:"#0057B7"},{icon:Bs,title:"Community Driven",desc:"Built by QA professionals worldwide",color:"#FF6600"},{icon:zp,title:"Innovation Focus",desc:"Pioneering the future of testing",color:"#0057B7"},{icon:Xc,title:"Continuous Learning",desc:"Empowering growth and education",color:"#FF6600"}].map((c,l)=>{const u=c.icon;return e.jsxs("div",{className:"text-center p-4 bg-white border border-gray-200 rounded",children:[e.jsx("div",{className:"w-10 h-10 rounded flex items-center justify-center mx-auto mb-2",style:{backgroundColor:c.color},children:e.jsx(u,{className:"w-5 h-5 text-white"})}),e.jsx("h4",{className:"font-bold text-gray-900 mb-1 text-sm",children:c.title}),e.jsx("p",{className:"text-gray-600 text-xs",children:c.desc})]},l)})})]}),e.jsx("div",{className:"mb-12",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.features.map((c,l)=>{const f=[$a,bt,In,lt][l]||$a,g=l%2===0;return e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white border border-gray-200 rounded",children:[e.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center flex-shrink-0",style:{backgroundColor:g?"#0057B7":"#FF6600"},children:e.jsx(f,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-1 text-sm",children:c}),e.jsx("p",{className:"text-gray-600 text-xs",children:"Industry-leading solutions for modern QA professionals"})]})]},l)})})}),e.jsxs("div",{className:"bg-gray-50 rounded p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Industry Recognition"}),e.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto text-sm",children:"Trusted by leading organizations worldwide"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.achievements.map((c,l)=>e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-white rounded border border-gray-200",children:[e.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center flex-shrink-0",style:{backgroundColor:l%2===0?"#0057B7":"#FF6600"},children:e.jsx(pt,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-1 text-sm",children:c}),e.jsx("p",{className:"text-gray-600 text-xs",children:"Excellence in QA education and community building"})]})]},l))})]})]})})},Vv=({data:o})=>{const{data:s}=Ha(),[n,i]=N.useState({name:"",email:"",subject:"",message:""}),[c,l]=N.useState(!1),u={email:"info@testingvala.com",website:"www.testingvala.com",location:"Global QA Community"},f={...u,...s?.contact,...o},g=y=>{const{name:v,value:w}=y.target;i(k=>({...k,[v]:w}))},p=y=>{y.preventDefault(),(async()=>{try{if(c)return;l(!0),H.success("Message received! We'll get back to you soon."),i({name:"",email:"",subject:"",message:""})}catch(v){console.error(v),H.error("Unexpected error sending message")}finally{l(!1)}})()};return e.jsx("section",{id:"contact",className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Contact Us"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Have questions about our platform? We're here to help you succeed."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 border border-gray-200 h-full",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Get in Touch"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[#FF6600] rounded flex items-center justify-center",children:e.jsx(Fa,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Email"}),e.jsx("p",{className:"text-gray-600 text-sm",children:f.email||u.email})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[#0057B7] rounded flex items-center justify-center",children:e.jsx(rd,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Location"}),e.jsx("p",{className:"text-gray-600 text-sm",children:f.location||u.location})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[#FF6600] rounded flex items-center justify-center",children:e.jsx(qt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Support"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"24/7 Community Support"})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 h-full",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Send Message"}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-[#0057B7] focus:border-transparent",placeholder:"Your name"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-[#0057B7] focus:border-transparent",placeholder:"your@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject *"}),e.jsx("input",{type:"text",id:"subject",name:"subject",value:n.subject,onChange:g,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-[#0057B7] focus:border-transparent",placeholder:"How can we help?"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Message *"}),e.jsx("textarea",{id:"message",name:"message",value:n.message,onChange:g,required:!0,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded focus:ring-2 focus:ring-[#0057B7] focus:border-transparent resize-none",placeholder:"Your message..."})]}),e.jsx("button",{type:"submit",disabled:c,className:`w-full bg-[#0057B7] text-white py-3 px-6 rounded font-medium hover:bg-[#004494] transition-colors ${c?"opacity-60 cursor-not-allowed":""}`,children:c?"Sending...":"Send Message"})]})]})})]})]})})},Hv=()=>{const{data:o}=Ha(),n={...{brand:{name:"TestingVala",tagline:"Premier QA Excellence Platform",description:"Empowering quality assurance professionals worldwide through innovative testing solutions, comprehensive resources, and a thriving global community."},contact:{email:"info@testingvala.com",phone:"+1 (555) 123-4567",website:"https://www.testingvala.com",address:"Global QA Community"},socialMedia:{twitter:"https://twitter.com/testingvala",linkedin:"https://www.linkedin.com/company/testingvala",youtube:"https://www.youtube.com/@TestingvalaOfficial",instagram:"https://www.instagram.com/testingvala"},quickLinks:[{label:"About Us",href:"#about"},{label:"Community",href:"#community"},{label:"Contests",href:"#contest"},{label:"Resources",href:"#resources"},{label:"Contact",href:"#contact"}],services:[{label:"QA Training Programs",href:"#training"},{label:"Certification Courses",href:"#certification"},{label:"Enterprise Solutions",href:"#enterprise"},{label:"Consulting Services",href:"#consulting"},{label:"Career Support",href:"#careers"}],legal:[{label:"Privacy Policy",href:"/privacy"},{label:"Terms of Service",href:"/terms"},{label:"Cookie Policy",href:"/cookies"},{label:"Code of Conduct",href:"/conduct"}],copyright:` ${new Date().getFullYear()} TestingVala. All rights reserved.`},...o?.footer};return o?.contact?.socialMedia&&(n.socialMedia={...n.socialMedia,...o.contact.socialMedia}),o?.contact&&(n.contact={...n.contact,...o.contact}),e.jsx("footer",{className:"bg-gray-900 text-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-12",children:[e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#FF6600] to-[#E55A00] rounded-xl flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-xl",children:"T"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:n.brand.name}),e.jsx("p",{className:"text-gray-400 text-sm",children:n.brand.tagline})]})]}),e.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:n.brand.description}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Fa,{className:"w-5 h-5 text-[#FF6600]"}),e.jsx("a",{href:`mailto:${n.contact.email}`,className:"text-gray-300 hover:text-white transition-colors",children:n.contact.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Xm,{className:"w-5 h-5 text-[#FF6600]"}),e.jsx("span",{className:"text-gray-300",children:n.contact.phone})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(lt,{className:"w-5 h-5 text-[#FF6600]"}),e.jsx("a",{href:n.contact.website,className:"text-gray-300 hover:text-white transition-colors",children:"www.testingvala.com"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("a",{href:n.socialMedia.twitter,className:"text-gray-400 hover:text-[#FF6600] transition-colors p-2 bg-gray-800 rounded-lg hover:bg-gray-700",children:e.jsx(Wp,{className:"w-5 h-5"})}),e.jsx("a",{href:n.socialMedia.linkedin,className:"text-gray-400 hover:text-[#FF6600] transition-colors p-2 bg-gray-800 rounded-lg hover:bg-gray-700",children:e.jsx(td,{className:"w-5 h-5"})}),e.jsx("a",{href:n.socialMedia.youtube,className:"text-gray-400 hover:text-[#FF6600] transition-colors p-2 bg-gray-800 rounded-lg hover:bg-gray-700",children:e.jsx(Hp,{className:"w-5 h-5"})}),e.jsx("a",{href:n.socialMedia.instagram,className:"text-gray-400 hover:text-[#FF6600] transition-colors p-2 bg-gray-800 rounded-lg hover:bg-gray-700",children:e.jsx(Ap,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold mb-6 flex items-center gap-2",children:[e.jsx($a,{className:"w-5 h-5 text-[#FF6600]"}),"Quick Links"]}),e.jsx("ul",{className:"space-y-3",children:n.quickLinks.map((i,c)=>e.jsx("li",{children:e.jsx("a",{href:i.href,className:"text-gray-300 hover:text-[#FF6600] transition-colors",children:i.label})},c))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold mb-6 flex items-center gap-2",children:[e.jsx(In,{className:"w-5 h-5 text-[#FF6600]"}),"Services"]}),e.jsx("ul",{className:"space-y-3",children:n.services.map((i,c)=>e.jsx("li",{children:e.jsx("a",{href:i.href,className:"text-gray-300 hover:text-[#FF6600] transition-colors",children:i.label})},c))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-lg font-semibold mb-6 flex items-center gap-2",children:[e.jsx($n,{className:"w-5 h-5 text-[#FF6600]"}),"Legal & Support"]}),e.jsx("ul",{className:"space-y-3",children:n.legal.map((i,c)=>e.jsx("li",{children:e.jsx("a",{href:i.href,className:"text-gray-300 hover:text-[#FF6600] transition-colors",children:i.label})},c))})]})]}),e.jsx("div",{className:"border-t border-gray-800 mt-12 pt-8",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-400 text-sm",children:n.copyright})})})]})})},Qv=()=>{const{events:o,loading:s}=Sf(),[n,i]=N.useState([]),[c,l]=N.useState("all"),[u,f]=N.useState(""),[g,p]=N.useState("all"),y=[{id:"1",title:"QA Automation Masterclass 2025",short_description:"Master the latest automation testing frameworks and tools in this intensive 3-hour session.",event_date:"2025-02-15",event_time:"14:00:00",duration_minutes:180,event_type:"masterclass",difficulty_level:"advanced",image_url:"https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=600&h=400&fit=crop",registration_link:"https://forms.google.com/automation-masterclass",is_featured:!0,is_active:!0},{id:"2",title:"Mobile App Testing Workshop",short_description:"Learn mobile app testing strategies and tools for iOS and Android applications.",event_date:"2025-02-20",event_time:"10:00:00",duration_minutes:120,event_type:"workshop",difficulty_level:"intermediate",image_url:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=600&h=400&fit=crop",registration_link:"https://forms.google.com/mobile-testing",is_featured:!0,is_active:!0}];N.useEffect(()=>{o&&o.length>0?i(o):i(y)},[o]);const v=U=>{try{return new Date(U).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}catch{return"Invalid Date"}},w=U=>{try{return new Date(`2000-01-01T${U}`).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch{return"Invalid Time"}},k=U=>{switch(U){case"masterclass":return"bg-orange-100 text-orange-800 border-orange-200";case"workshop":return"bg-blue-100 text-blue-800 border-blue-200";case"seminar":return"bg-green-100 text-green-800 border-green-200";case"webinar":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},E=U=>{switch(U){case"beginner":return"bg-green-100 text-green-700";case"intermediate":return"bg-orange-100 text-orange-700";case"advanced":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},I=U=>new Date(U)>=new Date,L=n.filter(U=>!(c==="upcoming"&&!I(U.event_date)||c==="past"&&I(U.event_date)||g!=="all"&&U.event_type!==g||u&&!U.title.toLowerCase().includes(u.toLowerCase())&&!U.short_description.toLowerCase().includes(u.toLowerCase()))),M=[...new Set(n.map(U=>U.event_type))];return s?e.jsx("section",{className:"py-8 bg-gradient-to-br from-gray-50 via-white to-blue-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#FF6600] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading events..."})]})})}):e.jsx("section",{id:"events",className:"py-8 bg-gradient-to-br from-gray-50 via-white to-blue-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-[#FF6600] text-white px-4 py-2 rounded-full text-sm font-semibold mb-4 shadow-lg",children:[e.jsx(Ut,{className:"w-4 h-4"}),"All Events"]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-gray-900 mb-4 bg-gradient-to-r from-gray-900 via-[#0057B7] to-[#FF6600] bg-clip-text text-transparent",children:"Events & Workshops"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Discover upcoming workshops, seminars, and masterclasses to enhance your QA skills and advance your career."})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-4 mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(qa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Search events...",value:u,onChange:U=>f(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF6600] focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Hm,{className:"w-5 h-5 text-gray-500"}),e.jsxs("select",{value:c,onChange:U=>l(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF6600] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Events"}),e.jsx("option",{value:"upcoming",children:"Upcoming Events"}),e.jsx("option",{value:"past",children:"Past Events"})]})]}),e.jsxs("select",{value:g,onChange:U=>p(U.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#FF6600] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Types"}),M.map(U=>e.jsx("option",{value:U,children:U},U))]})]})}),L.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Ut,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Events Found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your filters or check back later for new events!"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:L.map(U=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100 hover:border-[#FF6600]/30 group transform hover:-translate-y-1",children:[e.jsxs("div",{className:"h-40 bg-gradient-to-br from-gray-100 to-gray-200 overflow-hidden relative",children:[U.image_url?e.jsx("img",{src:U.image_url,alt:U.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700",onError:R=>{R.target.style.display="none"}}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-[#FF6600] to-[#E55A00] rounded-full flex items-center justify-center mb-3 shadow-lg",children:e.jsx(Ut,{className:"w-10 h-10 text-white"})}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Event Image"})]})}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border-2 backdrop-blur-sm bg-white/90 ${k(U.event_type)}`,children:U.event_type})}),U.is_featured&&e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"bg-gradient-to-r from-[#FF6600] to-[#E55A00] text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg",children:" Featured"})})]}),e.jsxs("div",{className:"p-5",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2 line-clamp-2 group-hover:text-[#FF6600] transition-colors duration-200 leading-tight",children:U.title}),e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-3 text-sm leading-relaxed",children:U.short_description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold border-2 ${E(U.difficulty_level)}`,children:U.difficulty_level}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 font-medium",children:[e.jsx(qt,{className:"w-4 h-4 text-[#FF6600]"}),U.duration_minutes," min"]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx(Ut,{className:"w-4 h-4 text-[#FF6600]"}),e.jsx("span",{className:"font-medium",children:v(U.event_date)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx(qt,{className:"w-4 h-4 text-[#0057B7]"}),e.jsx("span",{children:w(U.event_time)})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[e.jsx(rd,{className:"w-4 h-4 text-[#FF6600]"}),e.jsx("span",{children:U.location||"Online"})]})]}),U.registration_link&&I(U.event_date)?e.jsxs("a",{href:U.registration_link,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-gradient-to-r from-[#0057B7] to-[#004494] text-white py-2 px-4 rounded-lg font-bold hover:from-[#FF6600] hover:to-[#E55A00] transition-all duration-200 flex items-center justify-center gap-2 group-hover:shadow-lg transform group-hover:scale-102",children:[e.jsx("span",{children:"Register Now"}),e.jsx(za,{className:"w-4 h-4 group-hover:rotate-12 transition-transform duration-200"})]}):I(U.event_date)?e.jsx("div",{className:"w-full bg-orange-100 text-orange-700 py-2 px-4 rounded-lg font-medium text-center",children:"Registration Coming Soon"}):e.jsx("div",{className:"w-full bg-gray-100 text-gray-500 py-2 px-4 rounded-lg font-medium text-center",children:"Event Completed"})]})]},U.id))}),e.jsxs("div",{className:"mt-12 bg-white rounded-2xl shadow-lg border border-gray-100 p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Event Statistics"}),e.jsx("p",{className:"text-gray-600",children:"Track our community engagement through events"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-[#FF6600] mb-2",children:n.filter(U=>I(U.event_date)).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Upcoming Events"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-[#0057B7] mb-2",children:n.filter(U=>!I(U.event_date)).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Past Events"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-[#FF6600] mb-2",children:M.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Event Types"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-[#0057B7] mb-2",children:n.filter(U=>U.is_featured).length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Featured Events"})]})]})]})]})})},Gv=(o,s)=>{const[n,i]=N.useState(null),[c,l]=N.useState(null);return{draggedIndex:n,dragOverIndex:c,handleDragStart:y=>{i(y)},handleDragEnd:()=>{i(null),l(null)},handleDragOver:(y,v)=>{y.preventDefault(),n!==null&&n!==v&&l(v)},handleDrop:(y,v)=>{y.preventDefault(),n!==null&&n!==v&&s(n,v),i(null),l(null)},isDragging:n!==null}},Jv=async(o,s)=>{try{const n=s.map((l,u)=>({id:l.id,position:u})),{data:i,error:c}=await G.rpc("reorder_user_boards",{p_user_id:o,p_board_positions:n});if(c)throw console.error("Error reordering boards:",c),c;return i}catch(n){throw console.error("Failed to reorder boards:",n),n}},Kv=async o=>{try{const{data:s,error:n}=await G.rpc("get_next_board_position",{p_user_id:o});return n?(console.error("Error getting next position:",n),0):s||0}catch(s){return console.error("Failed to get next position:",s),0}},Yv=async o=>{try{try{const{data:i,error:c}=await G.from("user_boards").select(`
          *,
          board_pins(count)
        `).eq("user_id",o).order("position",{ascending:!0}).order("created_at",{ascending:!1});if(!c&&i)return i.map(u=>({...u,save_count:u.board_pins?.length||0,board_pins:void 0}))}catch{console.log("JOIN query failed, falling back to separate queries")}const{data:s,error:n}=await G.from("user_boards").select("*").eq("user_id",o).order("position",{ascending:!0}).order("created_at",{ascending:!1});if(n){if(n.message?.includes("position")||n.code==="42703"){console.log("Position column not found, falling back to created_at ordering");const{data:i,error:c}=await G.from("user_boards").select("*").eq("user_id",o).order("created_at",{ascending:!1});if(c)throw c.code==="PGRST116"||c.message?.includes('relation "user_boards" does not exist')?new Error("Boards feature not set up. Please run the database setup script."):c;return(i||[]).map(l=>({...l,save_count:0}))}throw n.code==="PGRST116"||n.message?.includes('relation "user_boards" does not exist')?new Error("Boards feature not set up. Please run the database setup script."):n}return(s||[]).map(i=>({...i,save_count:0}))}catch(s){throw console.error("Error loading boards:",s),s}},Xv=async(o,s)=>{try{let n=0;try{n=await Kv(o)}catch{console.log("Position function not available, using default position 0"),n=0}const{data:i,error:c}=await G.from("user_boards").insert({user_id:o,name:s.name,description:s.description,is_private:s.is_private,cover_image_url:s.cover_image_url,position:n}).select().single();if(c)throw c;return{...i,save_count:0}}catch(n){throw console.error("Error creating board:",n),n}},Zv=async(o,s,n,i)=>{const c=[...o],[l]=c.splice(s,1);c.splice(n,0,l);try{try{await Jv(i,c)}catch(u){if(u.message?.includes("position")||u.code==="42703")return console.log("Position column not available, skipping database update"),H.success("Board order updated locally! (Run database migration for persistence)",{duration:3e3,position:"top-right"}),c;throw u}return H.success("Board order updated!",{duration:2e3,position:"top-right"}),c}catch(u){throw H.error("Failed to update board order",{duration:3e3,position:"top-right"}),console.error("Reorder failed, rolling back:",u),u}},eb=o=>{const s=[];if((!o.name||o.name.trim().length===0)&&s.push("Board name is required"),o.name&&o.name.length>50&&s.push("Board name must be 50 characters or less"),o.description&&o.description.length>200&&s.push("Description must be 200 characters or less"),o.cover_image_url)try{const n=new URL(o.cover_image_url);["http:","https:"].includes(n.protocol)||s.push("Please enter a valid image URL")}catch{s.push("Please enter a valid image URL")}return{isValid:s.length===0,errors:s}},Cm=o=>o?o.replace(/<[^>]*>/g,"").trim():"",tb=o=>{if(!o)return!0;try{const s=new URL(o);return s.protocol==="http:"||s.protocol==="https:"}catch{return!1}},rb=({user:o,onBack:s,onViewBoard:n,onViewPublic:i})=>{const[c,l]=N.useState([]),[u,f]=N.useState({}),[g,p]=N.useState(!1),[y,v]=N.useState(!1),[w,k]=N.useState(null),[E,I]=N.useState({name:"",description:"",is_private:!1,cover_image_url:""}),[L,M]=N.useState({}),[U,R]=N.useState(null),[D,te]=N.useState(null),re=N.useCallback(async()=>{if(!G){R("Database not configured"),p(!1);return}if(!o?.id){l([]),p(!1);return}p(!0),R(null);try{const S=await Yv(o.id);l(S);const $={};S.forEach(se=>{$[se.id]=se.save_count}),f($)}catch(S){console.error("Error loading boards:",S),R(`Failed to load boards: ${S.message}`)}finally{p(!1)}},[o?.id]);N.useEffect(()=>{re()},[re]);const ae=async()=>{const S=eb(E);if(!S.isValid){S.errors.forEach($=>H.error($));return}p(!0);try{const $={name:Cm(E.name),description:Cm(E.description)||null,is_private:E.is_private,cover_image_url:E.cover_image_url.trim()||null},se=await Xv(o.id,$);l(xe=>[se,...xe]),f(xe=>({...xe,[se.id]:0})),le(),H.success("Board created successfully!")}catch($){console.error("Error creating board:",$),H.error("Failed to create board")}finally{p(!1)}},be=async S=>{const $=c.find(se=>se.id===S);$&&te($)},V=async()=>{if(D)try{const{error:S}=await G.from("user_boards").delete().eq("id",D.id);if(S)throw S;l($=>$.filter(se=>se.id!==D.id)),f($=>{const se={...$};return delete se[D.id],se}),M({}),te(null),H.success("Board deleted!")}catch(S){console.error("Error deleting board:",S),H.error("Failed to delete board")}},le=()=>{k(null),v(!1),I({name:"",description:"",is_private:!1,cover_image_url:""})},we=N.useCallback(async(S,$)=>{if(S!==$)try{const se=await Zv(c,S,$,o.id);l(se)}catch(se){console.error("Reorder failed:",se)}},[c,o.id]);N.useCallback((S,$)=>{console.log("Started reordering board:",$.name)},[]),N.useCallback(()=>{console.log("Finished reordering boards")},[]);const{draggedIndex:ke,dragOverIndex:oe,handleDragStart:de,handleDragEnd:ee,handleDragOver:B,handleDrop:j,isDragging:_}=Gv(c,we),A=S=>{S>0&&we(S,S-1)},z=S=>{S<c.length-1&&we(S,S+1)};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",style:{position:"relative",zIndex:1},children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:s,className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(rr,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:e.jsx(zt,{className:"w-8 h-8 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Boards"}),e.jsx("p",{className:"text-gray-600",children:"Organize and manage your saved posts"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:i,className:"px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-colors flex items-center gap-2 font-medium",children:[e.jsx(lt,{className:"w-5 h-5"}),"Public Boards"]}),e.jsxs("button",{onClick:()=>v(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2 font-medium",children:[e.jsx(Ke,{className:"w-5 h-5"}),"Create Board"]})]})]}),U&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Re,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Setup Required"}),e.jsx("p",{className:"text-gray-600 mb-4",children:U}),U.includes("not set up")&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4 text-left max-w-md mx-auto",children:e.jsx("p",{className:"text-sm text-yellow-800",children:"Run the SQL setup in your Supabase dashboard"})})]}),g&&!U&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your boards..."})]}),!g&&!U&&c.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(zt,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No Boards Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Create your first board to start organizing posts!"}),e.jsx("button",{onClick:()=>v(!0),className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors font-medium",children:"Create Your First Board"})]}),!g&&!U&&c.length>1&&e.jsx("div",{className:`mb-6 p-4 rounded-xl transition-all ${_?"bg-green-50 border-green-200":"bg-blue-50 border-blue-200"} border`,children:e.jsx("p",{className:"text-sm font-medium",children:_?" Drop to reorder":" Drag boards or use  buttons to reorder"})}),!g&&!U&&c.length>0&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:c.map((S,$)=>e.jsx("div",{children:e.jsxs("div",{draggable:!0,onDragStart:()=>de($),onDragEnd:ee,onDragOver:se=>B(se,$),onDrop:se=>j(se,$),className:`group bg-white rounded-3xl shadow-lg hover:shadow-2xl overflow-hidden border relative cursor-move transition-all ${ke===$?"opacity-50 scale-95 border-blue-500":oe===$?"border-green-500 bg-green-50 scale-105":"border-gray-100"}`,children:[c.length>1&&e.jsxs("div",{className:"absolute top-2 left-2 z-30 flex flex-col gap-1",children:[e.jsx("button",{onClick:se=>{se.stopPropagation(),A($)},disabled:$===0,className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white rounded text-xs flex items-center justify-center",title:"Move up",children:""}),e.jsx("button",{onClick:se=>{se.stopPropagation(),z($)},disabled:$===c.length-1,className:"w-6 h-6 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white rounded text-xs flex items-center justify-center",title:"Move down",children:""})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"relative h-40 bg-[#0057B7] overflow-hidden",children:[S.cover_image_url&&tb(S.cover_image_url)?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:S.cover_image_url,alt:S.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full h-full flex items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[#0057B7] opacity-90"}),e.jsx(zt,{className:"w-16 h-16 text-white opacity-80 relative z-10 group-hover:scale-125 transition-transform duration-300"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),e.jsxs("div",{className:"absolute top-3 right-3",children:[e.jsx("button",{onClick:se=>{se.stopPropagation(),M(xe=>({...xe,[S.id]:!xe[S.id]}))},className:"p-2 bg-white/20 backdrop-blur-sm text-white rounded-full hover:bg-white/30 transition-all duration-200 shadow-lg hover:shadow-xl",children:e.jsx(Ym,{className:"w-4 h-4"})}),L[S.id]&&e.jsx("div",{className:"absolute right-0 top-12 bg-white border rounded-xl shadow-2xl z-20 min-w-[140px] overflow-hidden",children:e.jsxs("button",{onClick:se=>{se.stopPropagation(),be(S.id)},className:"w-full px-4 py-3 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-3 transition-colors",children:[e.jsx(us,{className:"w-4 h-4"}),"Delete Board"]})})]}),e.jsx("div",{className:"absolute top-3 left-16",children:e.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-medium backdrop-blur-sm ${S.is_private?"bg-red-500/20 text-red-100 border border-red-400/30":"bg-green-500/20 text-green-100 border border-green-400/30"}`,children:S.is_private?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ar,{className:"w-3 h-3"}),"Private"]}):e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(lt,{className:"w-3 h-3"}),"Public"]})})}),e.jsx("div",{className:"absolute bottom-3 right-3",children:e.jsxs("div",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-bold text-gray-800 shadow-lg",children:[S.save_count||u[S.id]||0," saves"]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-2 group-hover:text-blue-600 transition-colors duration-200 line-clamp-1",children:S.name}),S.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2 leading-relaxed",children:S.description}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-pulse"}),"Created ",new Date(S.created_at).toLocaleDateString()]}),e.jsx("button",{onClick:se=>{se.stopPropagation(),n(S.id)},className:"text-xs font-medium text-blue-600 group-hover:text-blue-700 transition-colors hover:underline",children:"View Board "})]})]}),e.jsx("div",{className:"absolute inset-0 rounded-3xl bg-gradient-to-br from-blue-500/0 via-blue-500/0 to-blue-500/5 group-hover:from-blue-500/5 group-hover:via-blue-500/10 group-hover:to-blue-500/15 transition-all duration-500 pointer-events-none"})]})]})},S.id))}),y&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[100000] p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Create New Board"}),e.jsx("button",{onClick:le,className:"text-gray-400 hover:text-gray-600",children:e.jsx(Re,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Board Name *"}),e.jsx("input",{type:"text",value:E.name,onChange:S=>I($=>({...$,name:S.target.value})),placeholder:"e.g., Testing Resources",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:50})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:E.description,onChange:S=>I($=>({...$,description:S.target.value})),placeholder:"What's this board about?",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3,maxLength:200})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",id:"private-board",checked:E.is_private,onChange:S=>I($=>({...$,is_private:S.target.checked})),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("label",{htmlFor:"private-board",className:"text-sm text-gray-700 flex items-center gap-2",children:[E.is_private?e.jsx(Ar,{className:"w-4 h-4"}):e.jsx(lt,{className:"w-4 h-4"}),"Make this board private"]})]}),e.jsx("div",{className:`p-3 rounded-lg border ${E.is_private?"bg-orange-50 border-orange-200":"bg-blue-50 border-blue-200"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[E.is_private?e.jsx(Ar,{className:"w-4 h-4 text-orange-600 mt-0.5"}):e.jsx(lt,{className:"w-4 h-4 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-xs",children:[e.jsx("p",{className:`font-medium mb-1 ${E.is_private?"text-orange-800":"text-blue-800"}`,children:E.is_private?"Private Board":"Public Board"}),e.jsx("p",{className:E.is_private?"text-orange-700":"text-blue-700",children:E.is_private?"Only you can see this board and its saves.":"All verified users can discover and view this board and its saves."})]})]})})]})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsx("button",{onClick:le,className:"flex-1 px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:ae,disabled:!E.name.trim()||g,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:g?"Creating...":"Create Board"})]})]})}),e.jsx(Ua,{isOpen:!!D,onClose:()=>te(null),onConfirm:V,title:"Delete Board",message:"Are you sure you want to delete this board? All saves in this board will be permanently removed.",confirmText:"Delete Board",cancelText:"Cancel",type:"danger",itemName:D?.name,itemDescription:D?.description})]})})},sb=({boardId:o,user:s,onBack:n})=>{const[i,c]=N.useState(null),[l,u]=N.useState([]),[f,g]=N.useState(!0),[p,y]=N.useState(null),[v,w]=N.useState(null),[k,E]=N.useState({draggedIndex:null,dragOverIndex:null,isDragging:!1,dragStartPos:null}),I=N.useRef(null),L=N.useRef(null);N.useEffect(()=>{M()},[o]);const M=async()=>{if(!G){y("Database not configured"),g(!1);return}g(!0),y(null);try{const{data:B,error:j}=await G.from("user_boards").select("*").eq("id",o).single();let _=null;if(B&&!j){const{data:S}=await G.from("user_profiles").select("full_name, username, email").eq("user_id",B.user_id).single();_=S}if(j){if(j.code==="PGRST116"){y("Board not found or boards feature not set up");return}throw j}if(!B){y("Board not found");return}if(B.is_private&&B.user_id!==s?.id){y("This board is private and you do not have access");return}c({...B,user_profiles:_});const{data:A,error:z}=await G.from("board_pins").select("*").eq("board_id",o).order("created_at",{ascending:!1});if(z)console.error("Error loading saves:",z),z.code==="PGRST116"?(console.warn("Board saves table not found, showing empty board"),u([])):u([]);else{const S=(A||[]).map($=>({...$,post_title:$.post_title||"Untitled Post",post_content:$.post_content||"No content available",post_author:$.post_author||"Anonymous",post_category:$.post_category||"General",post_image_url:$.post_image_url||null,position:$.position||0})).sort(($,se)=>($.position||0)-(se.position||0));u(S)}}catch(B){console.error("Error loading board:",B),y(`Failed to load board: ${B.message}`)}finally{g(!1)}},U=async B=>{const j=l.find(_=>_.id===B);j&&w(j)},R=async()=>{if(v)try{const{error:B}=await G.from("board_pins").delete().eq("id",v.id);if(B)throw B;u(j=>j.filter(_=>_.id!==v.id)),w(null),H.success("Save removed")}catch(B){console.error("Error removing save:",B),H.error("Failed to remove save")}},D=N.useCallback(async(B,j)=>{if(B===j)return;const _=[...l],[A]=_.splice(B,1);_.splice(j,0,A),u(_);try{const z=_.map((S,$)=>G.from("board_pins").update({position:$}).eq("id",S.id));await Promise.all(z),H.success("Order updated")}catch{u(l),H.error("Failed to update order")}},[l]),te=N.useCallback((B,j)=>{const _=l[j];B.dataTransfer.effectAllowed="move",B.dataTransfer.setData("text/plain",JSON.stringify({index:j,id:_.id}));const A=document.createElement("div");A.className="fixed pointer-events-none z-[9999] bg-white border-2 border-[#0057B7] rounded-lg p-3 shadow-2xl max-w-xs transform rotate-1 opacity-90",A.innerHTML=`
      <div class="flex items-center gap-2">
        <div class="w-6 h-6 bg-gradient-to-br from-[#0057B7] to-blue-600 rounded flex items-center justify-center">
          <span class="text-white text-xs font-bold">${j+1}</span>
        </div>
        <div class="flex-1 min-w-0">
          <h4 class="font-semibold text-gray-900 truncate text-sm">${_.post_title}</h4>
          <p class="text-xs text-blue-600 font-medium">Moving...</p>
        </div>
      </div>
    `,document.body.appendChild(A),A.style.left="-9999px",A.style.top="-9999px",B.dataTransfer.setDragImage(A,100,30),L.current=A,requestAnimationFrame(()=>{E({draggedIndex:j,dragOverIndex:null,isDragging:!0,dragStartPos:{x:B.clientX,y:B.clientY}})}),I.current=setTimeout(()=>{L.current&&document.body.contains(L.current)&&(document.body.removeChild(L.current),L.current=null)},50)},[l]),re=N.useCallback(()=>{I.current&&clearTimeout(I.current),L.current&&document.body.contains(L.current)&&(document.body.removeChild(L.current),L.current=null),E({draggedIndex:null,dragOverIndex:null,isDragging:!1,dragStartPos:null})},[]),ae=N.useCallback((B,j)=>{B.preventDefault(),B.dataTransfer.dropEffect="move",k.draggedIndex!==null&&k.draggedIndex!==j&&E(_=>({..._,dragOverIndex:j}))},[k.draggedIndex]),be=N.useCallback((B,j)=>{B.preventDefault(),k.draggedIndex!==null&&k.draggedIndex!==j&&E(_=>({..._,dragOverIndex:j}))},[k.draggedIndex]),V=N.useCallback(B=>{B.preventDefault();const j=B.currentTarget.getBoundingClientRect(),{clientX:_,clientY:A}=B;(_<j.left-5||_>j.right+5||A<j.top-5||A>j.bottom+5)&&E(z=>({...z,dragOverIndex:null}))},[]),le=N.useCallback((B,j)=>{B.preventDefault();try{const A=JSON.parse(B.dataTransfer.getData("text/plain")).index;A!==j&&A>=0&&j>=0&&D(A,j)}catch(_){console.warn("Drop data parsing failed:",_)}E(_=>({..._,dragOverIndex:null}))},[D]),we=B=>{B>0&&D(B,B-1)},ke=B=>{B<l.length-1&&D(B,B+1)},oe=async()=>{if(ee)try{const B=!i.is_private,{error:j}=await G.from("user_boards").update({is_private:B}).eq("id",o);if(j)throw j;c(_=>({..._,is_private:B})),H.success(B?"Board made private":"Board published publicly")}catch(B){console.error("Error updating board visibility:",B),H.error("Failed to update board visibility")}},de=()=>{if(!i||l.length===0){H.error("No content to export");return}const B=window.open("","_blank"),j=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>${i.name}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 40px; line-height: 1.6; }
          .header { border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px; }
          .board-thumb { width: 100px; height: 60px; object-fit: cover; border-radius: 8px; margin-bottom: 10px; }
          .title { font-size: 24px; font-weight: bold; margin-bottom: 10px; }
          .meta { color: #666; font-size: 14px; }
          .post { margin-bottom: 30px; padding: 20px; border: 1px solid #ddd; page-break-inside: avoid; }
          .post-title { font-size: 18px; font-weight: bold; margin-bottom: 10px; }
          .post-meta { color: #666; font-size: 12px; margin-bottom: 15px; }
          .post-content { margin-bottom: 15px; }
          .post-image { max-width: 300px; height: auto; margin: 10px 0; border: 1px solid #ddd; }
          @media print { body { margin: 20px; } .post { page-break-inside: avoid; } }
        </style>
      </head>
      <body>
        <div class="header">
          ${i.cover_image_url?`<img src="${i.cover_image_url}" class="board-thumb" alt="Board thumbnail">`:""}
          <div class="title">${i.name}</div>
          <div class="meta">
            ${i.description||""}<br>
            Created: ${new Date(i.created_at).toLocaleDateString()}<br>
            By: ${i.user_profiles?.full_name||"Anonymous"}<br>
            Total Posts: ${l.length}
          </div>
        </div>
        ${l.map((_,A)=>`
          <div class="post">
            <div class="post-title">${A+1}. ${_.post_title}</div>
            <div class="post-meta">
              Author: ${_.post_author} | Category: ${_.post_category} | Saved: ${new Date(_.created_at).toLocaleDateString()}
            </div>
            ${_.post_image_url?`<img src="${_.post_image_url}" class="post-image" alt="Post image">`:""}
            <div class="post-content">${_.post_content}</div>
          </div>
        `).join("")}
      </body>
      </html>
    `;B.document.write(j),B.document.close(),B.focus(),setTimeout(()=>{B.print(),B.close()},250),H.success("PDF download started")},ee=i?.user_id===s?.id;return f?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",style:{paddingTop:"80px"},children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):p||!i?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",style:{paddingTop:"80px"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Board Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:p||"This board does not exist"}),e.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Go Back"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"80px"},children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-start gap-6 mb-8",children:[e.jsx("button",{onClick:n,className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 mt-2",children:e.jsx(rr,{className:"w-5 h-5"})}),i.cover_image_url&&e.jsx("div",{className:"w-32 h-20 rounded-lg overflow-hidden shadow-md flex-shrink-0",children:e.jsx("img",{src:i.cover_image_url,alt:i.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:i.name}),i.is_private?e.jsx(Ar,{className:"w-6 h-6 text-gray-500"}):e.jsx(lt,{className:"w-6 h-6 text-gray-500"})]}),i.description&&e.jsx("p",{className:"text-gray-600 mb-2",children:i.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["By ",i.user_profiles?.full_name||i.user_profiles?.username||i.user_profiles?.email||"Anonymous"]}),e.jsx("span",{children:""}),e.jsxs("span",{children:[l.length," saves"]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Created ",new Date(i.created_at).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:de,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium flex items-center gap-2 transition-colors",children:[e.jsx(ls,{className:"w-4 h-4"}),"Download PDF"]}),ee&&e.jsx("button",{onClick:oe,className:`px-4 py-2 rounded-lg font-medium flex items-center gap-2 transition-colors ${i.is_private?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 hover:bg-gray-700 text-white"}`,children:i.is_private?e.jsxs(e.Fragment,{children:[e.jsx(_o,{className:"w-4 h-4"}),"Publish Board"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ar,{className:"w-4 h-4"}),"Make Private"]})})]})]}),l.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx(zt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Saves Yet"}),e.jsx("p",{className:"text-gray-600",children:ee?"Start saving posts to this board!":"This board is empty."})]}):e.jsx("div",{className:`transition-all duration-300 ${k.isDragging?"space-y-1":"space-y-6"}`,children:l.map((B,j)=>e.jsxs("div",{draggable:ee,onDragStart:_=>te(_,j),onDragEnd:re,onDragOver:_=>ae(_,j),onDragEnter:_=>be(_,j),onDragLeave:V,onDrop:_=>le(_,j),className:`relative bg-white rounded-lg shadow-sm border transition-all duration-200 ${k.dragOverIndex===j&&k.draggedIndex!==j?"border-[#0057B7] shadow-lg bg-blue-50 transform scale-[1.01]":"border-gray-200"} ${k.draggedIndex===j?"opacity-50 transform scale-95 shadow-xl border-[#0057B7] z-50":""} ${ee?"hover:shadow-md hover:border-gray-300":""} ${k.isDragging&&k.draggedIndex!==j?"transform scale-98 shadow-sm":""}`,children:[k.dragOverIndex===j&&k.draggedIndex!==j&&e.jsx("div",{className:"absolute -top-1 left-0 right-0 h-1 bg-[#0057B7] rounded-full animate-pulse z-10"}),k.isDragging?e.jsx("div",{className:"p-2 border-l-4 border-l-[#0057B7]",children:e.jsxs("div",{className:"flex items-center gap-2",children:[ee&&k.draggedIndex===j&&e.jsx("div",{className:"p-1 rounded bg-[#0057B7] cursor-grabbing",children:e.jsx(Hh,{className:"w-3 h-3 text-white"})}),e.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-[#0057B7] to-blue-600 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white text-xs font-bold",children:j+1})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`font-medium truncate text-sm transition-colors ${k.draggedIndex===j?"text-[#0057B7]":"text-gray-900"}`,children:B.post_title}),e.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[e.jsx("span",{className:"text-xs text-gray-500 truncate",children:B.post_category||"General"}),e.jsx("span",{className:"text-xs text-gray-400",children:""}),e.jsx("span",{className:"text-xs text-gray-500 truncate",children:B.post_author||"Anonymous"})]})]}),k.draggedIndex===j&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-[#0057B7] rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-[#0057B7] font-medium",children:"Moving"})]})]})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[ee&&e.jsxs("div",{className:"flex flex-col gap-1 group",children:[e.jsxs("div",{className:"relative p-1 rounded-md bg-[#0057B7] hover:bg-blue-700 cursor-grab active:cursor-grabbing transition-all duration-200 hover:scale-110 hover:shadow-lg",title:"Drag to reorder posts",children:[e.jsx(Hh,{className:"w-4 h-4 text-white"}),e.jsx("div",{className:"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-900 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap pointer-events-none z-10",children:"Drag to reorder"})]}),e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("button",{onClick:()=>we(j),disabled:j===0,className:"p-1 text-[#0057B7] hover:text-white hover:bg-[#0057B7] disabled:opacity-30 disabled:cursor-not-allowed rounded transition-all duration-200",title:"Move up",children:e.jsx(kp,{className:"w-3 h-3"})}),e.jsx("button",{onClick:()=>ke(j),disabled:j===l.length-1,className:"p-1 text-[#0057B7] hover:text-white hover:bg-[#0057B7] disabled:opacity-30 disabled:cursor-not-allowed rounded transition-all duration-200",title:"Move down",children:e.jsx(Np,{className:"w-3 h-3"})})]})]}),e.jsx("span",{className:"bg-blue-100 text-blue-800 text-sm font-medium px-3 py-1 rounded-full",children:j+1}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:B.post_title||"Untitled Post"})]}),ee&&e.jsx("button",{onClick:()=>U(B.id),className:"p-2 text-gray-400 hover:text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:e.jsx(us,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"mb-4 flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:["By ",e.jsx("strong",{children:B.post_author||"Anonymous"})]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Category: ",e.jsx("strong",{children:B.post_category||"General"})]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Saved: ",new Date(B.created_at).toLocaleDateString()]}),B.post_id&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsxs("button",{onClick:()=>{if(window.location.pathname==="/"){const _=document.getElementById("community");_&&(_.scrollIntoView({behavior:"smooth"}),setTimeout(()=>{const A=document.getElementById(`post-${B.post_id}`);A&&(A.scrollIntoView({behavior:"smooth",block:"center"}),A.classList.add("ring-2","ring-blue-500","ring-opacity-50"),setTimeout(()=>{A.classList.remove("ring-2","ring-blue-500","ring-opacity-50")},3e3))},500))}else window.location.href=`/#community-post-${B.post_id}`},className:"text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1 transition-colors",children:[e.jsx(za,{className:"w-3 h-3"}),"View Source"]})]})]}),B.post_image_url&&e.jsx("div",{className:"mb-4",children:e.jsx("img",{src:B.post_image_url,alt:"Post image",className:"max-w-full h-auto rounded-lg border border-gray-200 shadow-sm",onError:_=>_.target.style.display="none"})}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("div",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:B.post_content&&B.post_content.trim()&&B.post_content!=="No content available"?B.post_content:"No content available"})})]})]},B.id))}),e.jsx(Ua,{isOpen:!!v,onClose:()=>w(null),onConfirm:R,title:"Remove Save",message:"Are you sure you want to remove this save from the board?",confirmText:"Remove Save",cancelText:"Cancel",type:"warning",itemName:v?.post_title,itemDescription:`By ${v?.post_author||"Anonymous"}  ${v?.post_category||"General"}`})]})})},Em=({user:o,onBack:s,onViewBoard:n})=>{const[i,c]=N.useState([]),[l,u]=N.useState(!0),[f,g]=N.useState(null);N.useEffect(()=>{p()},[]);const p=async()=>{if(!G){g("Database not configured"),u(!1);return}u(!0),g(null);try{console.log("Loading public boards for user:",o?.email);const{data:y,error:v}=await G.from("user_boards").select("*").eq("is_private",!1).neq("user_id",o?.id||"").order("created_at",{ascending:!1});if(console.log("Public boards query result:",{boardsData:y,boardsError:v}),v){if(v.code==="PGRST116"){g("Boards feature not set up");return}throw v}const w=await Promise.all((y||[]).map(async k=>{try{const{count:E}=await G.from("board_pins").select("*",{count:"exact",head:!0}).eq("board_id",k.id);return{...k,save_count:E||0}}catch(E){return console.warn(`Could not load save count for board ${k.id}:`,E),{...k,save_count:0}}}));c(w),console.log("Final public boards:",w)}catch(y){console.error("Error loading public boards:",y),g(`Failed to load public boards: ${y.message}`)}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen bg-gray-50",style:{paddingTop:"80px"},children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("button",{onClick:s,className:"p-2 text-gray-600 hover:text-gray-900 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(rr,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-xl",children:e.jsx(lt,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Public Boards"}),e.jsx("p",{className:"text-gray-600",children:"Discover boards shared by the community"})]})]})]}),l&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading public boards..."})]}),f&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(lt,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Unable to Load Boards"}),e.jsx("p",{className:"text-gray-600 mb-4",children:f})]}),!l&&!f&&i.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(lt,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No Public Boards Yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Be the first to share a public board with the community!"})]}),!l&&!f&&i.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-gray-600",children:["Found ",i.length," public board",i.length!==1?"s":""," shared by verified users"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:i.map(y=>e.jsxs("div",{onClick:()=>n(y.id),className:"group bg-white rounded-3xl shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer overflow-hidden transform hover:-translate-y-2 hover:scale-105 border border-gray-100",children:[e.jsxs("div",{className:"relative h-40 bg-[#0057B7] overflow-hidden",children:[y.cover_image_url?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:y.cover_image_url,alt:y.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full h-full flex items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-[#0057B7] opacity-90"}),e.jsx(zt,{className:"w-16 h-16 text-white opacity-80 relative z-10 group-hover:scale-125 transition-transform duration-300"})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("div",{className:"px-3 py-1 bg-green-500/20 text-green-100 border border-green-400/30 rounded-full text-xs font-medium backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(lt,{className:"w-3 h-3"}),"Public"]})})}),e.jsx("div",{className:"absolute bottom-3 right-3",children:e.jsxs("div",{className:"px-3 py-1 bg-white/90 backdrop-blur-sm rounded-full text-xs font-bold text-gray-800 shadow-lg",children:[y.save_count||0," saves"]})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-xl text-gray-900 mb-2 group-hover:text-green-600 transition-colors duration-200 line-clamp-1",children:y.name}),y.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2 leading-relaxed",children:y.description}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 bg-[#0057B7] rounded-full flex items-center justify-center",children:e.jsx(hs,{className:"w-3 h-3 text-white"})}),e.jsx("div",{className:"text-xs text-gray-600",children:e.jsx("div",{className:"font-medium",children:"Creator"})})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[e.jsx(Ut,{className:"w-3 h-3"}),new Date(y.created_at).toLocaleDateString()]})]}),e.jsx("div",{className:"mt-3 text-center",children:e.jsx("div",{className:"text-xs font-medium text-green-600 group-hover:text-green-700 transition-colors",children:"View Board "})})]}),e.jsx("div",{className:"absolute inset-0 rounded-3xl bg-[#0057B7]/0 group-hover:bg-[#0057B7]/5 transition-all duration-300 pointer-events-none"})]},y.id))})]})]})})},nb=()=>(N.useEffect(()=>{(async()=>{try{const{data:s,error:n}=await G.auth.getSession();if(n)throw n;s.session?(H.success("Successfully signed in!"),window.location.href="/"):(H.error("Authentication failed"),window.location.href="/")}catch(s){console.error("Auth callback error:",s),H.error("Authentication failed"),window.location.href="/"}})()},[]),e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Completing authentication..."})]})}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qc(){return Qc=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Qc.apply(this,arguments)}var Pm;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Pm||(Pm={}));function ds(o,s){if(o===!1||o===null||typeof o>"u")throw new Error(s)}function Tf(o){let s={};if(o){let n=o.indexOf("#");n>=0&&(s.hash=o.substr(n),o=o.substr(0,n));let i=o.indexOf("?");i>=0&&(s.search=o.substr(i),o=o.substr(0,i)),o&&(s.pathname=o)}return s}var Tm;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(Tm||(Tm={}));function ab(o,s){s===void 0&&(s="/");let{pathname:n,search:i="",hash:c=""}=typeof o=="string"?Tf(o):o;return{pathname:n?n.startsWith("/")?n:ib(n,s):s,search:ub(i),hash:hb(c)}}function ib(o,s){let n=s.replace(/\/+$/,"").split("/");return o.split("/").forEach(c=>{c===".."?n.length>1&&n.pop():c!=="."&&n.push(c)}),n.length>1?n.join("/"):"/"}function Ec(o,s,n,i){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ob(o){return o.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function lb(o,s){let n=ob(o);return s?n.map((i,c)=>c===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function cb(o,s,n,i){i===void 0&&(i=!1);let c;typeof o=="string"?c=Tf(o):(c=Qc({},o),ds(!c.pathname||!c.pathname.includes("?"),Ec("?","pathname","search",c)),ds(!c.pathname||!c.pathname.includes("#"),Ec("#","pathname","hash",c)),ds(!c.search||!c.search.includes("#"),Ec("#","search","hash",c)));let l=o===""||c.pathname==="",u=l?"/":c.pathname,f;if(u==null)f=n;else{let v=s.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;c.pathname=w.join("/")}f=v>=0?s[v]:"/"}let g=ab(c,f),p=u&&u!=="/"&&u.endsWith("/"),y=(l||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||y)&&(g.pathname+="/"),g}const db=o=>o.join("/").replace(/\/\/+/g,"/"),ub=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,hb=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o,Af=["post","put","patch","delete"];new Set(Af);const mb=["get",...Af];new Set(mb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(o){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},Gc.apply(this,arguments)}const If=N.createContext(null),Rf=N.createContext(null),$f=N.createContext(null),ud=N.createContext({outlet:null,matches:[],isDataRoute:!1});function Df(){return N.useContext($f)!=null}function Of(){return Df()||ds(!1),N.useContext($f).location}function Lf(o){N.useContext(Rf).static||N.useLayoutEffect(o)}function Ff(){let{isDataRoute:o}=N.useContext(ud);return o?yb():fb()}function fb(){Df()||ds(!1);let o=N.useContext(If),{basename:s,future:n,navigator:i}=N.useContext(Rf),{matches:c}=N.useContext(ud),{pathname:l}=Of(),u=JSON.stringify(lb(c,n.v7_relativeSplatPath)),f=N.useRef(!1);return Lf(()=>{f.current=!0}),N.useCallback(function(p,y){if(y===void 0&&(y={}),!f.current)return;if(typeof p=="number"){i.go(p);return}let v=cb(p,JSON.parse(u),l,y.relative==="path");o==null&&s!=="/"&&(v.pathname=v.pathname==="/"?s:db([s,v.pathname])),(y.replace?i.replace:i.push)(v,y.state,y)},[s,i,u,l,o])}var Mf=(function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o})(Mf||{}),Uf=(function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o})(Uf||{});function gb(o){let s=N.useContext(If);return s||ds(!1),s}function pb(o){let s=N.useContext(ud);return s||ds(!1),s}function xb(o){let s=pb(),n=s.matches[s.matches.length-1];return n.route.id||ds(!1),n.route.id}function yb(){let{router:o}=gb(Mf.UseNavigateStable),s=xb(Uf.UseNavigateStable),n=N.useRef(!1);return Lf(()=>{n.current=!0}),N.useCallback(function(c,l){l===void 0&&(l={}),n.current&&(typeof c=="number"?o.navigate(c):o.navigate(c,Gc({fromRouteId:s},l)))},[o,s])}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(o){return o===void 0&&(o=""),new URLSearchParams(typeof o=="string"||Array.isArray(o)||o instanceof URLSearchParams?o:Object.keys(o).reduce((s,n)=>{let i=o[n];return s.concat(Array.isArray(i)?i.map(c=>[n,c]):[[n,i]])},[]))}function vb(o,s){let n=Jc(o);return s&&s.forEach((i,c)=>{n.has(c)||s.getAll(c).forEach(l=>{n.append(c,l)})}),n}const bb="6";try{window.__reactRouterVersion=bb}catch{}var Am;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(Am||(Am={}));var Im;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(Im||(Im={}));function wb(o){let s=N.useRef(Jc(o)),n=N.useRef(!1),i=Of(),c=N.useMemo(()=>vb(i.search,n.current?null:s.current),[i.search]),l=Ff(),u=N.useCallback((f,g)=>{const p=Jc(typeof f=="function"?f(c):f);n.current=!0,l("?"+p,g)},[l,c]);return[c,u]}const jb=()=>{const[o]=wb(),s=Ff(),[n,i]=N.useState("verifying"),[c,l]=N.useState(null),[u,f]=N.useState(null),g=o.get("token"),p=o.get("email"),y=o.get("success"),v=o.get("error"),w=o.get("session");return N.useEffect(()=>{setTimeout(async()=>{if(Rt.isAuthenticated()){const E=Rt.getAuthStatus();console.log(" User already authenticated:",E.email),i("already_verified"),f(E),H.success("Welcome back! You're already signed in."),setTimeout(()=>{s("/",{replace:!0})},2e3);return}if(y==="true"&&w)try{const E=JSON.parse(atob(w)),I={email:E.email,verified:!0,deviceId:Rt.getDeviceId(),loginTime:Date.now(),expiresAt:Date.now()+720*60*60*1e3};localStorage.setItem("testingvala_session",JSON.stringify(I)),localStorage.setItem("user_email",E.email),localStorage.setItem("user_verified","true"),i("success"),f(I),H.success(" Email verified successfully!"),console.log(" Session created successfully",{email:E.email,deviceId:I.deviceId,expiresIn:"30 days"}),setTimeout(()=>{s("/",{replace:!0})},3e3);return}catch(E){console.error("Session parsing error:",E),i("error"),l({message:"Invalid session data"});return}if(v){console.warn("Verification error:",v),i("error"),l({message:{invalid_token:"The verification link is invalid or malformed.",expired_token:"The verification link has expired. Please request a new one.",verification_failed:"Verification failed due to a server error.",already_used:"This verification link has already been used."}[v]||"Verification failed. Please try again."});return}if(g&&p){try{await Rt.verifyToken(g,p),i("success");const E=Rt.getAuthStatus();f(E),H.success(" Email verified successfully!"),setTimeout(()=>{s("/",{replace:!0})},3e3)}catch(E){console.error("Token verification failed:",E),i("error"),l({message:E.message})}return}i("error"),l({message:"Invalid verification link. Missing required parameters."})},1500)},[g,p,y,v,w,s]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[n==="verifying"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Op,{className:"w-8 h-8 text-white animate-spin"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verifying Your Email"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please wait while we securely verify your email address and create your session..."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"animate-pulse bg-blue-200 h-2 rounded-full"}),e.jsx("div",{className:"animate-pulse bg-blue-100 h-2 rounded-full w-3/4 mx-auto"})]})]}),n==="already_verified"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx($n,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Already Signed In"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Welcome back! You're already authenticated as ",e.jsx("strong",{children:u?.email}),"."]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[e.jsx(qt,{className:"w-4 h-4"}),e.jsxs("span",{children:["Session expires: ",u?.expiresAt?new Date(u.expiresAt).toLocaleDateString():"Never"]})]})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting you to the platform..."})]}),n==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(bt,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Email Verified!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Welcome to TestingVala! Your email ",e.jsx("strong",{children:u?.email||p})," has been successfully verified."]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"text-sm text-green-800",children:[e.jsx("p",{className:"font-medium mb-2",children:" Authentication Complete!"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:" Secure session created (30-day duration)"}),e.jsx("li",{children:" Full access to all TestingVala features"}),e.jsx("li",{children:" Device-specific authentication for security"}),u?.deviceId&&e.jsxs("li",{children:[" Device ID: ",u.deviceId.substring(0,8),"..."]})]})]})}),e.jsx("p",{className:"text-sm text-gray-500",children:"Redirecting you to the platform..."})]}),n==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(Xe,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Verification Failed"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c?.message||"The verification link is invalid or has expired. Please try requesting a new magic link."}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"text-sm text-red-800",children:[e.jsx("p",{className:"font-medium mb-1",children:"Common Solutions:"}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsx("li",{children:" Check if the link was copied completely"}),e.jsx("li",{children:" Verification links expire after 24 hours"}),e.jsx("li",{children:" Each link can only be used once"}),e.jsx("li",{children:" Try requesting a new magic link"})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>s("/",{replace:!0}),className:"flex-1 bg-blue-600 text-white px-4 py-3 rounded-lg hover:bg-blue-700 font-medium",children:"Request New Link"}),e.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-gray-600 text-white px-4 py-3 rounded-lg hover:bg-gray-700 font-medium",children:"Try Again"})]})]})]})})},Nb=()=>{const[o,s]=N.useState(null),[n,i]=N.useState(null),[c,l]=N.useState(!1);return N.useEffect(()=>{},[]),null};class kb{constructor(){this.calls=new Map,this.callsByEndpoint=new Map,this.callsByComponent=new Map,this.duplicates=new Map,this.callCounter=0,this.startTime=Date.now(),this.isEnabled=!1,this.isEnabled&&(this.interceptSupabaseRequests(),this.interceptFetchRequests(),console.log(" Global API Logger initialized"))}interceptSupabaseRequests(){if(typeof window<"u"&&window.supabase){const s=window.supabase.from;window.supabase.from=n=>{const i=s.call(window.supabase,n),c=i.select;i.select=(...g)=>{const p=c.apply(i,g);return this.logCall(`supabase:${n}:select`,"Supabase","database",{table:n,operation:"select",args:g}),p};const l=i.insert;i.insert=(...g)=>{const p=l.apply(i,g);return this.logCall(`supabase:${n}:insert`,"Supabase","database",{table:n,operation:"insert",args:g}),p};const u=i.update;i.update=(...g)=>{const p=u.apply(i,g);return this.logCall(`supabase:${n}:update`,"Supabase","database",{table:n,operation:"update",args:g}),p};const f=i.delete;return i.delete=(...g)=>{const p=f.apply(i,g);return this.logCall(`supabase:${n}:delete`,"Supabase","database",{table:n,operation:"delete",args:g}),p},i}}}interceptFetchRequests(){if(typeof window<"u"){const s=window.fetch;window.fetch=(...n)=>{const i=n[0],c=n[1]||{};return this.logCall(`fetch:${i}`,"Fetch","http",{url:i,method:c.method||"GET",headers:c.headers}),s.apply(window,n)}}}logCall(s,n,i="api",c={}){if(!this.isEnabled)return;this.callCounter++;const l=`call_${this.callCounter}`,u=Date.now(),f=new Error().stack,g={id:l,endpoint:s,component:n,type:i,timestamp:u,timeFromStart:u-this.startTime,metadata:c,stack:f?f.split(`
`).slice(2,8):[]};this.calls.set(l,g),this.callsByEndpoint.has(s)||this.callsByEndpoint.set(s,[]),this.callsByEndpoint.get(s).push(g),this.callsByComponent.has(n)||this.callsByComponent.set(n,[]),this.callsByComponent.get(n).push(g);const y=this.callsByEndpoint.get(s).filter(v=>u-v.timestamp<5e3);if(y.length>1){const v=this.duplicates.get(s)||0;this.duplicates.set(s,v+1),console.group(` DUPLICATE API CALL #${this.callCounter}: ${s}`),console.warn(` Duplicate detected! ${y.length} calls in 5 seconds`),console.log(` Component: ${n}`),console.log(` Time: ${new Date(u).toISOString()}`),console.log(" Previous calls:",y.slice(0,-1)),console.groupEnd()}else console.log(` API Call #${this.callCounter}: ${s} (${n})`);return l}getStats(){const n=Date.now()-this.startTime,i={summary:{totalCalls:this.callCounter,uniqueEndpoints:this.callsByEndpoint.size,totalDuplicates:Array.from(this.duplicates.values()).reduce((l,u)=>l+u,0),duplicatePercentage:this.callCounter>0?Math.round(Array.from(this.duplicates.values()).reduce((l,u)=>l+u,0)/this.callCounter*100):0,sessionDuration:Math.round(n/1e3),callsPerMinute:this.callCounter>0?Math.round(this.callCounter/n*6e4):0},byEndpoint:{},byComponent:{},duplicates:Object.fromEntries(this.duplicates),timeline:[],recentCalls:[]};this.callsByEndpoint.forEach((l,u)=>{i.byEndpoint[u]={count:l.length,duplicates:this.duplicates.get(u)||0,firstCall:l[0].timestamp,lastCall:l[l.length-1].timestamp,components:[...new Set(l.map(f=>f.component))]}}),this.callsByComponent.forEach((l,u)=>{i.byComponent[u]={count:l.length,endpoints:[...new Set(l.map(f=>f.endpoint))],duplicates:l.reduce((f,g)=>{const p=this.duplicates.get(g.endpoint)||0;return f+(p>0?1:0)},0)}});const c=Array.from(this.calls.values()).sort((l,u)=>u.timestamp-l.timestamp);return i.timeline=c.slice(0,50).map(l=>({id:l.id,endpoint:l.endpoint,component:l.component,timestamp:l.timestamp,timeFromStart:l.timeFromStart})),i.recentCalls=c.slice(0,10),i}generateReport(){const s=this.getStats();return console.group(" COMPREHENSIVE API AUDIT REPORT"),console.log(" Generated at:",new Date().toISOString()),console.log(" Session duration:",`${s.summary.sessionDuration}s`),console.log(""),console.group(" SUMMARY STATISTICS"),console.log(`Total API calls: ${s.summary.totalCalls}`),console.log(`Unique endpoints: ${s.summary.uniqueEndpoints}`),console.log(`Duplicate calls: ${s.summary.totalDuplicates} (${s.summary.duplicatePercentage}%)`),console.log(`Calls per minute: ${s.summary.callsPerMinute}`),console.groupEnd(),s.summary.totalDuplicates>0&&(console.group(" DUPLICATE CALLS (ISSUES FOUND)"),Object.entries(s.duplicates).forEach(([n,i])=>{console.warn(`${n}: ${i} duplicates`)}),console.groupEnd()),console.group(" CALLS BY COMPONENT"),Object.entries(s.byComponent).sort(([,n],[,i])=>i.count-n.count).forEach(([n,i])=>{console.log(`${n}: ${i.count} calls (${i.endpoints.length} endpoints)`)}),console.groupEnd(),console.group(" CALLS BY ENDPOINT"),Object.entries(s.byEndpoint).sort(([,n],[,i])=>i.count-n.count).forEach(([n,i])=>{const c=i.duplicates>0?"":"";console.log(`${c} ${n}: ${i.count} calls${i.duplicates>0?` (${i.duplicates} duplicates)`:""}`)}),console.groupEnd(),console.group(" RECENT ACTIVITY (Last 10 calls)"),s.recentCalls.forEach(n=>{console.log(`${n.endpoint} (${n.component}) - ${new Date(n.timestamp).toLocaleTimeString()}`)}),console.groupEnd(),console.groupEnd(),s}clear(){this.calls.clear(),this.callsByEndpoint.clear(),this.callsByComponent.clear(),this.duplicates.clear(),this.callCounter=0,this.startTime=Date.now(),console.log(" API logs cleared")}exportData(){return{calls:Object.fromEntries(this.calls),stats:this.getStats(),timestamp:Date.now()}}}const hd=new kb,_b=()=>hd.getStats(),Sb=()=>hd.generateReport();typeof window<"u"&&(window.apiLogger=hd,window.generateApiReport=Sb,window.getApiStats=_b);const Cb=()=>{const[o,s]=N.useState(null),[n,i]=N.useState(!1),[c,l]=N.useState(!0);return N.useEffect(()=>{},[c]),null};let fo=0;const go=[];if(typeof window<"u"){const o=window.fetch;window.fetch=function(...s){fo++;const n=s[0],i=new Date().toISOString();return go.push({url:n,timestamp:i,type:"fetch"}),console.log(` API Call #${fo}: ${n}`),o.apply(this,s)},window.getApiStats=()=>({totalCalls:fo,calls:go,uniqueUrls:[...new Set(go.map(s=>s.url))].length}),window.clearApiStats=()=>{fo=0,go.length=0,console.log(" API stats cleared")},setTimeout(()=>{const s=window.getApiStats();console.group(" API OPTIMIZATION REPORT"),console.log(`Total API calls: ${s.totalCalls}`),console.log(`Unique URLs: ${s.uniqueUrls}`),console.log("All calls:",s.calls),s.totalCalls<=6?console.log(" OPTIMIZATION SUCCESS: Low API call count"):console.warn(" OPTIMIZATION NEEDED: High API call count"),console.groupEnd()},5e3)}const Eb=()=>{const[o,s]=N.useState(typeof window<"u"?window.location.pathname:"/"),[n,i]=N.useState({type:"list",boardId:null}),{user:c,isVerified:l}=Po(),{data:u,loading:f}=Ha(),g=!!u;N.useEffect(()=>{if(c&&l)try{Bt.loginAttempt(c.email,!0),Bt.emailVerified(c.email)}catch(w){console.warn("Analytics tracking failed:",w)}},[c,l]),N.useEffect(()=>{const w=()=>{const k=window.location.pathname;s(k),k!=="/boards"&&i({type:"list",boardId:null});try{Bt.pageView(k)}catch(I){console.warn("Analytics tracking failed:",I)}const E=window.location.hash;E.startsWith("#community-post-")&&setTimeout(()=>{const I=document.getElementById("community");if(I){I.scrollIntoView({behavior:"smooth"});const L=E.replace("#community-post-","");window.dispatchEvent(new CustomEvent("highlightPost",{detail:{postId:L}}))}},500)};return w(),window.addEventListener("popstate",w),window.addEventListener("hashchange",w),()=>{window.removeEventListener("popstate",w),window.removeEventListener("hashchange",w)}},[]);const p={hero:{headline:"Win Big with Your Testing Expertise",subtitle:"Show off your QA skills in our monthly contest! Share your best testing hacks, automation tricks, and innovative approaches.",badge:" Test Your QA Skills. Win Rewards. Build Your Career",stats:{participants:"500+",prizes:"$2,000+",support:"24/7"}},contest:{title:"January 2025 QA Contest",theme:"Testing Hacks & Smart Techniques",prizes:"1st Place: $500 | 2nd Place: $300 | 3rd Place: $200",submission:"Share your QA trick with detailed explanation and impact",deadline:"2025-01-31",status:"Active Now",stats:{participants:"2,500+",countries:"45+",submissions:"1,200+",winners:"36"}},winners:[{avatar:"",name:"Sarah Johnson",title:"QA Automation Expert",trick:"Implemented a robust test automation framework that reduced testing time by 60% while maintaining 99% accuracy."},{avatar:"",name:"Michael Chen",title:"Performance Testing Specialist",trick:"Developed innovative load testing strategies that identified critical bottlenecks before production deployment."},{avatar:"",name:"Emily Rodriguez",title:"Mobile Testing Guru",trick:"Created comprehensive mobile testing protocols that improved app stability across all device types."}],about:{description:"TestingVala.com is revolutionizing the QA industry by creating a platform where testing professionals can showcase their skills, learn from each other, and compete for recognition and rewards.",features:["Daily QA tips and best practices","Interview preparation resources","Process improvement techniques","Monthly QA contests with prizes"],stats:{members:"10,000+",tips:"500+",contests:"12+",countries:"50+"}},contact:{email:"info@testingvala.com",website:"www.testingvala.com",location:"Global QA Community",socialMedia:{instagram:"https://www.instagram.com/testingvala",youtube:"https://www.youtube.com/@TestingvalaOfficial",twitter:"https://twitter.com/testingvala",linkedin:"https://www.linkedin.com/company/testingvala"}}};if(f)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-[#FF6600] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700",children:"Loading TestingVala..."})]})});const y=u||{},v={hero:y.hero||p.hero,contest:y.contest||p.contest,winners:Array.isArray(y.winners)?y.winners:p.winners,about:y.about||p.about,contact:y.contact||p.contact};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(xp,{position:"bottom-left",toastOptions:{duration:4e3,style:{background:"#0057B7",color:"#fff",marginBottom:"20px",marginLeft:"20px"},success:{duration:3e3,style:{background:"#10B981",color:"#fff"},iconTheme:{primary:"#fff",secondary:"#10B981"}},error:{duration:4e3,style:{background:"#EF4444",color:"#fff"},iconTheme:{primary:"#fff",secondary:"#EF4444"}}}}),!g&&e.jsx("div",{className:"bg-orange-50 border-b border-orange-200 px-4 py-2",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-center gap-2 text-orange-800 text-sm",children:[e.jsx(Vp,{className:"w-4 h-4"}),e.jsx("span",{children:"Offline Mode - Using local data. Set up Supabase backend for full functionality."})]})}),e.jsx(wv,{}),e.jsx("main",{style:{paddingTop:"80px"},children:o==="/auth/callback"?e.jsx(nb,{}):o==="/auth/verify"?e.jsx(jb,{}):o==="/events"?e.jsx(Qv,{}):o==="/boards"?n.type==="detail"?e.jsx(sb,{boardId:n.boardId,user:c,onBack:()=>i({type:"list",boardId:null})}):n.type==="public"?e.jsx(Em,{user:c,onBack:()=>i({type:"list",boardId:null}),onViewBoard:w=>i({type:"detail",boardId:w})}):l?e.jsx(rb,{user:c,onBack:()=>{i({type:"list",boardId:null}),window.history.pushState({},"","/"),window.dispatchEvent(new PopStateEvent("popstate"))},onViewBoard:w=>i({type:"detail",boardId:w}),onViewPublic:()=>i({type:"public",boardId:null})}):e.jsx(Em,{user:c,onBack:()=>{i({type:"list",boardId:null}),window.history.pushState({},"","/"),window.dispatchEvent(new PopStateEvent("popstate"))},onViewBoard:w=>i({type:"detail",boardId:w})}):e.jsxs("div",{children:[e.jsx(jv,{data:v.hero}),e.jsx(qv,{}),e.jsx(Nv,{contestData:v.contest}),e.jsx(Ef,{data:v}),e.jsx(Wv,{data:v.about}),e.jsx(Vv,{data:v.contact})]},"home-content")}),e.jsx(Hv,{}),e.jsx(Nb,{}),e.jsx(Cb,{})]})};function Pb(){return e.jsx(vv,{children:e.jsx(_v,{children:e.jsx(Eb,{})})})}class Tb extends kg.Component{constructor(s){super(s),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(s,n){console.error("Error caught by boundary:",s,n),this.setState({error:s,errorInfo:n});try{const i={error:s&&s.toString()||String(s),stack:n?.componentStack||null,time:new Date().toISOString()};localStorage.setItem("last_app_error",JSON.stringify(i))}catch(i){console.warn("Failed to persist error to localStorage",i)}}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx(Xe,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),this.state.error&&e.jsx("div",{className:"text-left mb-6",children:e.jsxs("div",{className:"bg-gray-100 p-4 rounded text-xs text-gray-600 overflow-auto max-h-56",children:[e.jsx("div",{className:"font-semibold mb-1",children:"Error:"}),e.jsx("div",{className:"mb-3 whitespace-pre-wrap",children:this.state.error.toString()}),this.state.errorInfo&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-semibold mb-1",children:"Stack Trace:"}),e.jsx("div",{className:"whitespace-pre-wrap mb-3",children:this.state.errorInfo.componentStack})]}),e.jsx("div",{className:"font-semibold mb-1",children:"Persisted debug payload (localStorage: last_app_error)"}),e.jsx("pre",{className:"bg-white p-3 rounded text-xs text-gray-700 overflow-auto max-h-40",children:(()=>{try{const s=localStorage.getItem("last_app_error");return s?JSON.stringify(JSON.parse(s),null,2):"No persisted payload found."}catch{return"Failed to read last_app_error from localStorage."}})()}),e.jsxs("div",{className:"mt-3 flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>{try{const s=localStorage.getItem("last_app_error")||JSON.stringify({error:this.state.error.toString(),stack:this.state.errorInfo?.componentStack});navigator.clipboard?.writeText(s),alert("Error details copied to clipboard.")}catch{alert("Failed to copy. Open devtools console for more details.")}},className:"text-sm bg-gray-100 px-3 py-1 rounded hover:bg-gray-200",children:"Copy details"}),e.jsx("button",{onClick:()=>{try{const s=localStorage.getItem("last_app_error")||JSON.stringify({error:this.state.error.toString(),stack:this.state.errorInfo?.componentStack}),n=new Blob([s],{type:"application/json"}),i=URL.createObjectURL(n),c=document.createElement("a");c.href=i,c.download="last_app_error.json",c.click()}catch{alert("Failed to download error details.")}},className:"text-sm bg-gray-100 px-3 py-1 rounded hover:bg-gray-200",children:"Download JSON"})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-[#FF6600] text-white px-4 py-2 rounded-lg font-medium hover:bg-[#E55A00] transition-colors flex items-center justify-center gap-2",children:[e.jsx(Zm,{className:"w-4 h-4"}),"Refresh Page"]}),e.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"flex-1 bg-gray-200 text-gray-700 px-4 py-2 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Try Again"})]})]})}):this.props.children}}const Ab=({children:o})=>o;Pg.createRoot(document.getElementById("root")).render(e.jsx(Ab,{children:e.jsx(Tb,{children:e.jsx(Pb,{})})}));
