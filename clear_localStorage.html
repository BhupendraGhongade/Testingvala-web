<!DOCTYPE html>
<html>
<head>
    <title>Clear localStorage</title>
</head>
<body>
    <h1>Clear localStorage Posts</h1>
    <button onclick="clearPosts()">Clear All Posts</button>
    <div id="result"></div>
    
    <script>
        function clearPosts() {
            // Clear all post-related localStorage items
            localStorage.removeItem('local_forum_posts');
            localStorage.removeItem('posts_cleared_by_admin');
            localStorage.removeItem('force_clear_posts');
            
            // Set force clear flag
            localStorage.setItem('force_clear_posts', 'true');
            localStorage.setItem('posts_cleared_by_admin', Date.now().toString());
            
            document.getElementById('result').innerHTML = '<p style="color: green;">All posts cleared from localStorage!</p>';
            
            // Reload the main site after 2 seconds
            setTimeout(() => {
                window.open('http://localhost:5173', '_blank');
            }, 2000);
        }
        
        // Show current localStorage content
        window.onload = function() {
            const posts = localStorage.getItem('local_forum_posts');
            const parsed = posts ? JSON.parse(posts) : [];
            document.getElementById('result').innerHTML = `<p>Current posts in localStorage: ${parsed.length}</p>`;
        }
    </script>
</body>
</html>